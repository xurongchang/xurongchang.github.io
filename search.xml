<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title> Springæ•´åˆMybatiså‡ºç°Access denied for user &#39;Think&#39;@&#39;localhost&#39; (using password: YES)</title>
      <link href="posts/8be34fcd/"/>
      <url>posts/8be34fcd/</url>
      
        <content type="html"><![CDATA[<p> åœ¨æ•´åˆmybatisæ—¶å‡ºç°Access denied for user â€˜Thinkâ€™@â€™localhostâ€™ (using password: YES)</p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/image-20200305143749419.png" alt="image-20200305143749419"></p><p>æ‰¾äº†å¥½åŠå¤©ï¼Œç½‘ä¸Šå¥½å¤šæ”¹å¯†ç ã€‚å‘ç°æ²¡ä»€ä¹ˆç”¨ï¼Œå¯èƒ½æ˜¯æˆ‘é—®é¢˜æè¿°å¾—ä¸æ¸…æ¥šã€‚</p><p>åæ¥çœ‹äº†<a href="https://www.cnblogs.com/xss512/">å°å°é…¥512</a>æ‰çŸ¥é“é—®é¢˜</p><p>db.properties</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://localhost:3306/mybatis?useSSL=true&amp;useUnicode=true&amp;characterEncoding=UTF-8</span></span><br><span class="line"><span class="attr">username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">123456</span></span><br></pre></td></tr></table></figure><p>spring-dao.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;db.properties&quot;</span> <span class="attr">system-properties-mode</span>=<span class="string">&quot;NEVER&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®æ•°æ®æº--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span> <span class="attr">init-method</span>=<span class="string">&quot;init&quot;</span> <span class="attr">destroy-method</span>=<span class="string">&quot;close&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;username&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;password&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é—®é¢˜åŸå› ï¼š</p><p>åœ¨ç³»ç»Ÿä¸­ä¹Ÿæœ‰ä¸ªusernameå±æ€§ï¼Œè¿™æ—¶ç³»ç»Ÿå˜é‡è¦†ç›–äº†Propertiesä¸­çš„å€¼ï¼Œè¿™æ—¶å–å¾—usernameçš„å€¼ä¸ºç³»ç»Ÿçš„ç”¨æˆ·åAdministratorï¼Œå¯†ç ä¸ºpropertiesä¸­çš„passwordå»æŸ¥è¯¢æ•°æ®åº“ï¼Œæ­¤æ—¶ç”¨æˆ·ååå’Œå¯†ç å¹¶ä¸åŒ¹é…å°±ä¼šæŠ¥é”™ã€‚åœ¨Springå®Œæˆæ³¨å…¥æ—¶æ˜¯ç”¨ â€œ${..}â€  æ–¹å¼è·å–å€¼å®Œæˆæ³¨å…¥çš„ã€‚è€Œé€šè¿‡è¿™ç§è¡¨è¾¾å¼ä¹Ÿèƒ½ç›´æ¥è·å–åˆ°JVMç³»ç»Ÿå±æ€§â€¦â€¦â€¦.</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><p>æ–¹æ¡ˆä¸€ï¼š</p><p>å°†propertiesæ–‡ä»¶ä¸­çš„usernameæ¢æˆuseræˆ–å…¶ä»–å°±å­—ç¬¦ä¸²å°±å¯ä»¥æˆåŠŸè·å–è¿æ¥è®¿é—®æ•°æ®åº“ã€‚å»ºè®®ï¼šusernameæ—¶æ•æ„Ÿè¯æ±‡ï¼Œä¸ºäº†å®‰å…¨èµ·è§è¿˜æ˜¯å°½é‡ä¸è¦ä½¿ç”¨usernameã€‚</p><p>æ–¹æ¡ˆäºŒï¼š</p><p>åœ¨Springé…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹æˆï¼š&lt;context:property-placeholder location=â€classpath:/db.propertiesâ€ system-properties-mode=â€NEVERâ€/&gt; æ·»åŠ ä¸€ä¸ªsystem-properties-modeå±æ€§ </p><p>è¯¥å±æ€§æœ‰4ä¸ªå±æ€§ï¼š</p><ul><li><p>ENVIRONMENTâ€ï¼šè¡¨ç¤ºå ä½ç¬¦åº”è¯¥é’ˆå¯¹å½“å‰ç¯å¢ƒå’Œä»»ä½•æœ¬åœ°å±æ€§è¿›è¡Œè§£æ;(ä»Spring 3.1å¼€å§‹</p><p>å±æ€§å€¼é»˜è®¤ä¸ºâ€œENVIRONMENTâ€)</p></li><li><p>â€œNEVERâ€ï¼šè¡¨ç¤ºå ä½ç¬¦åªé’ˆå¯¹æœ¬åœ°å±æ€§è§£æï¼Œè€Œä¸é’ˆå¯¹ç³»ç»Ÿå±æ€§è§£æ;</p></li><li><p>â€œFALLBACKâ€ï¼šè¡¨ç¤ºå ä½ç¬¦åº”è¯¥é’ˆå¯¹ä»»ä½•æœ¬åœ°å±æ€§è¿›è¡Œè§£æï¼Œç„¶åé’ˆå¯¹ç³»ç»Ÿå±æ€§è¿›è¡Œè§£æ;</p></li><li><p>â€œOVERRIDEâ€ï¼šè¡¨ç¤ºå ä½ç¬¦åº”è¯¥é¦–å…ˆé’ˆå¯¹ç³»ç»Ÿå±æ€§è¿›è¡Œè§£æï¼Œç„¶åé’ˆå¯¹ä»»ä½•æœ¬åœ°å±æ€§è¿›è¡Œè§£æ;ã€€ã€€ã€€ã€€ã€€ã€€</p></li></ul><p><strong>åŸæ–‡ï¼š</strong></p><pre><code>Controls how to resolve placeholders against system properties. As of Spring 3.1, this    attribute value defaults to &quot;ENVIRONMENT&quot;, indicating that resolution of placeholders    against system properties is handled via PropertySourcesPlaceholderConfigurer and its    delegation to the current Spring Environment object.For maximum backward compatibility, this attribute is preserved going forward with the3.1 version of the context schema, and any values other than the default &quot;ENVIRONMENT&quot;will cause a traditional PropertyPlaceholderConfigurer to be registered instead of thenewer PropertySourcesPlaceholderConfigurer variant. In this case, the Spring Environmentand its property sources are not interrogated when resolving placeholders. Users areencouraged to consider this attribute deprecated, and to take advantage of theEnvironment and PropertySource mechanisms. See ConfigurableEnvironment javadoc for examples.&quot;ENVIRONMENT&quot; indicates placeholders should be resolved against the current Environment and against any local properties;&quot;NEVER&quot; indicates placeholders should be resolved only against local properties and never against system properties;&quot;FALLBACK&quot; indicates placeholders should be resolved against any local properties and then against system properties;&quot;OVERRIDE&quot; indicates placeholders should be resolved first against system properties and then against any local properties;</code></pre><p><strong>æœºç¿»ï¼š</strong></p><p>æ§åˆ¶å¦‚ä½•æ ¹æ®ç³»ç»Ÿå±æ€§è§£æå ä½ç¬¦ã€‚ä»Spring 3.1å¼€å§‹</p><p>å±æ€§å€¼é»˜è®¤ä¸ºâ€œENVIRONMENTâ€ï¼Œè¡¨ç¤ºå ä½ç¬¦çš„è§£æ</p><p>å¯¹ç³»ç»Ÿå±æ€§çš„å¤„ç†æ˜¯é€šè¿‡PropertySourcesPlaceholderConfigureråŠå…¶</p><p>å§”æ‰˜ç»™å½“å‰Springç¯å¢ƒå¯¹è±¡ã€‚</p><p>ä¸ºäº†è·å¾—æœ€å¤§çš„å‘åå…¼å®¹æ€§ï¼Œæ­¤å±æ€§åœ¨å‘å‰æ‰§è¡Œæ—¶ä¿ç•™</p><p>3.1ä¸Šä¸‹æ–‡æ¨¡å¼çš„ç‰ˆæœ¬ï¼Œä»¥åŠé™¤é»˜è®¤â€œç¯å¢ƒâ€ä¹‹å¤–çš„ä»»ä½•å€¼</p><p>ä¼šå¯¼è‡´æ³¨å†Œä¸€ä¸ªä¼ ç»Ÿçš„PropertyPlaceholderConfigurerè€Œä¸æ˜¯</p><p>æ–°PropertySourcesPlaceholderConfigurerå˜ä½“ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæ˜¯Springç¯å¢ƒ</p><p>åœ¨è§£æå ä½ç¬¦æ—¶ï¼Œä¸ä¼šè¯¢é—®å®ƒçš„å±æ€§æºã€‚ç”¨æˆ·</p><p>å»ºè®®è€ƒè™‘ä¸èµæˆä½¿ç”¨æ­¤å±æ€§ï¼Œå¹¶åˆ©ç”¨</p><p>ç¯å¢ƒå’Œå±æ€§æºæœºåˆ¶ã€‚æœ‰å…³ç¤ºä¾‹ï¼Œè¯·å‚è§ConfigurableEnvironment javadocã€‚</p><p>â€œENVIRONMENTâ€ï¼šè¡¨ç¤ºå ä½ç¬¦åº”è¯¥é’ˆå¯¹å½“å‰ç¯å¢ƒå’Œä»»ä½•æœ¬åœ°å±æ€§è¿›è¡Œè§£æ;</p><p>â€œNEVERâ€ï¼šè¡¨ç¤ºå ä½ç¬¦åªé’ˆå¯¹æœ¬åœ°å±æ€§è§£æï¼Œè€Œä¸é’ˆå¯¹ç³»ç»Ÿå±æ€§è§£æ;</p><p>â€œå›é€€â€ï¼šè¡¨ç¤ºå ä½ç¬¦åº”è¯¥é’ˆå¯¹ä»»ä½•æœ¬åœ°å±æ€§è¿›è¡Œè§£æï¼Œç„¶åé’ˆå¯¹ç³»ç»Ÿå±æ€§è¿›è¡Œè§£æ;</p><p>â€œOVERRIDEâ€ï¼šè¡¨ç¤ºå ä½ç¬¦åº”è¯¥é¦–å…ˆé’ˆå¯¹ç³»ç»Ÿå±æ€§è¿›è¡Œè§£æï¼Œç„¶åé’ˆå¯¹ä»»ä½•æœ¬åœ°å±æ€§è¿›è¡Œè§£æ;</p>]]></content>
      
      
      <categories>
          
          <category> é—®é¢˜ </category>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‘ç°è§£å†³é—®é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring &amp; Mybatis æ•´åˆ</title>
      <link href="posts/e147a258/"/>
      <url>posts/e147a258/</url>
      
        <content type="html"><![CDATA[<p><strong>ç›®å½•ç»“æ„ï¼š</strong></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/image-20200305145807737.png" alt="image-20200305145807737"></p><p><strong>æ‰€éœ€è¦å¾—JaråŒ…ï¼š</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- spring-webmvc --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--junit--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13-beta-1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--mybatis--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--mysqlé©±åŠ¨--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--spring-jdbc--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--aspectjweaver--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--mybatis-spring--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--lombok--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--druid--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.21<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1ã€ç¼–å†™å®ä½“ç±»ã€æ¥å£ã€æ˜ å°„æ–‡ä»¶ã€db-propertiesã€mybatis-config-xmlã€spring-dao-xml"><a href="#1ã€ç¼–å†™å®ä½“ç±»ã€æ¥å£ã€æ˜ å°„æ–‡ä»¶ã€db-propertiesã€mybatis-config-xmlã€spring-dao-xml" class="headerlink" title="1ã€ç¼–å†™å®ä½“ç±»ã€æ¥å£ã€æ˜ å°„æ–‡ä»¶ã€db.propertiesã€mybatis-config.xmlã€spring-dao.xml"></a>1ã€ç¼–å†™å®ä½“ç±»ã€æ¥å£ã€æ˜ å°„æ–‡ä»¶ã€db.propertiesã€mybatis-config.xmlã€spring-dao.xml</h2><p><strong>å®ä½“ç±»ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xu.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Users</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String pwd;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>daoå±‚æ¥å£ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xu.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.xu.pojo.Users;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UsersMapper</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Users&gt; <span class="title">select</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>mapperæ˜ å°„æ–‡ä»¶ï¼š</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.xu.mapper.UsersMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;select&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;users&quot;</span>&gt;</span></span><br><span class="line">        select * from mybatis.user</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>db.properties:</strong></p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://localhost:3306/mybatis?useSSL=true&amp;useUnicode=true&amp;characterEncoding=UTF-8</span></span><br><span class="line"><span class="attr">username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">123456</span></span><br></pre></td></tr></table></figure><hr><p><strong>mybatis-config.xml:</strong></p><p>è™½ç„¶å¯ä»¥å…¨éƒ¨åœ¨springé…ç½®ï¼Œè¿˜æ˜¯æŠŠåˆ«åå’Œæ³¨å†ŒMapperæ”¾åˆ°è¿™é‡Œ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.xu.pojo&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">   </span><br><span class="line">    <span class="comment">&lt;!--æ¯ä¸€ä¸ªxxxMapper.xmléƒ½è¦åœ¨è¿™é‡Œæ³¨å†Œ--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/xu/mapper/UsersMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>spring-dao.xmlï¼š</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">            http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--åŠ è½½db.properties--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;db.properties&quot;</span> <span class="attr">system-properties-mode</span>=<span class="string">&quot;NEVER&quot;</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--é…ç½®æ•°æ®æº--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span> <span class="attr">init-method</span>=<span class="string">&quot;init&quot;</span> <span class="attr">destroy-method</span>=<span class="string">&quot;close&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;username&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;password&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--sqlSessionFactory--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;configLocation&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:mybatis-config.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;usermapper&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xu.mapper.UserMapperImpl&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;sqlSessionFactory&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="2ã€ç¼–å†™å®ç°ç±»-UserMapperImpl-ï¼Œå¹¶æ³¨å†Œåˆ°Spring"><a href="#2ã€ç¼–å†™å®ç°ç±»-UserMapperImpl-ï¼Œå¹¶æ³¨å†Œåˆ°Spring" class="headerlink" title="2ã€ç¼–å†™å®ç°ç±»(UserMapperImpl)ï¼Œå¹¶æ³¨å†Œåˆ°Spring"></a>2ã€ç¼–å†™å®ç°ç±»(UserMapperImpl)ï¼Œå¹¶æ³¨å†Œåˆ°Spring</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xu.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.xu.pojo.Users;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.support.SqlSessionDaoSupport;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserMapperImpl</span> <span class="keyword">extends</span> <span class="title">SqlSessionDaoSupport</span> <span class="keyword">implements</span> <span class="title">UsersMapper</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Users&gt; <span class="title">select</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getSqlSession().getMapper(UsersMapper.class).select();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3ã€æµ‹è¯•"><a href="#3ã€æµ‹è¯•" class="headerlink" title="3ã€æµ‹è¯•"></a>3ã€æµ‹è¯•</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.xu.mapper.UsersMapper;</span><br><span class="line"><span class="keyword">import</span> com.xu.pojo.Users;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Test01</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;spring-dao.xml&quot;</span>);</span><br><span class="line">        UsersMapper usermapper = context.getBean(<span class="string">&quot;usermapper&quot;</span>, UsersMapper.class);</span><br><span class="line">        <span class="keyword">for</span> (Users users : usermapper.select()) &#123;</span><br><span class="line">            System.out.println(users);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/image-20200305155840001.png" alt="image-20200305155840001"></p>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
          <category> spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
            <tag> æ•´åˆ </tag>
            
            <tag> Mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•å°†Hexoåšå®¢è¿ç§»åˆ°æ–°è®¾å¤‡</title>
      <link href="posts/767a5efb/"/>
      <url>posts/767a5efb/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å‰è¨€</p><p>ç”±äºé‡è£…äº†ç³»ç»Ÿï¼Œåšå®¢ç¯å¢ƒä¹Ÿè¦è·Ÿç€è¿ç§»ã€‚çœ‹äº†ç½‘ä¸Šäº†ä¸€ç³»åˆ—çš„æ•™ç¨‹ï¼Œè¯´è¦æŠŠå¿…è¦çš„ä¸Šä¼ åˆ°GitHubçš„æ–°åˆ†æ”¯ä¸Šä¿å­˜ã€‚æ„Ÿè§‰éå¸¸éº»çƒ¦ï¼Œæ€è€ƒä¸‹ä¹‹åå°±ç”¨è‡ªå·±çš„æ–¹æ³•äº†ï¼Œç»“æœæ²¡é—®é¢˜ã€‚è¯´å®è¯æœ‰ç‚¹æ‡µé€¼ï¼Œå¤ªç®€å•äº†ã€‚ä¸çŸ¥é“æ˜¯å› ä¸ºæ˜¯å¤§ä½¬gitç©å¾—æºœè¿˜æ˜¯å­˜åœ¨ä»€ä¹ˆé—®é¢˜æˆ‘ä¸çŸ¥é“ï¼è‡³å°‘æˆ‘ç°åœ¨ç”¨ç€æŒºå¥½çš„ã€‚</p></blockquote><h1 id="ç›¸å…³æ­¥éª¤"><a href="#ç›¸å…³æ­¥éª¤" class="headerlink" title="ç›¸å…³æ­¥éª¤"></a>ç›¸å…³æ­¥éª¤</h1><blockquote><p>1ã€å°†åšå®¢æ–‡ä»¶å¤¹æ•´ä½“å‘é€åˆ°æ–°çš„è®¾å¤‡</p><p>2ã€å®‰è£…Node.jsã€Gitç¯å¢ƒï¼Œé…ç½®å¥½npmçš„æº</p><p>3ã€å°†Gitå·¥å…·è¿æ¥åˆ°GitHubï¼Œå…·ä½“å¯ä»¥åœ¨Hexoåˆ†ç±»ï¼ŒHexo+GitHubPagesæ­å»ºåšå®¢é‚£ç¯‡æœ‰è¯´ï¼›</p><p>4ã€ä¸‹è½½å’Œå®‰è£…Hexo (åœ¨åšå®¢ç›®å½•ä¸‹ä½¿ç”¨)</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br><span class="line"></span><br><span class="line">npm install </span><br></pre></td></tr></table></figure><p>5ã€åƒä¹‹å‰ä¸€æ ·æ¸…ç†ã€ç”Ÿæˆã€å¯åŠ¨ï¼Œå°±å¯ä»¥åœ¨æœ¬åœ°é¢„è§ˆäº†ï¼</p></blockquote><p><strong>è‡³æ­¤ï¼Œåšå®¢è¿ç§»å®Œæˆã€‚è¯·æ„‰å¿«çš„å†™ä½œå§ï¼</strong></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> åšè¿ç§»å®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JDKç¯å¢ƒå˜é‡é…ç½®</title>
      <link href="posts/3f60947a/"/>
      <url>posts/3f60947a/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å‰è¨€</p><p>ç”±äºç³»ç»Ÿé‡è£…äº†ï¼Œä¸€åˆ‡éƒ½è¦å¼€å¤´å†æ¥ï¼è™½ç„¶ç¹çï¼Œä½†é‚£æ€»æ¸…ç†å¹²å‡€çš„æ„Ÿè§‰çœŸçš„å¾ˆèˆ’æœã€‚åˆ°è£…JDKçš„æ—¶å€™ï¼Œå¿˜è®°ç¯å¢ƒå˜é‡æ€ä¹ˆé…äº†(ğŸ¤£ğŸ¤£ğŸ¤£)ã€‚é—²ç€ä¹Ÿæ˜¯æ²¡äº‹è®°å½•ä¸€ä¸‹å§ï¼Œè¯´ä¸å®šä»¥åæœ‰æœºä¼šç”¨åˆ°å‘¢ï¼Œä¹Ÿå¯ä»¥å¸®åŠ©åˆ°éœ€è¦çš„äºº</p></blockquote><h1 id="ä¸‹è½½å®‰è£…JDK"><a href="#ä¸‹è½½å®‰è£…JDK" class="headerlink" title="ä¸‹è½½å®‰è£…JDK"></a>ä¸‹è½½å®‰è£…JDK</h1><blockquote><p>å…³äºOracleè´¦å·</p><p>ç½‘ä¸Šæœ‰è®¸å¤šçƒ­å¿ƒç½‘å‹åˆ†äº«çš„Oracleè´¦å·ï¼Œæˆ‘ä»¬æ‹¿æ¥ç”¨å°±å¯ä»¥äº†ã€‚åƒä¸‡ä¸è¦æç ´åï¼ï¼ï¼</p></blockquote><p><strong>JDKçš„åœ°å€ï¼š</strong><a href="https://www.oracle.com/java/technologies/javase-downloads.html">https://www.oracle.com/java/technologies/javase-downloads.html</a></p><h1 id="é…ç½®ç¯å¢ƒå˜é‡"><a href="#é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="é…ç½®ç¯å¢ƒå˜é‡"></a>é…ç½®ç¯å¢ƒå˜é‡</h1><h2 id="æ‰“å¼€é…ç½®çª—å£"><a href="#æ‰“å¼€é…ç½®çª—å£" class="headerlink" title="æ‰“å¼€é…ç½®çª—å£"></a>æ‰“å¼€é…ç½®çª—å£</h2><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/image-20201216081849344.png" alt="image-20201216081849344"></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/image-20201216082106293.png" alt="image-20201216082106293"></p><h2 id="æ·»åŠ JAVA-HOMEç¯å¢ƒå˜é‡"><a href="#æ·»åŠ JAVA-HOMEç¯å¢ƒå˜é‡" class="headerlink" title="æ·»åŠ JAVA_HOMEç¯å¢ƒå˜é‡"></a>æ·»åŠ JAVA_HOMEç¯å¢ƒå˜é‡</h2><blockquote><p><strong>åœ¨ç³»ç»Ÿå˜é‡ä¸­æ–°å»ºä¸€ä¸ª <code>JAVA_HOME</code>çš„å˜é‡åï¼Œå˜é‡å€¼ä¸º <font color=red>ä½ çš„JDKçš„å®‰è£…ç›®å½•</font>ã€‚å¦‚ï¼šE:\Java\jdk1.8.0_271</strong></p></blockquote><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/image-20201216082349114.png" alt="image-20201216082349114"></p><h2 id="æ·»åŠ CLASSPATH-ç¯å¢ƒå˜é‡"><a href="#æ·»åŠ CLASSPATH-ç¯å¢ƒå˜é‡" class="headerlink" title="æ·»åŠ CLASSPATH ç¯å¢ƒå˜é‡"></a>æ·»åŠ CLASSPATH ç¯å¢ƒå˜é‡</h2><blockquote><p><strong>åœ¨ç³»ç»Ÿå˜é‡ä¸­æ–°å»ºä¸€ä¸ª <code>JAVA_HOME</code>çš„å˜é‡å,å˜é‡å€¼ä¸º</strong><code>.;%JAVA_HOME%\lib;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar</code></p></blockquote><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/image-20201216083240169.png" alt="image-20201216083240169"></p><h2 id="æ·»åŠ åˆ°Pathç¯å¢ƒå˜é‡"><a href="#æ·»åŠ åˆ°Pathç¯å¢ƒå˜é‡" class="headerlink" title="æ·»åŠ åˆ°Pathç¯å¢ƒå˜é‡"></a>æ·»åŠ åˆ°Pathç¯å¢ƒå˜é‡</h2><blockquote><p><strong>åœ¨ç³»ç»Ÿå˜é‡ä¸­æ‰¾åˆ°ä¸€ä¸ª <code>path</code>çš„å˜é‡å,é€‰æ‹©åç‚¹å‡»ç¼–è¾‘ï¼Œè¿½åŠ ä¸‹é¢ä¸¤æ¡</strong></p><p><code>%JAVA_HOME%\bin</code></p><p><code>%CLASSPATH%</code></p></blockquote><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/image-20201216084614306.png" alt="image-20201216084614306"></p><h2 id="æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®æˆåŠŸ"><a href="#æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®æˆåŠŸ" class="headerlink" title="æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®æˆåŠŸ"></a>æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®æˆåŠŸ</h2><blockquote><p><strong>åœ¨ä»»æ„åœ°æ–¹æ‰“å¼€CMDçª—å£ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œä¿¡æ¯æ˜¯å¦æ­£ç¡®è¾“å‡º</strong></p><p><code>java</code></p><p><code>java -version</code></p><p><code>javac -version</code></p></blockquote><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/image-20201216085113922.png" alt="image-20201216085113922"></p><p><strong>é…ç½®å®Œæˆï¼Œè°¢è°¢è§‚çœ‹ï¼</strong></p>]]></content>
      
      
      <categories>
          
          <category> åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¯å¢ƒå˜é‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring_Transactional</title>
      <link href="posts/4f78041f/"/>
      <url>posts/4f78041f/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Transactional"><a href="#Spring-Transactional" class="headerlink" title="Spring-Transactional"></a>Spring-Transactional</h1><p><strong>äº‹åŠ¡ç®¡ç†æ˜¯åº”ç”¨ç³»ç»Ÿå¼€å‘ä¸­å¿…ä¸å¯å°‘çš„ä¸€éƒ¨åˆ†ã€‚Spring ä¸ºäº‹åŠ¡ç®¡ç†æä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½æ”¯æŒã€‚</strong></p><p><strong>å£°æ˜å¼äº‹åŠ¡æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯åœ¨é…ç½®æ–‡ä»¶ï¼ˆxmlï¼‰ä¸­åšç›¸å…³çš„äº‹åŠ¡è§„åˆ™å£°æ˜ï¼Œå¦ä¸€ç§æ˜¯åŸºäº <code>@Transactional</code></strong> <strong>æ³¨è§£çš„æ–¹å¼ã€‚æ³¨é‡Šé…ç½®æ˜¯ç›®å‰æµè¡Œçš„ä½¿ç”¨æ–¹å¼ã€‚</strong></p><h2 id="æ³¨è§£ç®¡ç†äº‹åŠ¡çš„å®ç°æ­¥éª¤"><a href="#æ³¨è§£ç®¡ç†äº‹åŠ¡çš„å®ç°æ­¥éª¤" class="headerlink" title="æ³¨è§£ç®¡ç†äº‹åŠ¡çš„å®ç°æ­¥éª¤"></a>æ³¨è§£ç®¡ç†äº‹åŠ¡çš„å®ç°æ­¥éª¤</h2><p><strong>ä½¿ç”¨ @Transactional æ³¨è§£ç®¡ç†äº‹åŠ¡çš„å®ç°æ­¥éª¤åˆ†ä¸ºä¸¤æ­¥ã€‚</strong></p><p><strong><font color=blue>ç¬¬ä¸€æ­¥</font>ï¼Œåœ¨ xml é…ç½®æ–‡ä»¶ä¸­æ·»åŠ äº‹åŠ¡é…ç½®ä¿¡æ¯ã€‚</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tx:annotation-driven</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> </span></span><br><span class="line"><span class="tag"><span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong><font color=blue>ç¬¬äºŒæ­¥</font>ï¼Œå°† @Transactional æ³¨è§£æ·»åŠ åˆ°åˆé€‚çš„æ–¹æ³•ä¸Šï¼Œå¹¶è®¾ç½®åˆé€‚çš„å±æ€§ä¿¡æ¯ã€‚</strong></p><p><strong><font color=red>@Transactional æ³¨è§£çš„å±æ€§ä¿¡æ¯</font></strong></p><table><thead><tr><th align="left">å±æ€§å</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">name</td><td align="left">å½“åœ¨é…ç½®æ–‡ä»¶ä¸­æœ‰å¤šä¸ª TransactionManager , å¯ä»¥ç”¨è¯¥å±æ€§æŒ‡å®šé€‰æ‹©å“ªä¸ªäº‹åŠ¡ç®¡ç†å™¨ã€‚</td></tr><tr><td align="left">propagation</td><td align="left">äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºï¼Œé»˜è®¤å€¼ä¸º <code>REQUIRED</code> ã€‚</td></tr><tr><td align="left">isolation</td><td align="left">äº‹åŠ¡çš„éš”ç¦»åº¦ï¼Œé»˜è®¤å€¼é‡‡ç”¨ <code>DEFAULT</code> ã€‚</td></tr><tr><td align="left">timeout</td><td align="left">äº‹åŠ¡çš„è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤å€¼ä¸º <code>-1</code> ã€‚å¦‚æœè¶…è¿‡è¯¥æ—¶é—´é™åˆ¶ä½†äº‹åŠ¡è¿˜æ²¡æœ‰å®Œæˆï¼Œåˆ™è‡ªåŠ¨å›æ»šäº‹åŠ¡ã€‚</td></tr><tr><td align="left">read-only</td><td align="left">æŒ‡å®šäº‹åŠ¡æ˜¯å¦ä¸ºåªè¯»äº‹åŠ¡ï¼Œé»˜è®¤å€¼ä¸º falseï¼›ä¸ºäº†å¿½ç•¥é‚£äº›ä¸éœ€è¦äº‹åŠ¡çš„æ–¹æ³•ï¼Œæ¯”å¦‚è¯»å–æ•°æ®ï¼Œå¯ä»¥è®¾ç½® read-only ä¸º trueã€‚</td></tr><tr><td align="left">rollback-for</td><td align="left">ç”¨äºæŒ‡å®šèƒ½å¤Ÿè§¦å‘äº‹åŠ¡å›æ»šçš„å¼‚å¸¸ç±»å‹ï¼Œå¦‚æœæœ‰å¤šä¸ªå¼‚å¸¸ç±»å‹éœ€è¦æŒ‡å®šï¼Œå„ç±»å‹ä¹‹é—´å¯ä»¥é€šè¿‡é€—å·åˆ†éš”ã€‚</td></tr><tr><td align="left">no-rollback-for</td><td align="left">æŠ›å‡º no-rollback-for æŒ‡å®šçš„å¼‚å¸¸ç±»å‹ï¼Œä¸å›æ»šäº‹åŠ¡ã€‚</td></tr></tbody></table><p><strong>é™¤æ­¤ä»¥å¤–ï¼Œ<code>@Transactional</code> æ³¨è§£ä¹Ÿå¯ä»¥æ·»åŠ åˆ°ç±»çº§åˆ«ä¸Šã€‚å½“æŠŠ <code>@Transactional</code> æ³¨è§£æ”¾åœ¨ç±»çº§åˆ«æ—¶ï¼Œè¡¨ç¤ºæ‰€æœ‰è¯¥ç±»çš„å…¬å…±æ–¹æ³•éƒ½é…ç½®ç›¸åŒçš„äº‹åŠ¡å±æ€§ä¿¡æ¯ã€‚</strong></p><p><strong>æ–¹æ³•çº§åˆ«çš„äº‹åŠ¡å±æ€§ä¿¡æ¯ä¼šè¦†ç›–ç±»çº§åˆ«çš„ç›¸å…³é…ç½®ä¿¡æ¯ã€‚</strong></p><p><code>**@Transactional</code> æ³¨è§£çš„æ ‡æ³¨äºç±»ä¸Šï¼š**</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Transactional(propagation= Propagation.SUPPORTS, readOnly=true)</span></span><br><span class="line"><span class="meta">@Service(value =&quot;employeeService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmployeeService</span></span></span><br></pre></td></tr></table></figure><h3 id="æ³¨è§£æ–¹å¼çš„äº‹åŠ¡ä½¿ç”¨æ³¨æ„äº‹é¡¹"><a href="#æ³¨è§£æ–¹å¼çš„äº‹åŠ¡ä½¿ç”¨æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨è§£æ–¹å¼çš„äº‹åŠ¡ä½¿ç”¨æ³¨æ„äº‹é¡¹"></a>æ³¨è§£æ–¹å¼çš„äº‹åŠ¡ä½¿ç”¨æ³¨æ„äº‹é¡¹</h3><p>å½“æ‚¨å¯¹ Spring çš„åŸºäºæ³¨è§£æ–¹å¼çš„å®ç°æ­¥éª¤å’Œäº‹åŠ¡å†…åœ¨å®ç°æœºåˆ¶æœ‰è¾ƒå¥½çš„ç†è§£ä¹‹åï¼Œå°±ä¼šæ›´å¥½çš„ä½¿ç”¨æ³¨è§£æ–¹å¼çš„äº‹åŠ¡ç®¡ç†ï¼Œé¿å…å½“ç³»ç»ŸæŠ›å‡ºå¼‚å¸¸ï¼Œæ•°æ®ä¸èƒ½å›æ»šçš„é—®é¢˜ã€‚</p><h4 id="æ­£ç¡®çš„è®¾ç½®-Transactional-çš„-propagation-å±æ€§"><a href="#æ­£ç¡®çš„è®¾ç½®-Transactional-çš„-propagation-å±æ€§" class="headerlink" title="æ­£ç¡®çš„è®¾ç½® @Transactional çš„ propagation å±æ€§"></a>æ­£ç¡®çš„è®¾ç½® @Transactional çš„ propagation å±æ€§</h4><p>æœ¬æ¥æœŸæœ›ç›®æ ‡æ–¹æ³•è¿›è¡Œäº‹åŠ¡ç®¡ç†ï¼Œä½†è‹¥æ˜¯é”™è¯¯çš„é…ç½®è¿™ä¸‰ç§ propagationï¼Œäº‹åŠ¡å°†ä¸ä¼šå‘ç”Ÿå›æ»šã€‚</p><ol><li><p><code>TransactionDefinition.PROPAGATION_SUPPORTS</code>ï¼š</p><p>å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼›</p><p>å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™ä»¥éäº‹åŠ¡çš„æ–¹å¼ç»§ç»­è¿è¡Œã€‚</p></li><li><p><code>TransactionDefinition.PROPAGATION_NOT_SUPPORTED</code>ï¼š</p><p>ä»¥éäº‹åŠ¡æ–¹å¼è¿è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚</p></li><li><p><code>TransactionDefinition.PROPAGATION_NEVER</code>ï¼š</p><p>ä»¥éäº‹åŠ¡æ–¹å¼è¿è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</p></li></ol><h4 id="æ­£ç¡®çš„è®¾ç½®-Transactional-çš„-rollbackFor-å±æ€§"><a href="#æ­£ç¡®çš„è®¾ç½®-Transactional-çš„-rollbackFor-å±æ€§" class="headerlink" title="æ­£ç¡®çš„è®¾ç½® @Transactional çš„ rollbackFor å±æ€§"></a>æ­£ç¡®çš„è®¾ç½® @Transactional çš„ rollbackFor å±æ€§</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœåœ¨äº‹åŠ¡ä¸­æŠ›å‡ºäº†æœªæ£€æŸ¥å¼‚å¸¸ï¼ˆç»§æ‰¿è‡ª RuntimeException çš„å¼‚å¸¸ï¼‰æˆ–è€… Errorï¼Œåˆ™ Spring å°†å›æ»šäº‹åŠ¡ï¼›é™¤æ­¤ä¹‹å¤–çš„å¼‚å¸¸ï¼ŒSpring éƒ½ä¸ä¼šå›æ»šäº‹åŠ¡ï¼</p><p>å¦‚æœåœ¨äº‹åŠ¡ä¸­æŠ›å‡ºå…¶ä»–ç±»å‹çš„å¼‚å¸¸ï¼Œå¹¶æœŸæœ› Spring èƒ½å¤Ÿå›æ»šäº‹åŠ¡ï¼Œå¯ä»¥æŒ‡å®š rollbackForã€‚ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Transactional(propagation= Propagation.REQUIRED, rollbackFor= MyException.class)</span></span><br></pre></td></tr></table></figure><p>è‹¥åœ¨ç›®æ ‡æ–¹æ³•ä¸­æŠ›å‡ºçš„å¼‚å¸¸æ˜¯ rollbackFor æŒ‡å®šçš„å¼‚å¸¸çš„å­ç±»ï¼Œäº‹åŠ¡åŒæ ·ä¼šå›æ»šã€‚</p><h4 id="Transactional-åªèƒ½åº”ç”¨åˆ°-public-æ–¹æ³•æ‰æœ‰æ•ˆ"><a href="#Transactional-åªèƒ½åº”ç”¨åˆ°-public-æ–¹æ³•æ‰æœ‰æ•ˆ" class="headerlink" title="@Transactional åªèƒ½åº”ç”¨åˆ° public æ–¹æ³•æ‰æœ‰æ•ˆ"></a>@Transactional åªèƒ½åº”ç”¨åˆ° public æ–¹æ³•æ‰æœ‰æ•ˆ</h4><p>åªæœ‰ @Transactional æ³¨è§£åº”ç”¨åˆ° public æ–¹æ³•ï¼Œæ‰èƒ½è¿›è¡Œäº‹åŠ¡ç®¡ç†ã€‚</p><p>Spring AOP ä¼šæ£€æŸ¥ç›®æ ‡æ–¹æ³•çš„ä¿®é¥°ç¬¦æ˜¯ä¸æ˜¯ publicï¼Œè‹¥ä¸æ˜¯ publicï¼Œå°±ä¸ä¼šè·å– @Transactional çš„å±æ€§é…ç½®ä¿¡æ¯ï¼Œæœ€ç»ˆä¼šé€ æˆä¸ä¼šç”¨ TransactionInterceptor æ¥æ‹¦æˆªè¯¥ç›®æ ‡æ–¹æ³•è¿›è¡Œäº‹åŠ¡ç®¡ç†ã€‚</p><h4 id="é¿å…-Spring-çš„-AOP-çš„è‡ªè°ƒç”¨é—®é¢˜"><a href="#é¿å…-Spring-çš„-AOP-çš„è‡ªè°ƒç”¨é—®é¢˜" class="headerlink" title="é¿å… Spring çš„ AOP çš„è‡ªè°ƒç”¨é—®é¢˜"></a>é¿å… Spring çš„ AOP çš„è‡ªè°ƒç”¨é—®é¢˜</h4><p>åœ¨ Spring çš„ AOP ä»£ç†ä¸‹ï¼Œåªæœ‰ç›®æ ‡æ–¹æ³•ç”±å¤–éƒ¨è°ƒç”¨ï¼Œç›®æ ‡æ–¹æ³•æ‰ç”± Spring ç”Ÿæˆçš„ä»£ç†å¯¹è±¡æ¥ç®¡ç†ï¼Œè¿™ä¼šé€ æˆè‡ªè°ƒç”¨é—®é¢˜ã€‚</p><p>è‹¥åŒä¸€ç±»ä¸­çš„å…¶ä»–æ²¡æœ‰ @Transactional æ³¨è§£çš„æ–¹æ³•å†…éƒ¨è°ƒç”¨æœ‰ @Transactional æ³¨è§£çš„æ–¹æ³•ï¼Œæœ‰ @Transactional æ³¨è§£çš„æ–¹æ³•çš„äº‹åŠ¡è¢«å¿½ç•¥ï¼Œä¸ä¼šå‘ç”Ÿå›æ»šã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        insertOrder();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertOrder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//insert log info</span></span><br><span class="line">        <span class="comment">//insertOrder</span></span><br><span class="line">        <span class="comment">//updateAccount</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>insertOrder()</code> æ–¹æ³•å°½ç®¡æœ‰ <code>@Transactional</code> æ³¨è§£ï¼Œä½†å®ƒè¢«å†…éƒ¨æ–¹æ³• <code>insert()</code> è°ƒç”¨ï¼Œå› æ­¤ <code>insertOrder()</code> çš„äº‹åŠ¡è¢«å¿½ç•¥ï¼Œå‡ºç°å¼‚å¸¸äº‹åŠ¡ä¸ä¼šå‘ç”Ÿå›æ»šã€‚</p><h2 id="XMLé…ç½®å®ç°ç®¡ç†äº‹åŠ¡"><a href="#XMLé…ç½®å®ç°ç®¡ç†äº‹åŠ¡" class="headerlink" title="XMLé…ç½®å®ç°ç®¡ç†äº‹åŠ¡"></a>XMLé…ç½®å®ç°ç®¡ç†äº‹åŠ¡</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ç¬¬ä¸€æ­¥ï¼šé…ç½®å£°æ˜å¼äº‹åŠ¡--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> </span></span><br><span class="line"><span class="tag"><span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--ç¬¬äºŒæ­¥ï¼š--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--ç»“åˆAOPã€å®ç°äº‹åŠ¡çš„ç»‡å…¥--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--é…ç½®äº‹åŠ¡çš„é€šçŸ¥--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">&quot;txAdvice&quot;</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;transactionManager&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--ç»™å“ªäº›æ–¹æ³•é…ç½®äº‹åŠ¡--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--é…ç½®äº‹åŠ¡çš„ä¼ æ’­ç‰¹æ€§--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:metmod</span> <span class="attr">name</span>=<span class="string">&quot;æ–¹æ³•å1&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:metmod</span> <span class="attr">name</span>=<span class="string">&quot;æ–¹æ³•å2&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:metmod</span> <span class="attr">name</span>=<span class="string">&quot;*&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span>/&gt;</span><span class="comment">&lt;!-- * :ä»£è¡¨å…¨éƒ¨--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--ç¬¬ä¸‰æ­¥ï¼š--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--é…ç½®äº‹åŠ¡çš„åˆ‡å…¥--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®åˆ‡å…¥ç‚¹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;txPointCut&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.xxx.xxx.*.*(..))&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--åˆ‡å…¥--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;txAdvice&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;txPointCut&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
          <category> spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> spring </tag>
            
            <tag> äº‹åŠ¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring_AOPç¬”è®°</title>
      <link href="posts/b3a30946/"/>
      <url>posts/b3a30946/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-AOP"><a href="#Spring-AOP" class="headerlink" title="Spring-AOP"></a>Spring-AOP</h1><h1 id="AOP-åŸºæœ¬æ¦‚å¿µ"><a href="#AOP-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="AOP åŸºæœ¬æ¦‚å¿µ"></a>AOP åŸºæœ¬æ¦‚å¿µ</h1><p>æ˜¾ç¤ºä¸­æœ‰ä¸€äº›å†…å®¹å¹¶ä¸æ˜¯é¢å‘å¯¹è±¡æŠ€æœ¯ï¼ˆOOPï¼‰å¯ä»¥è§£å†³çš„ï¼Œæ¯”å¦‚äº‹åŠ¡å¤„ç†ã€‚åœ¨ JDBC ä»£ç ä¸­ï¼Œæœ€ç¹ççš„é—®é¢˜å°±æ˜¯æ— ç©·æ— å°½çš„ try â€¦ catch â€¦ finally â€¦ è¯­å¥ å’Œ æ•°æ®åº“èµ„æºå…³é—­ çš„é—®é¢˜ï¼Œè€Œä¸”ä»£ç ä¼šå­˜åœ¨å¤§é‡çš„é‡å¤ï¼Œè€Œä½ åˆä¸èƒ½ä¸å†™ã€‚</p><p>ä¸€ä¸ªæ­£å¸¸æ‰§è¡Œçš„ SQL çš„é€»è¾‘æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>æ‰“å¼€é€šè¿‡æ•°æ®åº“è¿æ¥æ± è·å¾—æ•°æ®åº“é“¾æ¥èµ„æºï¼Œå¹¶åšä¸€å®šçš„è®¾ç½®å·¥ä½œã€‚</li><li>æ‰§è¡Œå¯¹åº”çš„ SQL è¯­å¥ï¼ˆé€šå¸¸æ˜¯å¢åˆ æ”¹ï¼‰ï¼Œå¯¹æ•°æ®è¿›è¡Œæ“ä½œã€‚</li><li>å¦‚æœ SQL æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿå¼‚å¸¸ï¼Œå›æ»šäº‹åŠ¡ã€‚</li><li>å¦‚æœ SQL æ‰§è¡Œè¿‡ç¨‹ä¸­æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸ï¼Œæœ€åæäº¤äº‹ç‰©ã€‚</li><li>åˆ°æœ€åçš„é˜¶æ®µï¼Œéœ€è¦å…³é—­ä¸€äº›è¿æ¥èµ„æºã€‚</li></ol><p>å‚çœ‹ä¸Šè¿°æµç¨‹ï¼Œä½ ä¼šå‘ç°æ— è®ºæ˜¯æ‰§è¡Œä»€ä¹ˆå…·ä½“çš„ SQLï¼Œæµç¨‹éƒ½æ˜¯ä¸€æ ·çš„ï¼å³ï¼Œåˆ°äº†ç‰¹å®šæ—¶åˆ»ä¸€å®šä¼šæ‰§è¡ŒæŸä¸ªç‰¹å®šæ“ä½œï¼Œå¹¶ä¸å›  SQL çš„ä¸åŒè€Œä¸åŒ !</p><p>åœ¨ OOP ä¸­ï¼Œæ¨¡å—åŒ–å•å…ƒæ˜¯ã€ç±»ã€ï¼ˆClassï¼‰ï¼Œè€Œåœ¨ AOP ä¸­ï¼Œæ¨¡å—åŒ–çš„å•å…ƒæ˜¯ã€ åˆ‡é¢ã€ï¼ˆAspectï¼‰ã€‚</p><p>AOP æœ€æ—©ç”± AOP è”ç›Ÿçš„ç»„ç»‡æå‡ºçš„ï¼Œå¹¶åˆ¶å®šäº†ä¸€å¥—è§„èŒƒã€‚Spring AOP éµå®ˆ AOP è”ç›Ÿçš„è§„èŒƒã€‚</p><p>Spring çš„ AOP çš„åº•å±‚ç”¨åˆ°ä¸¤ç§ä»£ç†æœºåˆ¶ï¼š</p><ol><li><p>JDK åŠ¨æ€ä»£ç†</p><p>å¦‚æœç›®æ ‡ç±»éµå¾ªæŸä¸ªæ¥å£ï¼ŒSpring AOP åº•å±‚é‡‡ç”¨ JDK æ–¹æ¡ˆç”Ÿæˆä»£ç†å¯¹è±¡</p></li><li><p>Cglib åŠ¨æ€ä»£ç†</p><p>å¦‚æœç›®æ ‡ç±»ä¸éµå¾ªä»»ä½•æ¥å£ï¼ŒSpring AOP åº•å±‚é‡‡ç”¨ cglib æ–¹æ¡ˆç”Ÿæˆä»£ç†å¯¹è±¡ã€‚</p></li></ol><h1 id="æ ¸å¿ƒæ¦‚å¿µ"><a href="#æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µ"></a>æ ¸å¿ƒæ¦‚å¿µ</h1><p>AOP æ¶‰åŠåˆ°å¦‚ä¸‹é—®é¢˜ï¼šåœ¨ <strong>ä»€ä¹ˆç±»</strong> çš„ <strong>ä»€ä¹ˆæ–¹æ³•</strong> çš„ <strong>ä»€ä¹ˆåœ°æ–¹</strong>ï¼Œåšå‡º <strong>ä»€ä¹ˆæ ·</strong> çš„å¢å¼ºã€‚AOP çš„åŠŸèƒ½ç®€è€Œè¨€ä¹‹å°±æ˜¯ï¼š<em>åœ¨ä¸ä¿®æ”¹æ–¹æ³•æºæ–‡ä»¶çš„æƒ…å†µä¸‹ï¼Œä¸ºæºæ–‡ä»¶çš„ç‰¹å®šéƒ¨ä½å¢åŠ æ–°çš„ä»£ç </em> ã€‚</p><h2 id="åˆ‡å…¥ç‚¹è¡¨è¾¾å¼"><a href="#åˆ‡å…¥ç‚¹è¡¨è¾¾å¼" class="headerlink" title="åˆ‡å…¥ç‚¹è¡¨è¾¾å¼"></a>åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</h2><p>åˆ‡å…¥ç‚¹è¡¨è¾¾å¼å†³å®šäº†å“ªäº›ç±»çš„å“ªäº›æ–¹æ³•ä¼šè¢«ã€æ’å…¥ã€æ–°ä»£ç ã€‚å®ƒã€å›ç­”ã€äº†å¯¹ <strong>ä»€ä¹ˆç±»</strong> çš„ <strong>ä»€ä¹ˆæ–¹æ³•</strong> åšå‡ºå¢å¼ºã€‚</p><p>æœ€å¸¸ç”¨çš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼æ˜¯ <strong><code>execution</code></strong> è¡¨è¾¾å¼ï¼Œå…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[æ–¹æ³•è®¿é—®ä¿®é¥°ç¬¦] æ–¹æ³•è¿”å›å€¼ åŒ…å.ç±»å.æ–¹æ³•å(æ–¹æ³•çš„å‚æ•°)</span><br></pre></td></tr></table></figure><p>ã€æ–¹æ³•è®¿é—®ä¿®é¥°ç¬¦ã€éƒ¨åˆ†æ˜¯<strong>å¯é€‰</strong>éƒ¨åˆ†ï¼›ã€å…¶å®ƒã€éƒ¨åˆ†æ˜¯<strong>å¿…è¦</strong>éƒ¨åˆ†ã€‚</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">execution( * com.demo.dao.EmployeeDao.*(..) )</span><br><span class="line"></span><br><span class="line">execution( <span class="keyword">public</span> * demo.dao.EmployeeDao.*(..) )</span><br><span class="line"></span><br><span class="line">execution( <span class="keyword">public</span> String demo.dao.EmployeeDao.*(..) )</span><br><span class="line"></span><br><span class="line">execution( <span class="keyword">public</span> String demo.dao.EmployeeDao.*(String, ..) )</span><br><span class="line"></span><br><span class="line">execution( * demo.dao.*.*(..) )</span><br></pre></td></tr></table></figure><ul><li><p><strong>è¿”å›å€¼åŒ¹é…</strong>:</p><p>å¯ä»¥ä¸º <code>*</code>ï¼Œè¡¨ç¤ºä»»ä½•è¿”å›å€¼ï¼Œå…¨è·¯å¾„çš„ç±»åç­‰ã€‚</p></li><li><p><strong>æ–¹æ³•ååŒ¹é…</strong>:</p><p>æŒ‡å®šæ–¹æ³•åã€‚</p><p>ä¾‹å¦‚ï¼š<code>*</code> ä»£è¡¨æ‰€æœ‰æ–¹æ³•ï¼› <code>set*</code>ï¼Œä»£è¡¨ä»¥ <code>set</code> å¼€å¤´çš„æ‰€æœ‰æ–¹æ³•.</p></li><li><p><strong>å‚æ•°åŒ¹é…</strong>:</p><p>æŒ‡å®šæ–¹æ³•å‚æ•°(æ•°é‡ã€ç±»å‹åŠé¡ºåº)ã€‚</p><p>ä¾‹å¦‚ï¼š<code>(..)</code> ä»£è¡¨æ‰€æœ‰å‚æ•°ï¼›<code>(*)</code> ä»£è¡¨ä¸€ä¸ªå‚æ•°ï¼› <code>(*, String)</code> ä»£è¡¨ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºä»»ä½•å€¼ï¼Œç¬¬äºŒä¸ªä¸º String ç±»å‹ã€‚</p></li></ul><h2 id="é€šçŸ¥ç±»å‹"><a href="#é€šçŸ¥ç±»å‹" class="headerlink" title="é€šçŸ¥ç±»å‹"></a>é€šçŸ¥ç±»å‹</h2><p>é€šçŸ¥ç±»å‹å›ç­”äº† <strong>ä»€ä¹ˆä½ç½®</strong> å¢å¼º <strong>ä»€ä¹ˆæ ·</strong> çš„ä»£ç ã€‚</p><table><thead><tr><th align="left">æ³¨è§£</th><th align="left">é€šçŸ¥</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">@Before</td><td align="left">åœ¨è¢«ä»£ç†å¯¹è±¡çš„æ–¹æ³•å‰è°ƒç”¨</td><td align="left"></td></tr><tr><td align="left">@Around</td><td align="left">å°†è¢«ä»£ç†æ–¹æ³•å°è£…èµ·æ¥</td><td align="left">ç¯ç»•é€šçŸ¥ï¼Œå®ƒå°†è¦†ç›–åŸæœ‰æ–¹æ³•ï¼Œä½†æ˜¯å…è®¸é€šè¿‡åå°„è°ƒç”¨åŸæœ‰æ–¹æ³•</td></tr><tr><td align="left">@After</td><td align="left">åœ¨è¢«ä»£ç†å¯¹è±¡æ–¹æ³•åè°ƒç”¨</td><td align="left"></td></tr><tr><td align="left">@AfterReturning</td><td align="left">åœ¨è¢«ä»£ç†å¯¹è±¡æ­£å¸¸è¿”å›åè°ƒç”¨</td><td align="left">è¦æ±‚è¢«ä»£ç†å¯¹è±¡çš„æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸</td></tr><tr><td align="left">@AfterThrowing</td><td align="left">åœ¨è¢«ä»£ç†å¯¹è±¡çš„æ–¹æ³•æŠ›å‡ºå¼‚å¸¸åè°ƒç”¨</td><td align="left">è¦æ±‚è¢«ä»£ç†å¯¹è±¡çš„æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿå¼‚å¸¸</td></tr></tbody></table><p>Spring åªæ”¯æŒæ–¹æ³•æ‹¦æˆª ã€‚</p><h1 id="ä½¿ç”¨-AspectJ-æ³¨è§£é…ç½®-Spring-AOP"><a href="#ä½¿ç”¨-AspectJ-æ³¨è§£é…ç½®-Spring-AOP" class="headerlink" title="ä½¿ç”¨ @AspectJ æ³¨è§£é…ç½® Spring AOP"></a>ä½¿ç”¨ @AspectJ æ³¨è§£é…ç½® Spring AOP</h1><p>Spring å®ç° AOP åŠŸèƒ½çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š**<code>@AspectJ æ³¨è§£</code>** æ–¹å¼ï¼›**<code>XML é…ç½®</code>** æ–¹å¼ã€‚</p><p><code>è¡¥å……</code>ï¼ŒAOP æ¦‚å¿µå¹¶é Spring æ‰€ç‰¹æœ‰ï¼ŒSpring ä¹Ÿå¹¶éæ”¯æŒ AOP ç¼–ç¨‹çš„å”¯ä¸€æ¡†æ¶ã€‚åœ¨ Spring ä¹‹å‰æä¾› AOP åŠŸèƒ½çš„ï¼Œå…·æœ‰é‡Œç¨‹ç¢‘å¼çš„æ¡†æ¶å« <strong>AspectJ æ¡†æ¶</strong>ã€‚AspectJ æ¡†æ¶çš„ä½¿ç”¨æ–¹å¼æ¯”è¾ƒç‹¬ç‰¹ï¼ˆä¸ç®€ä¾¿ï¼‰ï¼Œåœ¨ Spring AOP å‡ºç°åå°±æ…¢æ…¢è¢« Spring AOP æ‰€å–ä»£ã€‚ä½†æ˜¯ï¼ŒAspectJ æ¡†æ¶è®¾è®¡äº†ä¸€å¥—æ³¨è§£ï¼Œéå¸¸ç®€ä¾¿å’Œåˆç†ï¼Œå¹¶ä¸”è¢«å¹¿å¤§ AspectJ çš„ä½¿ç”¨è€…æ‰€ç†ŸçŸ¥ï¼Œæ‰€ä»¥ Spring AOP ç›´æ¥å€Ÿç”¨è¿™å¥—æ³¨è§£ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¿™é‡Œæ‰€è¯´çš„ @AspectJ æ³¨è§£ã€‚</p><p>ç”±äº @AspectJ æ³¨è§£æ˜¯ Springã€å€Ÿç”¨ã€çš„åˆ«äººçš„æ³¨è§£ï¼Œæ‰€ä»¥ä½¿ç”¨æ—¶éœ€è¦å¼•å…¥å®ƒã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjrt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;aspectj.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;aspectj.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨ Spring çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œä¹Ÿéœ€è¦å¼•å…¥/å£°æ˜ AOP çš„ namspace :</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;beans</span><br><span class="line">    ...</span><br><span class="line">    xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;</span><br><span class="line">    xsi:schemaLocation=&quot;</span><br><span class="line">        ...</span><br><span class="line">        http://www.springframework.org/schema/aop</span><br><span class="line">        http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;</span><br></pre></td></tr></table></figure><p>å¹¶ä¸”ï¼Œç”±äº <code>@AspectJ</code> æ³¨è§£å¹¶é Spring æ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å£°æ˜ ã€å¯ç”¨ @AspectJ æ³¨è§£ã€ åŠŸèƒ½ï¼Œå¦åˆ™ï¼ŒSpring å¹¶ã€ä¸è®¤è¯†ã€ <code>@AspectJ</code> çš„ä¸€ç³»åˆ—æ³¨è§£ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æˆ–è€…ä½¿ç”¨ @Component æ³¨è§£ + åŒ…æ‰«æ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">class</span>=<span class="string">&quot;bean.Dept&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;aspect1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;bean.DeptAspect1&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>å†é‡å¤ä¸€éï¼Œä½¿ç”¨ Spring AOP çš„æ ¸å¿ƒé—®é¢˜ï¼šåœ¨ <strong>ä»€ä¹ˆç±»</strong> çš„ <strong>ä»€ä¹ˆæ–¹æ³•</strong> çš„ <strong>ä»€ä¹ˆåœ°æ–¹</strong>ï¼Œåšå‡º <strong>ä»€ä¹ˆæ ·</strong> çš„å¢å¼ºã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Aspect</span> <span class="comment">// æ³¨æ„ï¼Œä¸è¦å¿˜è®°åœ¨åˆ‡é¢ç±»çš„å¤´ä¸ŠåŠ  @Aspect æ³¨è§£ã€‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeptAspect1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before(&quot;execution(* bean.Dept.sayHi(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;before ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@After(&quot;execution(* bean.Dept.sayHi(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;after ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Around(&quot;execution(* bean.Dept.sayHi(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">around</span><span class="params">(ProceedingJoinPoint jp)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            jp.proceed();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;world&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterReturning(&quot;execution(* bean.Dept.sayHi(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterReturuing</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterReturning ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterThrowing(&quot;execution(* bean.Dept.sayHi(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterThrowing</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterThrowing ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥å‘ç°ï¼Œä¸Šè¿°ä»£ç ä¸­ <code>execution(...)</code> éƒ¨åˆ†æœ‰å¤§é‡é‡å¤ç°è±¡ã€‚ä¸ºæ­¤ï¼Œå¯ä»¥æä¾›ä¸€ä¸ª <code>@Pointcut</code> æ¥è¿›è¡Œâ€œç¼©å†™â€ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeptAspect1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* bean.Dept.sayHi(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">xxx</span><span class="params">()</span> </span>&#123;  <span class="comment">// è¿™ä¸ªæ–¹æ³•æ˜¯ç©ºçš„ã€‚éœ€è¦çš„ä¸æ˜¯å®ƒçš„å†…å®¹ï¼Œéœ€è¦çš„æ˜¯å®ƒçš„åå­—ã€‚</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before(&quot;xxx()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@After(&quot;xxx()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Around(&quot;xxx()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">around</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterReturning(&quot;xxx())</span><span class="string">&quot;)</span></span><br><span class="line"><span class="string">    public void afterReturning() &#123; ... &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    @AfterThrowing(&quot;</span>xxx())<span class="string">&quot;)</span></span><br><span class="line"><span class="string">    public void afterThrowing() &#123; ... &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œæœ‰æ—¶ä½ è¦æ‹¦æˆª/å¢å¼ºçš„æ–¹æ³•æ˜¯æœ‰å‚æ•°çš„ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHi</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure><p>ä¸ºæ­¤ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨å¢å¼ºæ–¹æ³•ä¸­è·å¾—è¿™äº›å‚æ•°ï¼Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Pointcut(&quot;execution(* bean.Dept.sayHi(..))&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">xxx</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Before(&quot;execution(* bean.Dept.sayHi(..)) &amp;&amp; args(name, age)&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@After(&quot;xxx() &amp;&amp; args(name, age)&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ä½¿ç”¨-XML-é…ç½®-Spring-AOP"><a href="#ä½¿ç”¨-XML-é…ç½®-Spring-AOP" class="headerlink" title="ä½¿ç”¨ XML é…ç½® Spring AOP"></a>ä½¿ç”¨ XML é…ç½® Spring AOP</h1><p>é€šè¿‡ XML é…ç½® Spring AOP åŠŸèƒ½ï¼Œåœ¨ XML æ–‡ä»¶ä¸­å‡ºç°çš„å„ç§ã€è¦ç´ ã€æœ¬è´¨ä¸Šå’Œ @AspectJ æ³¨è§£ä¸­å‡ºç°è¿‡çš„å†…å®¹æœ¬è´¨ä¸Šå¹¶æ²¡æœ‰ä¸¤æ ·ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeptAspect2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">around</span><span class="params">(ProceedingJoinPoint jp)</span> </span>&#123; ... &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterReturuing</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterThrowing</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">class</span>=<span class="string">&quot;bean.Dept&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;aspect2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;bean.DeptAspect2&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">&quot;aspect2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">&quot;before&quot;</span> <span class="attr">pointcut</span>=<span class="string">&quot;execution(* bean.Dept.sayHi(..)) and args(name, int)&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:after</span> <span class="attr">method</span>=<span class="string">&quot;after&quot;</span> <span class="attr">pointcut</span>=<span class="string">&quot;execution(* bean.Dept.sayHi(..)) and args(name, int)&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
          <category> spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> spring </tag>
            
            <tag> aop </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring_IOCç¬”è®°</title>
      <link href="posts/5e4d2d0d/"/>
      <url>posts/5e4d2d0d/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-IOC"><a href="#Spring-IOC" class="headerlink" title="Spring-IOC"></a>Spring-IOC</h1><h2 id="ä»€ä¹ˆæ˜¯IOCï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯IOCï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯IOCï¼Ÿ"></a>ä»€ä¹ˆæ˜¯IOCï¼Ÿ</h2><ul><li><strong>Iocå³Inverse of Controlï¼Œä¸­æ–‡ä¸ºæ§åˆ¶åè½¬ã€‚</strong></li><li><strong>åœ¨Springä¸­ï¼Œåˆ›å»ºå¯¹è±¡çš„å·¥ä½œä¸å†ç”±åº”ç”¨ç¨‹åº(<font color=blue>ç¨‹åºå‘˜ä¸»åŠ¨çš„ä½¿ç”¨newå…³é”®å­—</font>)ä¸»åŠ¨å®Œæˆï¼Œè€Œæ˜¯ç”±Springå®¹å™¨è´Ÿè´£åˆ›å»ºï¼Œç„¶åæ³¨å…¥ç»™åº”ç”¨ç¨‹åºï¼Œç”±Springæ¥ç®¡ç†åº”ç”¨ç¨‹åºä¸­çš„æ‰€æœ‰å¯¹è±¡åŠå…¶ä¾èµ–å…³ç³»ã€‚</strong></li><li><strong>é€šä¿—è¯´å°±æ˜¯ç¨‹åºå‘˜åœ¨ä»£ç ä¸­æ— éœ€ä½¿ç”¨newå…³é”®å­—æ¥åˆ›å»ºå¯¹è±¡ï¼Œåˆ›å»ºå¯¹è±¡çš„ä»»åŠ¡äº¤ç»™äº†Springã€‚ç„¶åSpringæ ¹æ®xmlä¸­é…ç½®çš„å±æ€§ï¼Œå°†å…¶æ³¨å…¥åˆ°å¯¹è±¡ä¸­ã€‚ï¼ˆ<font color=blue>åˆ›å»ºå¯¹è±¡å¹¶èµ‹å€¼</font>ï¼‰</strong></li></ul><h2 id="å®ä¾‹åŒ–-Spring-IoC-å®¹å™¨"><a href="#å®ä¾‹åŒ–-Spring-IoC-å®¹å™¨" class="headerlink" title="å®ä¾‹åŒ– Spring IoC å®¹å™¨"></a>å®ä¾‹åŒ– Spring IoC å®¹å™¨</h2><p>Spring æ ¸å¿ƒå®¹å™¨çš„ç†è®ºå¾ˆç®€å•ï¼š<strong>Spring æ ¸å¿ƒå®¹å™¨å°±æ˜¯ä¸€ä¸ªè¶…çº§å¤§å·¥å‚ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½ä¼šè¢«å½“æˆ Spring æ ¸å¿ƒå®¹å™¨ç®¡ç†çš„å¯¹è±¡</strong>ã€‚</p><p>ä½ å¿…é¡»å®ä¾‹åŒ– Spring IoC å®¹å™¨ï¼Œè¯»å–å…¶é…ç½®æ–‡ä»¶æ¥åˆ›å»º Bean å®ä¾‹ã€‚ç„¶åä½ å¯ä»¥ä» Spring IoC å®¹å™¨ä¸­å¾—åˆ°å¯ç”¨çš„ Bean å®ä¾‹ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">BeanFactory</span><br><span class="line">â””â”€â”€ ApplicationContext</span><br><span class="line">    â””â”€â”€ ClassPathXmlApplicationContext</span><br></pre></td></tr></table></figure><p>Spring IoC å®¹å™¨ä¸»è¦æ˜¯åŸºäº <strong>BeanFactory</strong> å’Œ <strong>ApplicationContext</strong> ä¸¤ä¸ªæ¥å£ï¼š</p><ul><li><strong><code>BeanFactory</code></strong> æ˜¯ Spring IoC å®¹å™¨çš„é¡¶å±‚æ¥å£</li><li><strong><code>ApplicationContext</code></strong> æ˜¯æœ€å¸¸ç”¨æ¥å£</li><li><strong><code>ClassPathXmlApplicationContext</code></strong> æ˜¯ ApplicationContext çš„å®ç°ç±»ã€‚é¡¾åæ€ä¹‰ï¼Œå®ƒä» classpath ä¸­åŠ è½½ä¸€ä¸ª XML é…ç½®æ–‡ä»¶ï¼Œæ„å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ã€‚ä½ ä¹Ÿå¯ä»¥æŒ‡å®šå¤šä¸ªé…ç½®æ–‡ä»¶ã€‚</li></ul><p><strong>BeanFactory</strong> æ¥å£å®šä¹‰äº† Spring IoC æ•´ä¸ªä½“ç³»ä¸­ä¸­æœ€é‡è¦çš„æ–¹æ³•ï¼ˆç°‡ï¼‰ï¼š<strong>getBean()</strong> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ç”¨äºä» Spring IoC å®¹å™¨ä¸­è·å¾— Bean ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;service.xml&quot;</span>, <span class="string">&quot;dao.xml&quot;</span>);</span><br></pre></td></tr></table></figure><p>åœ¨è·å¾—åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ï¼ˆä¹Ÿå°±æ˜¯IoCå®¹å™¨ï¼‰åï¼Œä½ åªéœ€è¦è°ƒç”¨ <strong>getBean()</strong> æ–¹æ³•å¹¶ä¼ å…¥å”¯ä¸€çš„ Bean ID/åç§°å’Œ Bean çš„ Class å¯¹è±¡ï¼Œå°±å¯ä»¥è·å¾—å®¹å™¨ä¸­çš„ Beanã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Human tom = context.getBean(<span class="string">&quot;tom&quot;</span>, Human.class);</span><br></pre></td></tr></table></figure><h2 id="Springåˆ›å»ºBean-Springåˆ›å»ºå¯¹è±¡"><a href="#Springåˆ›å»ºBean-Springåˆ›å»ºå¯¹è±¡" class="headerlink" title="Springåˆ›å»ºBean(Springåˆ›å»ºå¯¹è±¡)"></a>Springåˆ›å»ºBean(Springåˆ›å»ºå¯¹è±¡)</h2><p>Springå¯ä»¥å¸®ä½ åˆ›å»ºã€ç®¡ç†Beanå¯¹è±¡ï¼Œä½†ä½ éœ€è¦â€œå‘Šè¯‰â€å®ƒè¦åˆ›å»ºã€ç®¡ç†å“ªäº›å¯¹è±¡ã€‚</p><p>Springå…è®¸ä½ åœ¨ä¸€ä¸ªï¼ˆæˆ–è€…å¤šä¸ªï¼‰xmlé…ç½®æ–‡ä»¶ä¸­é…ç½®Beanï¼Œå¯¹äºSpringå®¹å™¨ï¼Œè¿™äº›ä¸ªé…ç½®æ–‡ä»¶å°±æ˜¯å®ƒåˆ›å»ºBeanå¯¹è±¡çš„ä¾æ®ã€‚</p><p>ä¸€ä¸ªSpring xmlçš„åŸºæœ¬é…ç½®æ ·å¼æ˜¯ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">            http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¤šä¸ªSpring xmlæ–‡ä»¶æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>import</code>æ ‡ç­¾è¿›è¡Œå¯¼å…¥ï¼Œå’Œå¤šä¸ºä¸€ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;spring-dao.xml&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>åˆ›å»º Bean(å¯¹è±¡) çš„æ–¹å¼å¸¸è§ä¸‰ç§ï¼š</p><blockquote><ul><li><p>ç±»è‡ªèº«çš„æ„é€ æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.microboom.xu;</span><br><span class="line"><span class="comment">// å®ä½“ç±»(Student)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> Integer age;</span><br><span class="line"><span class="keyword">private</span> String gender;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.microboom.xu;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">// åˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼:</span></span><br><span class="line"><span class="comment">// 1 ã€ é€šè¿‡å¯¹è±¡çš„æ„é€ æ–¹æ³•</span></span><br><span class="line">Student1 student = <span class="keyword">new</span> Student1();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>å·¥å‚ç±»æä¾›çš„å·¥å‚æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.microboom.xu;</span><br><span class="line"><span class="comment">// å®ä½“ç±»(Student)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> Integer age;</span><br><span class="line"><span class="keyword">private</span> String gender;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.microboom.xu;</span><br><span class="line"><span class="comment">// Studentç±»çš„å·¥å‚ç±»1</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentFactory1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Student <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Student1();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.microboom.xu;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">// 2 ã€é€šè¿‡å·¥å‚ç±»çš„å·¥å‚æ–¹æ³•</span></span><br><span class="line">Student1 student1 = StudentFactory1.getInstance();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>å·¥å‚å¯¹è±¡æä¾›çš„å·¥å‚æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.microboom.xu;</span><br><span class="line"><span class="comment">// å®ä½“ç±»(Student)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> Integer age;</span><br><span class="line"><span class="keyword">private</span> String gender;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.microboom.xu;</span><br><span class="line"><span class="comment">// Studentç±»çš„å·¥å‚ç±»2</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentFactory2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span>  Student <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Student1();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.microboom.xu;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">// 3 ã€é€šè¿‡å·¥å‚å¯¹è±¡çš„å·¥å‚æ–¹æ³•</span></span><br><span class="line">StudentFactory2 student1factory = <span class="keyword">new</span> Student1Factory2();</span><br><span class="line">Student student2 = studentfactory.getInstance();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ€»ç»“ï¼šç¬¬2ã€3ä¸­æ–¹æ³•å…¶å®å·®ä¸å¤šï¼Œç»“åˆå®é™…æƒ…å†µä½¿ç”¨</span></span><br></pre></td></tr></table></figure></li></ul></blockquote><h3 id="Springä½¿ç”¨ç±»è‡ªèº«çš„æ„é€ æ–¹æ³•"><a href="#Springä½¿ç”¨ç±»è‡ªèº«çš„æ„é€ æ–¹æ³•" class="headerlink" title="Springä½¿ç”¨ç±»è‡ªèº«çš„æ„é€ æ–¹æ³•"></a>Springä½¿ç”¨ç±»è‡ªèº«çš„æ„é€ æ–¹æ³•</h3><p>æ¯ä¸ª bean éƒ½å¿…é¡»æä¾›ä¸€ä¸ªå”¯ä¸€çš„åç§°æˆ–idï¼Œä»¥åŠä¸€ä¸ªå®Œå…¨é™å®šçš„ç±»åï¼Œç”¨æ¥è®© Spring IoC å®¹å™¨å¯¹å…¶è¿›è¡Œåˆ›å»ºã€‚Spring é€šè¿‡ç±»çš„æ„é€ æ–¹æ³•æ¥åˆ›å»º Bean å¯¹è±¡ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">...</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;xxx&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xxx.xxx.Xxx&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Springä½¿ç”¨å·¥å‚ç±»æä¾›çš„å·¥å‚æ–¹æ³•"><a href="#Springä½¿ç”¨å·¥å‚ç±»æä¾›çš„å·¥å‚æ–¹æ³•" class="headerlink" title="Springä½¿ç”¨å·¥å‚ç±»æä¾›çš„å·¥å‚æ–¹æ³•"></a>Springä½¿ç”¨å·¥å‚ç±»æä¾›çš„å·¥å‚æ–¹æ³•</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;tom&quot;</span> <span class="attr">class</span>=<span class="string">&quot;å·¥å‚ç±»&quot;</span> <span class="attr">factory-method</span>=<span class="string">&quot;å·¥å‚æ–¹æ³•&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Springä½¿ç”¨å·¥å‚å¯¹è±¡æä¾›çš„å·¥å‚æ–¹æ³•"><a href="#Springä½¿ç”¨å·¥å‚å¯¹è±¡æä¾›çš„å·¥å‚æ–¹æ³•" class="headerlink" title="Springä½¿ç”¨å·¥å‚å¯¹è±¡æä¾›çš„å·¥å‚æ–¹æ³•"></a>Springä½¿ç”¨å·¥å‚å¯¹è±¡æä¾›çš„å·¥å‚æ–¹æ³•</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å£°æ˜åˆ›å»ºå·¥å‚å¯¹è±¡ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;factory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;å·¥å‚ç±»&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;tom&quot;</span> <span class="attr">factory-bean</span>=<span class="string">&quot;å·¥å‚å¯¹è±¡id&quot;</span> <span class="attr">factory-method</span>=<span class="string">&quot;å·¥å‚æ–¹æ³•&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Springè£…é…ç®€å•å±æ€§"><a href="#Springè£…é…ç®€å•å±æ€§" class="headerlink" title="Springè£…é…ç®€å•å±æ€§"></a>Springè£…é…ç®€å•å±æ€§</h2><p>è£…é…ï¼Œå³ä¸º Bean çš„å±æ€§è¿›è¡Œ åˆå§‹åŒ– / èµ‹å€¼ã€‚</p><p><strong>ç®€å•ç±»å‹</strong> æ˜¯æŒ‡ï¼š åŸºæœ¬æ•°æ®ç±»å‹ã€åŸºæœ¬æ•°æ®ç±»å‹åŒ…è£…ç±» å’Œ å­—ç¬¦ä¸² ã€‚</p><p>è£…é…æ–¹å¼æœ‰ä¸¤ç§ï¼š</p><blockquote><ul><li>é€šè¿‡ æ„é€ æ–¹æ³• è£…é…</li><li>é€šè¿‡ setter è£…é…</li></ul></blockquote><h3 id="æ„é€ æ–¹æ³•è£…é…"><a href="#æ„é€ æ–¹æ³•è£…é…" class="headerlink" title="æ„é€ æ–¹æ³•è£…é…"></a>æ„é€ æ–¹æ³•è£…é…</h3><p>é€šè¿‡æ„é€ æ–¹æ³•è£…é…ï¼Œå³è®¾ç½® Spring é€šè¿‡è°ƒç”¨æœ‰å‚æ„é€ æ–¹æ³•ï¼ˆé»˜è®¤æ˜¯è°ƒç”¨æ— å‚æ„é€ æ–¹æ³•ï¼‰æ¥åˆ›å»ºå¯¹è±¡ã€‚åœ¨ bean å…ƒç´ å†…ä½¿ç”¨ <strong>constructor-arg</strong> å­å…ƒç´ ï¼Œå³å¯è§¦å‘æ„é€ æ–¹æ³•è£…é…ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;...&quot;</span> <span class="attr">class</span>=<span class="string">&quot;...&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;x&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xx&quot;</span>/&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>index</strong> å±æ€§è¡¨ç¤ºæ„é€ å‡½æ•°å½¢å‚ <strong>ç´¢å¼•</strong>ï¼ˆä»0å¼€å§‹ï¼‰ã€‚å¦‚æœå‚æ•°çš„ç±»å‹å…·æœ‰å”¯ä¸€æ€§ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ <strong>type</strong> å±æ€§ï¼Œé€šè¿‡ <strong>å‚æ•°ç±»å‹</strong> æ¥æŒ‡å®šæ„é€ æ–¹æ³•å’Œå‚æ•°å€¼ã€‚</p><p>ä¸ºäº†ç®€åŒ–é…ç½®ï¼ŒSpring æä¾›äº†ä¸€ä¸ªåä¸º <strong>c</strong> çš„ schemaï¼Œæ¥ç®€åŒ–é…ç½®ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;...&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;...&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:c</span>=<span class="string">&quot;http://www.springframework.org/schema/c&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;...&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;...&quot;</span> <span class="attr">class</span>=<span class="string">&quot;...&quot;</span> <span class="attr">c:_0</span>=<span class="string">&quot;xxx&quot;</span> <span class="attr">c:_1</span>=<span class="string">&quot;xxx&quot;</span> <span class="attr">...</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è¿™ç§ç®€å†™æ–¹å¼ï¼Œå®Œå…¨ä¸ç”¨å‡ºç° <strong>costructor-arg</strong> å­å…ƒç´ ï¼Œåªéœ€åœ¨ <strong>bean</strong> å…ƒç´ ä¸­å¤šå¢åŠ å‡ ä¸ª <strong>c:_ç´¢å¼•=â€å‚æ•°å€¼â€</strong> è¿™æ ·çš„å±æ€§ã€‚</p><h3 id="setter-è£…é…"><a href="#setter-è£…é…" class="headerlink" title="setter è£…é…"></a>setter è£…é…</h3><p>é€šè¿‡ setter è£…é…ï¼Œå³è®¾ç½® Spring åœ¨ï¼ˆé€šè¿‡æ— å‚æ„é€ æ–¹æ³•ï¼‰åˆ›å»ºå¯¹è±¡åï¼Œé€šè¿‡è°ƒç”¨å¯¹è±¡çš„å±æ€§çš„ setter æ–¹æ³•æ¥ä¸ºå¯¹è±¡çš„å±æ€§èµ‹å€¼ã€‚åœ¨ bean å…ƒç´ å†…ä½¿ç”¨ <strong>property</strong> å­å…ƒç´ ï¼Œå³å¯è§¦å‘ setter è£…é…ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;...&quot;</span> <span class="attr">class</span>=<span class="string">&quot;...&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;xxx&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xxx&quot;</span> /&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>property</strong> å…ƒç´ çš„ <strong>name</strong> å±æ€§ç”¨äºæŒ‡å®šå¯¹è±¡çš„å±æ€§åï¼Œ<strong>value</strong> å±æ€§ç”¨äºæŒ‡å®šè¦è®¾ç½®å€¼ã€‚</p><p>ä¸ºäº†ç®€åŒ–é…ç½®ï¼ŒSpring æä¾›äº†ä¸€ä¸ªåä¸º <strong>p</strong> çš„ schemaï¼Œæ¥ç®€åŒ–é…ç½®ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;...&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;...&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;...&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;tom&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.hemiao.bean.Human&quot;</span> <span class="attr">p:name</span>=<span class="string">&quot;tom&quot;</span> <span class="attr">p:age</span>=<span class="string">&quot;20&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è¿™ç§ç®€å†™æ–¹å¼ï¼Œå®Œå…¨ä¸ç”¨å‡ºç° <strong>property</strong> å­å…ƒç´ ï¼Œåªéœ€åœ¨ <strong>bean</strong> å…ƒç´ ä¸­å¤šå¢åŠ å‡ ä¸ª <strong>p:å±æ€§å=â€å±æ€§å€¼â€</strong> è¿™æ ·çš„å±æ€§ã€‚</p><h2 id="Springè£…é…å¤æ‚å±æ€§"><a href="#Springè£…é…å¤æ‚å±æ€§" class="headerlink" title="Springè£…é…å¤æ‚å±æ€§"></a>Springè£…é…å¤æ‚å±æ€§</h2><p>æ›´å¤æ‚çš„å±æ€§ç±»å‹æ˜¯é›†åˆç±»å‹ï¼ˆæ•°ç»„ã€Listã€Setã€Mapï¼‰å±æ€§ã€‚</p><p>Bean çš„å±æ€§å¯èƒ½è¿œä¸æ­¢åŸºæœ¬ç±»å‹è¿™ä¹ˆç®€å•ï¼Œè¿˜æœ‰å¯èƒ½æ˜¯åŸºæœ¬ç±»å‹çš„é›†åˆï¼ˆListã€Set å’Œ Mapï¼‰ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå±æ€§çš„èµ‹å€¼ä¸å†æ˜¯ <code>property-value</code> è¿™ç§ç»“æ„ï¼Œè€Œæ˜¯ <code>property-list-value</code> ä¸‰å±‚ç»“æ„ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;...&quot;</span> <span class="attr">class</span>=<span class="string">&quot;...&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;æ•°ç»„å±æ€§å&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            ...</span><br><span class="line">        <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;Listå±æ€§å&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            ...</span><br><span class="line">        <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;Setå±æ€§å&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            ...</span><br><span class="line">        <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;Mapå±æ€§å&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;xxx&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xx&quot;</span>/&gt;</span></span><br><span class="line">            ...</span><br><span class="line">        <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœé›†åˆæ˜¯å¼•ç”¨ç±»å‹çš„é›†åˆï¼Œé‚£ä¹ˆä½¿ç”¨çš„å­å…ƒç´ å°±ä» <strong>value</strong> æ”¹ä¸º <strong>ref</strong>ã€‚map ä½¿ç”¨çš„æ˜¯ <strong>key-ref</strong> å’Œ <strong>value-ref</strong> ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;myDataSource&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;myDataSource&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span> =<span class="string">&quot;a ref&quot;</span> <span class="attr">value-ref</span>=<span class="string">&quot;myDataSource&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¼•ç”¨çš„é›†åˆè¿˜æœ‰ä¸€ç§ç®€å†™å½¢å¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ref</span> <span class="attr">class</span>=<span class="string">&quot;ç±»çš„å®Œå…¨é™å®šå&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ref</span> <span class="attr">class</span>=<span class="string">&quot;ç±»çš„å®Œå…¨é™å®šå&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span> =<span class="string">&quot;a ref&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ç±»çš„å®Œå…¨é™å®šå&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="è‡ªåŠ¨è£…é…"><a href="#è‡ªåŠ¨è£…é…" class="headerlink" title="è‡ªåŠ¨è£…é…"></a>è‡ªåŠ¨è£…é…</h2><p>å½“ä¸€ä¸ª Bean éœ€è¦è®¿é—®å¦ä¸€ä¸ª Bean æ—¶ï¼Œä½ å¯ä»¥æ˜¾ç¤ºæŒ‡å®šå¼•ç”¨è£…é…å®ƒã€‚ä¸è¿‡ï¼ŒSpring IoC å®¹å™¨æä¾›è‡ªåŠ¨è£…é…åŠŸèƒ½ï¼Œåªéœ€è¦åœ¨ <strong>bean</strong> çš„ <strong>autowire</strong> å±æ€§ä¸­æŒ‡å®šè‡ªåŠ¨è£…é…æ¨¡å¼å°±å¯ä»¥äº†ã€‚</p><table><thead><tr><th align="left">è£…é…æ¨¡å¼</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">no</td><td align="left">é»˜è®¤å€¼ã€‚ä¸æ‰§è¡Œè‡ªåŠ¨è£…é…ã€‚ä½ å¿…é¡»æ˜¾ç¤ºåœ°è£…é…æ‰€ä¾èµ–å¯¹è±¡</td></tr><tr><td align="left">byName</td><td align="left">ä»¥ Bean çš„å±æ€§åä¸ºä¾æ®ï¼Œè£…é…ä¸€ä¸ªä¸å±æ€§ååŒåçš„ Bean</td></tr><tr><td align="left">byType</td><td align="left">ä»¥ Bean çš„å±æ€§ç±»å‹ä¸ºä¾æ®ï¼Œè£…é…ä¸€ä¸ªä¸ä¹‹åŒç±»å‹çš„ Bean</td></tr><tr><td align="left">constructor</td><td align="left">é€šè¿‡æ„é€ æ–¹æ³•åˆå§‹åŒ– Bean çš„å±æ€§ï¼Œå¹¶ä¾æ®å‚æ•°çš„ç±»å‹ï¼Œè£…é…ä¸€ä¸ªä¸å‚æ•°åŒç±»å‹çš„ Bean</td></tr></tbody></table><p><font color=blue>å°½ç®¡è‡ªåŠ¨è£…é…å¾ˆå¼ºå¤§ï¼Œä½†æ˜¯ä»£ä»·æ˜¯é™ä½äº† Bean é…ç½®çš„å¯è¯»æ€§ã€‚åœ¨å®è·µä¸­ï¼Œå»ºè®®ä»…åœ¨ä¾èµ–å…³ç³»ä¸å¤æ‚çš„åº”ç”¨ä¸­ä½¿ç”¨ã€‚</font></p><h2 id="æ³¨è§£ä»£æ›¿XMLé…ç½®"><a href="#æ³¨è§£ä»£æ›¿XMLé…ç½®" class="headerlink" title="æ³¨è§£ä»£æ›¿XMLé…ç½®"></a>æ³¨è§£ä»£æ›¿XMLé…ç½®</h2><p><strong><font color=red>component-scanæ ‡ç­¾é»˜è®¤æƒ…å†µä¸‹è‡ªåŠ¨æ‰«ææŒ‡å®šè·¯å¾„ä¸‹çš„åŒ…ï¼ˆå«æ‰€æœ‰å­åŒ…ï¼‰ï¼Œå°†å¸¦æœ‰@Componentã€@Repositoryã€@Serviceã€@Controller</font>æ ‡ç­¾çš„ç±»è‡ªåŠ¨æ³¨å†Œåˆ°springå®¹å™¨ã€‚å¯¹æ ‡è®°äº† Springâ€™s @Requiredã€@Autowiredã€JSR250â€™s @PostConstructã€@PreDestroyã€@Resourceã€JAX-WSâ€™s @WebServiceRefã€EJB3â€™s @EJBã€JPAâ€™s @PersistenceContextã€@PersistenceUnitç­‰æ³¨è§£çš„ç±»è¿›è¡Œå¯¹åº”çš„æ“ä½œä½¿æ³¨è§£ç”Ÿæ•ˆï¼ˆåŒ…å«äº†annotation-configæ ‡ç­¾çš„ä½œç”¨ï¼‰ã€‚</strong></p><p><strong>å…³é”®æ˜¯æ€ä¹ˆè·å¾—é€šè¿‡æ‰«ææ–¹å¼è¢«springå®¹å™¨ç®¡ç†çš„bean</strong></p><p><strong><font color=blue>getBeançš„é»˜è®¤åç§°æ˜¯ç±»åï¼ˆå¤´å­—æ¯å°å†™ï¼‰</font>ï¼Œå¦‚æœæƒ³è‡ªå®šä¹‰ï¼Œå¯ä»¥@Service(â€œaaaaaâ€)è¿™æ ·æ¥æŒ‡å®šã€‚<br>è¿™ç§beané»˜è®¤æ˜¯â€œsingletonâ€çš„ï¼Œå¦‚æœæƒ³æ”¹å˜ï¼Œå¯ä»¥ä½¿ç”¨@Scope(â€œprototypeâ€)æ¥æ”¹å˜ã€‚</strong></p><p><strong>åœ¨ XML é…ç½®æ–‡ä»¶ä¸­åŠ ä¸Š <code>&lt;context:component-scan base-package=&quot;Beanæ‰€åœ¨çš„åŒ…è·¯å¾„&quot;/&gt;</code> å³å¯å¼€å¯ Spring çš„è‡ªåŠ¨æ‰«æåŠŸèƒ½ï¼Œè¿™æ˜¯ä½¿ç”¨æ³¨è§£æ›¿ä»£XMLé…ç½®çš„å‰æã€‚</strong></p><h3 id="Component-æ³¨è§£"><a href="#Component-æ³¨è§£" class="headerlink" title="@Component æ³¨è§£"></a>@Component æ³¨è§£</h3><p><strong>@Component</strong> æ³¨è§£ç”¨äºæ ‡æ³¨äº Bean çš„ç±»ä¸Šã€‚å‡¡æ˜¯è¢«æ ‡æ³¨äº†è¯¥æ³¨è§£çš„ç±»ï¼ˆåªè¦åœ¨æ‰«æè·¯å¾„ä¸‹ï¼‰éƒ½ä¼šè¢« Spring åˆ›å»ºã€‚</p><p><font color=blue>@Component æ³¨è§£æœ‰å”¯ä¸€çš„å±æ€§ <strong>value</strong> å±æ€§ã€‚å®ƒç”¨æ¥ä¸º Bean å‘½åã€‚åŒç†å®ƒçš„è¯­ä¹‰åŒ–å­æ³¨è§£ä¹Ÿæœ‰</font></p><p>@Component æ³¨è§£æœ‰ä¸‰ä¸ªè¯­ä¹‰åŒ–çš„å­æ³¨è§£ï¼š</p><blockquote><ul><li><strong>@Repository</strong>ï¼ˆç”¨äºæŒä¹…å±‚ï¼‰</li><li><strong>@Service</strong> ï¼ˆç”¨äºä¸šåŠ¡å±‚ï¼‰</li><li><strong>@Controller</strong>ï¼ˆç”¨äº Web å±‚ï¼‰</li></ul></blockquote><h3 id="Value-æ³¨è§£"><a href="#Value-æ³¨è§£" class="headerlink" title="@Value æ³¨è§£"></a>@Value æ³¨è§£</h3><p><strong>@Value</strong> æ³¨è§£ç”¨äºæ ‡æ³¨äº<strong>ç®€å•ç±»å‹</strong>å±æ€§ä¸Šã€‚å‡¡æ˜¯è¢«æ ‡æ³¨äº†è¯¥æ³¨è§£çš„å±æ€§éƒ½ä¼šè¢« Spring æ³¨å…¥å€¼ï¼ˆèµ‹å€¼ï¼‰ã€‚</p><p>@Value æ³¨è§£æœ‰å”¯ä¸€çš„å±æ€§ <strong>value</strong> å±æ€§ã€‚å®ƒç”¨æ¥ä¸ºç®€å•å±æ€§æŒ‡å®šå€¼ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201214001249.png"></p><h3 id="Autowired-æ³¨è§£"><a href="#Autowired-æ³¨è§£" class="headerlink" title="@Autowired æ³¨è§£"></a>@Autowired æ³¨è§£</h3><p><strong>@Autowired</strong> æ³¨è§£ç”¨äºæ ‡æ³¨äº<strong>å¼•ç”¨ç±»å‹</strong>å±æ€§ä¸Šã€‚å‡¡æ˜¯è¢«æ ‡æ³¨äº†è¯¥æ³¨è§£çš„å±æ€§éƒ½ä¼šè¢« Spring ä»¥ <strong>ç±»å‹</strong> ä¸ºä¾æ®æ³¨å…¥å¦ä¸€ä¸ª Bean çš„å¼•ç”¨ã€‚</p><p>@Autowired æ³¨è§£æœ‰å”¯ä¸€çš„å±æ€§ <strong>required</strong> å±æ€§ï¼ˆé»˜è®¤å€¼ä¸º <code>true</code>ï¼‰ã€‚å®ƒç”¨æ¥æŒ‡ç¤ºè¯¥å¯¹è¯¥å±æ€§çš„æ³¨å…¥æ˜¯å¦ä¸ºå¿…é¡»ï¼ˆé»˜è®¤<em>å¿…é¡»</em>ï¼‰ï¼Œå³ï¼Œåœ¨ Spring IoC å®¹å™¨ä¸­æ²¡æœ‰å‘ç°ç¬¦åˆç±»å‹çš„å…¶ä»–Beanæ—¶ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p><h3 id="Qualifier-æ³¨è§£-é…åˆ-Autowiredæ³¨è§£ä½¿ç”¨"><a href="#Qualifier-æ³¨è§£-é…åˆ-Autowiredæ³¨è§£ä½¿ç”¨" class="headerlink" title="@Qualifier æ³¨è§£(é…åˆ@Autowiredæ³¨è§£ä½¿ç”¨)"></a>@Qualifier æ³¨è§£(é…åˆ@Autowiredæ³¨è§£ä½¿ç”¨)</h3><p><strong>@Qualifier</strong> æ³¨è§£éœ€è¦ç»“åˆ <strong>@Autowired</strong> æ³¨è§£ä½¿ç”¨ã€‚å®ƒç”¨äºæ ‡æ³¨äºå¼•ç”¨ç±»å‹å±æ€§ä¸Šã€‚å‡¡æ˜¯è¢«æ ‡æ³¨äº†è¯¥æ³¨è§£çš„å±æ€§éƒ½ä¼šè¢« Spring ä»¥ <strong>beançš„id</strong> ä¸ºä¾æ®æ³¨å…¥ï¼ˆå°±æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡beançš„idä¸ºä¾æ®ï¼Œæ³¨å…¥è¿™ä¸ªæŒ‡å®šçš„beanï¼‰ã€‚</p><p>@Qualifier æ³¨è§£æœ‰å”¯ä¸€çš„å±æ€§ <strong>value</strong> å±æ€§ã€‚å®ƒç”¨äºæŒ‡ç¤ºéœ€è¦æ³¨å…¥çš„å¦ä¸€ä¸ª Bean çš„Idã€‚</p><h3 id="Resource-æ³¨è§£"><a href="#Resource-æ³¨è§£" class="headerlink" title="@Resource æ³¨è§£"></a>@Resource æ³¨è§£</h3><p><font color=blue>å®ƒæ˜¯JDKè‡ªå¸¦çš„æ³¨è§£ï¼Œå®ƒæ˜¯@Autowired &amp;&amp; @Qualifierä¸¤ç§æ³¨è§£çš„ç»“åˆä½“</font></p><p>å®ƒ<font color=blue>é»˜è®¤</font>å…ˆé€šè¿‡Beançš„Idã€åæ¥å¯»æ‰¾å¹¶æ³¨å…¥ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±é€šè¿‡ç±»å‹æ¥æ³¨å…¥</p><h2 id="Bean-çš„ä½œç”¨åŸŸ"><a href="#Bean-çš„ä½œç”¨åŸŸ" class="headerlink" title="Bean çš„ä½œç”¨åŸŸ"></a>Bean çš„ä½œç”¨åŸŸ</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring IoC å®¹å™¨åªä¼šå¯¹ä¸€ä¸ª Bean åˆ›å»ºä¸€ä¸ªå®ä¾‹ã€‚å³å•ä¾‹ã€‚Spring IoC æä¾›äº† 4 ç§ <strong>ä½œç”¨åŸŸ</strong>ï¼Œå®ƒå†³å®šäº† Spring IoC æ˜¯å¦/ä½•æ—¶ ç”Ÿæˆä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚å¸¸è§æœ‰ï¼š</p><ul><li><font color=red>singletonï¼ˆå•ä¾‹ï¼‰</font>ï¼šé»˜è®¤å€¼ã€‚åœ¨æ•´ä¸ªåº”ç”¨ä¸­ï¼ŒSpring åªä¸ºå…¶ç”Ÿæˆä¸€ä¸ª Bean çš„å®ä¾‹ã€‚</li><li><font color=red>prototypeï¼ˆåŸå‹ï¼‰</font>ï¼šSpring æ¯æ¬¡éƒ½ä¼šç”Ÿæˆä¸€ä¸ª Bean çš„å®ä¾‹ã€‚</li></ul><p>åœ¨ XML é…ç½®æ–‡ä»¶ä¸­ï¼Œ é€šè¿‡ bean å…ƒç´ çš„ <strong>scope</strong> å±æ€§è¿›è¡Œè®¾ç½®ã€‚è¯¥å±æ€§å–å€¼ï¼š<code>singleton</code> | <code>prototype</code> | å…¶ä»– ã€‚</p><p>åœ¨ æ³¨è§£ é…ç½®ä¸­ï¼Œä½¿ç”¨ <strong>@Scope</strong> æ³¨è§£ï¼Œè¯¥æ³¨è§£æ ‡æ³¨äº Bean çš„ç±»ä¸Šï¼ˆå¸¸è§äº @Component ä¹‹ä¸‹ï¼‰ã€‚è¯¥æ³¨è§£æœ‰å”¯ä¸€å±æ€§ <strong>value</strong> å±æ€§ï¼Œå…¶å–å€¼æœ‰ï¼š <code>singleton</code> | <code>prototype</code> | å…¶ä»–ã€‚  </p>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
          <category> spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> spring </tag>
            
            <tag> ioc </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VercelåŠ é€ŸGitPagesè®¿é—®é€Ÿåº¦</title>
      <link href="posts/fe8751f5/"/>
      <url>posts/fe8751f5/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å‰è¨€</p><p>ç”±äºGitHubè®¿é—®é€Ÿåº¦æ„Ÿäººï¼Œç›¸æ¯”ä¹‹ä¸‹Vercelé€Ÿåº¦åˆ™ä¼šå¿«ä¸Šä¸å°‘ã€‚å½“ç„¶ä¹Ÿæœ‰å¾ˆå¤šæ–¹æ³•è¿˜é™ä½è¿™ç§æƒ…å†µï¼Œæ¯”å¦‚éƒ¨ç½²åˆ°å›½å†…çš„Giteeä¸Šï¼ŒGiteeéœ€è¦æ‰‹åŠ¨æ›´æ–°ã€‚åƒæˆ‘è¿™æ ·çš„æ‡’ç™Œæ‚£è€…å°±æœæ–­æ”¾å¼ƒäº†ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨CDNæ¥é™ä½å»¶è¿Ÿï¼Œä¸è¿‡ç›¸æ¯”ä¹‹ä¸‹Vercelè¿˜æ˜¯æŒºç®€å•çš„ã€‚é¼ æ ‡ç‚¹å‡ ä¸‹å°±å¯ä»¥å®Œæˆï¼ğŸ‘ğŸ‘ğŸ‘</p></blockquote><h1 id="æ³¨å†ŒVercel"><a href="#æ³¨å†ŒVercel" class="headerlink" title="æ³¨å†ŒVercel"></a>æ³¨å†ŒVercel</h1><p><strong>ä½¿ç”¨GitHubè´¦å·ç™»å½•ï¼ŒGitHubçš„ä¸»é‚®ç®±å»ºè®®ä¸ºGmail</strong></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201213150947.png"></p><h1 id="å¯¼å…¥ä»“åº“"><a href="#å¯¼å…¥ä»“åº“" class="headerlink" title="å¯¼å…¥ä»“åº“"></a>å¯¼å…¥ä»“åº“</h1><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201213151541.png"></p><p><strong>å¡«å†™ä»“åº“çš„åœ°å€ï¼š</strong></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201213152042.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201213151623.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201213152224.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201213152700.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201213153013.png"></p><p><strong>ç‚¹å‡»Visitå³å¯é¢„è§ˆ</strong></p><blockquote><p>è‡³æ­¤ï¼Œä½¿ç”¨VercelåŠ é€ŸGitPageså®Œæˆã€‚åœ¨æˆ‘ä»¬ç¼–è¾‘å®Œæ–‡ç« æ¨é€åˆ°GitHubåï¼ŒVercelä¼šè‡ªåŠ¨çš„ä»“åº“å‘ç”Ÿæ›´æ–°åã€‚è‡ªåŠ¨çš„é‡æ–°éƒ¨ç½²åšå®¢ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vercel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨Hexo+GitHubæ­å»ºåšå®¢</title>
      <link href="posts/90d1f040/"/>
      <url>posts/90d1f040/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å¼•è¨€</p><p>ç”±äºå‰é˜µå­é˜¿é‡Œäº‘åˆ°æœŸäº†æ²¡åŠæ³•åªèƒ½è½¬æˆ˜Hexo+GitHubçš„é™æ€åšå®¢ğŸ¤£ã€‚ç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šç›¸å…³çš„æ•™ç¨‹äº†ï¼Œä¸ºä»€ä¹ˆæˆ‘è¿˜è¦å†™å‘¢ï¼Ÿä¸»è¦æ˜¯æƒ³è®°å½•ä¸‹å±äºæˆ‘è‡ªå·±çš„è¶³è¿¹å§ï¼æœ€é‡è¦çš„æ˜¯æ­å»ºè‡ªå·±çš„åšå®¢å¯ä»¥åœ¨åºå¤§çš„äº’è”ç½‘ä¸­æœ‰ä¸€ä¸ªæ¸…å‡€çš„åœ°æ–¹ï¼Œè®°å½•ä¸‹è‡ªå·±çš„ç”Ÿæ´»ï¼Œæ€»ç»“å­¦ä¹ çš„ç¬”è®°ï¼Œç­‰ç­‰â€¦â€¦.</p></blockquote><h1 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h1><blockquote><p> <strong>ç”±äºHexoæ˜¯åŸºäºNode.jsçš„é™æ€æ¡†æ¶ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…Node.jsã€‚æˆ‘ä»¬æœ€åéƒ¨ç½²åˆ°Gitå¹³å°éœ€è¦Gitå·¥å…·</strong></p><p><strong>ä»¥ä¸‹çš„å®‰è£…æˆ‘ä»¬é»˜è®¤ä¸‹ä¸€æ­¥å°±å¯ä»¥</strong></p></blockquote><h2 id="å®‰è£…Node-jsï¼ˆæ¨èLTSç‰ˆæœ¬ï¼Œä¸‹è½½æ…¢çš„è¯å¯ä»¥ä½¿ç”¨æ·˜å®é•œåƒï¼‰"><a href="#å®‰è£…Node-jsï¼ˆæ¨èLTSç‰ˆæœ¬ï¼Œä¸‹è½½æ…¢çš„è¯å¯ä»¥ä½¿ç”¨æ·˜å®é•œåƒï¼‰" class="headerlink" title="å®‰è£…Node.jsï¼ˆæ¨èLTSç‰ˆæœ¬ï¼Œä¸‹è½½æ…¢çš„è¯å¯ä»¥ä½¿ç”¨æ·˜å®é•œåƒï¼‰"></a>å®‰è£…Node.jsï¼ˆæ¨èLTSç‰ˆæœ¬ï¼Œä¸‹è½½æ…¢çš„è¯å¯ä»¥ä½¿ç”¨æ·˜å®é•œåƒï¼‰</h2><p><strong>Node.jsåœ°å€:</strong>     <a href="https://nodejs.org/zh-cn/">https://nodejs.org/zh-cn/</a></p><p><strong>æ·˜å®é•œåƒåœ°å€:</strong>     <a href="https://npm.taobao.org/mirrors/node?spm=a2c6h.14029880.0.0.735975d7TbkG1v">https://npm.taobao.org/mirrors/node?spm=a2c6h.14029880.0.0.735975d7TbkG1v</a></p><p>ä¸è¿‡è±†ç“£æ’ä»¶ä¸æ”¯æŒV14ç‰ˆæœ¬çš„Node.jsï¼Œéœ€è¦çš„è¯å¯ä»¥ä½¿ç”¨V12ç‰ˆæœ¬</p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201213115746.png"></p><h2 id="å®‰è£…Git"><a href="#å®‰è£…Git" class="headerlink" title="å®‰è£…Git"></a>å®‰è£…Git</h2><p><strong>Gitåœ°å€:</strong>     <a href="https://git-scm.com/downloads">https://git-scm.com/downloads</a></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201213115822.png"></p><h2 id="æ£€æŸ¥æ˜¯å¦æˆåŠŸå®‰è£…"><a href="#æ£€æŸ¥æ˜¯å¦æˆåŠŸå®‰è£…" class="headerlink" title="æ£€æŸ¥æ˜¯å¦æˆåŠŸå®‰è£…"></a>æ£€æŸ¥æ˜¯å¦æˆåŠŸå®‰è£…</h2><blockquote><p><font color=red>åˆ†åˆ«</font>è¾“å…¥ä»¥ä¸‹å‘½ä»¤</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">git --version</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœå®‰è£…æ­£ç¡®ï¼Œæ˜¾ç¤ºå¦‚ä¸‹</p></blockquote><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201213120316.png"></p><h1 id="å®‰è£…Hexo"><a href="#å®‰è£…Hexo" class="headerlink" title="å®‰è£…Hexo"></a>å®‰è£…Hexo</h1><blockquote><p>ç”±äºnode.jsçš„æœåŠ¡å™¨åœ¨å›½å¤–ï¼Œé€Ÿåº¦å¯èƒ½ä¼šæœ‰ç‚¹æ…¢ã€‚æˆ‘ä»¬å¯ä»¥è®¾ç½®npmçš„ä»“åº“ä¸ºæ·˜å®é•œåƒ</p></blockquote><h2 id="è®¾ç½®npmçš„ä»“åº“ä¸ºæ·˜å®é•œåƒ"><a href="#è®¾ç½®npmçš„ä»“åº“ä¸ºæ·˜å®é•œåƒ" class="headerlink" title="è®¾ç½®npmçš„ä»“åº“ä¸ºæ·˜å®é•œåƒ"></a>è®¾ç½®npmçš„ä»“åº“ä¸ºæ·˜å®é•œåƒ</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry &quot; https:&#x2F;&#x2F;registry.npm.taobao.org &quot;</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-Hexo"><a href="#å®‰è£…-Hexo" class="headerlink" title="å®‰è£… Hexo"></a>å®‰è£… Hexo</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure><h2 id="åˆå§‹åŒ–-Blog"><a href="#åˆå§‹åŒ–-Blog" class="headerlink" title="åˆå§‹åŒ– Blog"></a>åˆå§‹åŒ– Blog</h2><blockquote><p>blogï¼šæŒ‡åšå®¢çš„ç›®å½•ï¼›å¦‚æœæ²¡æœ‰åƒ(hexo init E:\Blog)è¿™æ ·å…·ä½“çš„æŒ‡å®šï¼Œä¸”æ²¡æœ‰æ–°å»ºBlogæ–‡ä»¶å¤¹ã€‚åœ¨å‘½ä»¤è¿è¡Œåä¼šè‡ªåŠ¨åœ¨å½“å‰è·¯å¾„ä¸‹æ–°å»ºBlogæ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬ä»¥åå…³äºåšå®¢çš„æ“ä½œéƒ½å°†åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹åå­—å¯ä»¥éšæ„å–.</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init blog</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–åçš„æ–‡ä»¶å¤¹å¦‚ä¸‹</p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201213122259.png"></p><h2 id="åˆ‡æ¢åˆ°-Blogç›®å½•ä¸‹"><a href="#åˆ‡æ¢åˆ°-Blogç›®å½•ä¸‹" class="headerlink" title="åˆ‡æ¢åˆ° Blogç›®å½•ä¸‹"></a>åˆ‡æ¢åˆ° Blogç›®å½•ä¸‹</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd blog</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-Blog"><a href="#å®‰è£…-Blog" class="headerlink" title="å®‰è£… Blog"></a>å®‰è£… Blog</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><h2 id="å¯åŠ¨é¢„è§ˆ-Blog"><a href="#å¯åŠ¨é¢„è§ˆ-Blog" class="headerlink" title="å¯åŠ¨é¢„è§ˆ Blog"></a>å¯åŠ¨é¢„è§ˆ Blog</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s    # å¦‚æœå‘ç°ç«¯å£è¢«å ç”¨ï¼Œå¯ä»¥-pæŒ‡å®šç«¯å£  hexo s -p 5000</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸€åˆ‡éƒ½æ²¡æœ‰é—®é¢˜ï¼Œåœ¨æµè§ˆå™¨çš„åœ°å€æ è¾“å…¥ï¼š<a href="http://localhost:4000/">http://localhost:4000</a> å³å¯é¢„è§ˆåšå®¢</p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201213123218.png" style="zoom: 50%;" /><h2 id="Hexo-å¸¸ç”¨çš„å‘½ä»¤"><a href="#Hexo-å¸¸ç”¨çš„å‘½ä»¤" class="headerlink" title="Hexo å¸¸ç”¨çš„å‘½ä»¤"></a>Hexo å¸¸ç”¨çš„å‘½ä»¤</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">hexo cl #æ¸…é™¤ç”Ÿæˆçš„åšå®¢é™æ€æ–‡ä»¶(hexo clean çš„ç¼©å†™)</span><br><span class="line">hexo g #ç”Ÿæˆåšå®¢é™æ€æ–‡ä»¶(hexo generate çš„ç¼©å†™)</span><br><span class="line">hexo s #å¯åŠ¨åšå®¢çš„æœ¬åœ°é¢„è§ˆ(hexo server çš„ç¼©å†™)</span><br><span class="line">hexo d #æ¨é€åšå®¢åˆ°è¿œç¨‹ä»“åº“(hexo deploy çš„ç¼©å†™)</span><br><span class="line">hexo new &quot;xxx&quot; #æ–°å»ºåä¸ºxxxçš„æ–‡ç« </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æˆ‘ä»¬å¯ä»¥å°†å‡ ä¸ªå‘½ä»¤ä¸€èµ·æ‰§è¡Œï¼Œä½¿ç”¨ &amp; éš”å¼€å³å¯</span></span><br><span class="line">hexo cl &amp; hexo g &amp; hexo s  </span><br></pre></td></tr></table></figure><h1 id="éƒ¨ç½²åˆ°GitPages"><a href="#éƒ¨ç½²åˆ°GitPages" class="headerlink" title="éƒ¨ç½²åˆ°GitPages"></a>éƒ¨ç½²åˆ°GitPages</h1><h2 id="æ³¨å†ŒGitHubè´¦å·"><a href="#æ³¨å†ŒGitHubè´¦å·" class="headerlink" title="æ³¨å†ŒGitHubè´¦å·"></a>æ³¨å†ŒGitHubè´¦å·</h2><p>ç™¾åº¦å³å¯</p><h2 id="æ–°å»ºä»“åº“"><a href="#æ–°å»ºä»“åº“" class="headerlink" title="æ–°å»ºä»“åº“"></a>æ–°å»ºä»“åº“</h2><blockquote><ul><li><p>Repository name : <code>usname.git.io</code>   usernameä¸ºä½ çš„ç”¨æˆ·åï¼Œå¿…é¡»è¿™æ ·å†™ï¼Œä¸ç„¶å¯èƒ½ä¼šæœ‰äº›é—®é¢˜</p></li><li><p>Description: ä»“åº“çš„æè¿°</p></li><li><p>é€‰æ‹© <code>public</code></p></li><li><p>Initialize this repository with: å¯ä»¥é€‰æ‹©<code>Add a README file</code>,ä¹Ÿå¯ä»¥ä¸é€‰</p></li><li><p>ç‚¹å‡»<code>Create Repository</code>,å®Œæˆä»“åº“çš„åˆ›å»º</p></li></ul></blockquote><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201213125618.png"></p><h2 id="Gitå·¥å…·é“¾æ¥åˆ°GitHub"><a href="#Gitå·¥å…·é“¾æ¥åˆ°GitHub" class="headerlink" title="Gitå·¥å…·é“¾æ¥åˆ°GitHub"></a>Gitå·¥å…·é“¾æ¥åˆ°GitHub</h2><ul><li>CMDå‘½ä»¤è¡Œåˆ†åˆ«æ‰§è¡Œä¸€ä¸‹å‘½ä»¤</li></ul><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;username&quot; # usernameæ˜¯ä½ çš„Githubç”¨æˆ·åï¼Œæ³¨æ„å¤§å°å†™ä¿æŒä¸€è‡´</span><br><span class="line"></span><br><span class="line">git config --global user.email &quot;your email address&quot; # your email addresså¡«å†™ä½ Githubæ³¨å†Œç”¨çš„é‚®ç®±</span><br><span class="line"></span><br><span class="line">ssh-keygen -t rsa -C &quot;your email address&quot;  # ç”ŸæˆSSHå…¬é’¥ï¼Œyour email addressåŒä¸Šå¡«</span><br></pre></td></tr></table></figure><ul><li>å®Œæˆä¸Šè¿°å‘½ä»¤åä¼šåœ¨<code>C:\Users\ç”¨æˆ·å\.ssh</code>ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªå¯†é’¥</li></ul><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201213130255.png"></p><ul><li>ç”¨è®°äº‹æœ¬æ‰“å¼€<code>id_rsa.pub</code>æ–‡ä»¶ï¼Œå¤åˆ¶é‡Œé¢çš„å…¨éƒ¨å†…å®¹</li><li>ç™»å½•GitHubï¼Œç‚¹å‡»å¤´åƒï¼Œé€‰æ‹© <code>settings</code> æŒ‰é’®ï¼Œé€‰æ‹© <code>SSH and GPG keys</code> é¡¹ï¼Œç‚¹å‡» <code>New SSH Key</code></li></ul><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201213130936.png"></p><ul><li>å¡«å…¥åˆšåœ¨ <code>id_rsa.pub</code>æ–‡ä»¶å†…å¤åˆ¶çš„å†…å®¹<ul><li>Title: æ·»åŠ ä½ éœ€è¦çš„æè¿°ä¿¡æ¯(æ¯”å¦‚æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„)</li><li>Keyï¼šå¡«å…¥å¤åˆ¶çš„å†…å®¹</li></ul></li></ul><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201213131511.png"></p><ul><li><p>æŸ¥çœ‹æ˜¯å¦è¿æ¥æˆåŠŸï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201213131920.png"></p><p>å‡ºç°ä¸Šå›¾æç¤ºï¼Œåˆ™è¡¨ç¤ºæˆåŠŸï¼</p></li></ul><ul><li><p>æ‰“å¼€Blogç›®å½•ä¸‹çš„<code>_config.yml</code>æ–‡ä»¶ï¼Œæ‰¾åˆ°deploy(è¯¥é…ç½®é¡¹åœ¨æœ«å°¾)å’Œurlé¡¹è¿›è¡Œé…ç½®</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span>    <span class="comment"># å¡«gitå³å¯</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/username/username.github.io.git</span> <span class="comment"># ä»“åº“åœ°å€ï¼Œusernameä¸ºGitHubçš„ç”¨æˆ·å</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span> <span class="comment"># ä½¿ç”¨mainåˆ†æ”¯ï¼Œ2020å¹´10æœˆ1æ—¥masteråˆ†æ”¯æ”¹ä¸ºäº†main</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="comment">################################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://xurongchang.github.io</span>  <span class="comment"># GitPagesçš„urlï¼Œè¯¥é“¾æ¥å¯ä»¥åœ¨ä»“åº“çš„settingä¸­å­˜åœ¨</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span>    <span class="comment"># æ ¹ç›®å½•</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><p>GitPagesçš„urlï¼Œä»“åº“çš„settingå¾€ä¸‹ç¿»å³å¯æ‰¾åˆ°ï¼</p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201213135324.png"></p></li></ul></li></ul><h2 id="å®‰è£…-Hexo-æ¨é€-Git-æ’ä»¶"><a href="#å®‰è£…-Hexo-æ¨é€-Git-æ’ä»¶" class="headerlink" title="å®‰è£… Hexo æ¨é€ Git æ’ä»¶"></a>å®‰è£… Hexo æ¨é€ Git æ’ä»¶</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><blockquote><p>ç”±äºä¹‹å‰çš„ç”Ÿæˆçš„æ–‡ä»¶ä¼šå¯¼è‡´æˆ‘èƒ½ä¸èƒ½åŠæ—¶çš„çœ‹åˆ°æ•ˆæœï¼Œæˆ‘ä»¬éœ€è¦æ¸…é™¤ä¹‹å‰ç”Ÿæˆçš„é™æ€æ–‡ä»¶å¹¶é‡æ–°ç”Ÿæˆã€‚</p><p>åœ¨æ¨é€ä¹‹å‰æˆ‘ä»¬å…ˆæœ¬åœ°é¢„è§ˆä¸€ä¸‹ï¼Œæ˜¯å¦å‡ºç°é”™è¯¯ï¼Œä»¥å…æ¨é€åä¸å¿…è¦çš„éº»çƒ¦ã€‚æ¸…ç†ï¼Œç”Ÿæˆï¼Œå¯åŠ¨ç»„åˆå‘½ä»¤</p><p>å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hexo cl &amp; hexo g &amp; hexo s</span><br><span class="line"></span><br><span class="line"># ç¡®è®¤æ— é—®é¢˜åï¼Œhexo d å‘½ä»¤æ¨é€åˆ°GitHubã€‚GitHubä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬éƒ¨ç½²ï¼</span><br><span class="line"></span><br><span class="line">hexo d # æ¨é€åˆ°GitHub</span><br></pre></td></tr></table></figure><p><strong>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¡«å†™çš„<code>url</code>æ¥æŸ¥çœ‹æ˜¯å¦æ¨é€æˆåŠŸï¼</strong></p><h1 id="ç¾åŒ–åšå®¢ï¼š"><a href="#ç¾åŒ–åšå®¢ï¼š" class="headerlink" title="ç¾åŒ–åšå®¢ï¼š"></a>ç¾åŒ–åšå®¢ï¼š</h1><p><strong>æˆ‘ä½¿ç”¨çš„ Jerry å¤§ä½¬çš„Bufferflyä¸»é¢˜ï¼Œè¯¥ä¸»é¢˜çš„æ•™ç¨‹å·²ç»éå¸¸çš„è¯¦ç»†çš„ã€‚å¦‚æœè§‰å¾—ä¸»é¢˜è¿˜å¯ä»¥ï¼Œè¯·è®¿é—®ä¸‹é¢çš„é“¾æ¥è·Ÿç€é…ç½®å³å¯ï¼</strong></p><p><strong>Bufferflyä¸»é¢˜æ•™ç¨‹åœ°å€ï¼š</strong>    <a href="https://butterfly.js.org/">https://butterfly.js.org/</a></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> ä¸ªäººåšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaåå°„æœºåˆ¶ç¬”è®°</title>
      <link href="posts/83a8cfac/"/>
      <url>posts/83a8cfac/</url>
      
        <content type="html"><![CDATA[<p><font color=blue>è¿™ç¯‡ç¬”è®°æ˜¯æ ¹æ®ç§¦ç–†è€å¸ˆçš„è§†é¢‘æ•´ç†è€Œæˆï¼Œè®°å½•ä¸€ä¸‹</font></p><p><font color=blue>å¤§ä½¬çš„åœ°å€ï¼š<a href="https://space.bilibili.com/95256449">https://space.bilibili.com/95256449</a></font></p><h1 id="åå°„-Reflection"><a href="#åå°„-Reflection" class="headerlink" title="åå°„(Reflection)"></a>åå°„(Reflection)</h1><ul><li><strong>Reflection(åå°„) : åå°„æœºåˆ¶å…è®¸ç¨‹åºåœ¨æ‰§è¡ŒæœŸé—´å€ŸåŠ©ReflectionAPIå–å¾—ä»»ä½•ç±»çš„å†…éƒ¨ä¿¡æ¯ï¼Œå¹¶èƒ½ç›´æ¥æ“ä½œä»»æ„å¯¹è±¡çš„å†…éƒ¨å±æ€§åŠæ–¹æ³•ã€‚</strong> </li><li><strong>ç±»åŠ è½½å®Œåï¼Œå †å†…å­˜çš„æ–¹æ³•åŒºä¸­å°±äº§ç”Ÿäº†ä¸€ä¸ªClassç±»å‹çš„å¯¹è±¡(ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªClasså¯¹è±¡)ï¼Œè¿™ä¸ªå¯¹è±¡å°±åŒ…å«äº†å®Œæ•´çš„ç±»çš„ç»“æ„ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå¯¹è±¡çœ‹åˆ°ç±»çš„ç»“æ„ã€‚è¿™ä¸ªå¯¹è±¡å°±åƒä¸€é¢é•œå­ï¼Œé€è¿‡è¿™ä¸ªé•œå­çœ‹åˆ°ç±»çš„ç»“æ„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å½¢è±¡çš„ç§°ä¹‹ä¸º ï¼šåå°„ã€‚</strong></li></ul><h2 id="Classç±»"><a href="#Classç±»" class="headerlink" title="Classç±»"></a>Classç±»</h2><p><strong>å¯¹è±¡ç…§é•œå­åå¯ä»¥å¾—åˆ°çš„ä¿¡æ¯ ï¼šæŸä¸ªç±»çš„å±æ€§ã€æ–¹æ³•å’Œæ„é€ å™¨ã€æŸä¸ªç±»åˆ°åº•å®ç°äº†å“ªäº›æ¥å£ã€‚å¯¹äºæ¯ä¸ªç±»è€Œè¨€ï¼ŒJREéƒ½ä¸ºå…¶ä¿ç•™ä¸€ä¸ªä¸å˜çš„Classç±»å‹çš„å¯¹è±¡ã€‚ä¸€ä¸ªClasså¯¹è±¡åŒ…å«äº†ç‰¹å®šæŸä¸ªç»“æ„(class/innterface/enum/annotation/primitive type/void/[])çš„æœ‰å…³ä¿¡æ¯ã€‚</strong></p><ul><li><p><strong>Classæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªç±»</strong></p></li><li><p><strong>Classå¯¹è±¡åªèƒ½ç”±ç³»ç»Ÿå»ºç«‹</strong></p></li><li><p><strong>ä¸€ä¸ªåŠ è½½çš„ç±»åœ¨JVMä¸­åªä¼šæœ‰ä¸€ä¸ªClasså®ä¾‹</strong></p></li><li><p><strong>ä¸€ä¸ªClasså¯¹è±¡å¯¹åº”çš„æ˜¯ä¸€ä¸ªåŠ è½½åˆ°JVMä¸­çš„ä¸€ä¸ª.classæ–‡ä»¶</strong></p></li><li><p><strong>æ¯ä¸ªç±»çš„å®ä¾‹éƒ½ä¼šè®°å¾—è‡ªå·±æ˜¯ç”±å“ªä¸ªClasså®ä¾‹æ‰€ç”Ÿæˆ</strong></p></li></ul><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201212173524.png"></p><ul><li><strong>é€šè¿‡Classå¯ä»¥å®Œæ•´çš„å¾—åˆ°ä¸€ä¸ªç±»ä¸­æ‰€æœ‰è¢«åŠ è½½çš„ç»“æ„</strong></li><li><strong>Classç±»æ˜¯Reflectionçš„æ ¹æºï¼Œé’ˆå¯¹ä»»ä½•ä½ æƒ³åŠ¨æ€åŠ è½½ã€è¿è¡Œçš„ç±»ï¼Œå”¯æœ‰å…ˆè·å¾—ç›¸åº”çš„Classå¯¹è±¡</strong></li></ul><h2 id="Classç±»å¸¸ç”¨æ–¹æ³•"><a href="#Classç±»å¸¸ç”¨æ–¹æ³•" class="headerlink" title="Classç±»å¸¸ç”¨æ–¹æ³•"></a>Classç±»å¸¸ç”¨æ–¹æ³•</h2><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201212173933.png"></p><h2 id="è·å¾—Classç±»çš„å‡ ç§æ–¹å¼"><a href="#è·å¾—Classç±»çš„å‡ ç§æ–¹å¼" class="headerlink" title="è·å¾—Classç±»çš„å‡ ç§æ–¹å¼"></a>è·å¾—Classç±»çš„å‡ ç§æ–¹å¼</h2><p><strong>A ã€è‹¥å·²çŸ¥å…·ä½“çš„ç±»ï¼Œé€šè¿‡ç±»çš„classå±æ€§è·å–ï¼Œè¯¥æ–¹æ³•æœ€ä¸ºå®‰å…¨å¯é ï¼Œç¨‹åºæ€§èƒ½æœ€é«˜ã€‚</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class clazz = Person.class;</span><br></pre></td></tr></table></figure><p><strong>B ã€å·²çŸ¥æŸä¸ªç±»çš„å®ä¾‹ï¼Œè°ƒç”¨è¯¥å®ä¾‹çš„getClass()æ–¹æ³•è·å–Classå¯¹è±¡ã€‚</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class clazz = person.getClass();</span><br></pre></td></tr></table></figure><p><strong>Cã€å·²çŸ¥ä¸€ä¸ªç±»çš„å…¨ç±»åï¼Œä¸”è¯¥ç±»åœ¨ç±»è·¯å¾„ä¸‹ï¼Œå¯é€šè¿‡Classç±»çš„é™æ€æ–¹æ³•forName()è·å–ï¼Œå¯èƒ½æŠ›å‡ºClassNotFoundExceptionå¼‚å¸¸ã€‚</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class clazz = Class.forName(<span class="string">&quot;demo.Stufent&quot;</span>);</span><br></pre></td></tr></table></figure><p><strong>D ã€å†…ç½®åŸºæœ¬æ•°æ®ç±»å‹å¯ä»¥ç›´æ¥ç”¨ç±»å.Type è·å–Classå¯¹è±¡ã€‚</strong></p><p><strong>E ã€è¿˜å¯ä»¥åˆ©ç”¨ClassLoader</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">        Person person = <span class="keyword">new</span> Student();</span><br><span class="line">        <span class="comment">//è·å–Classå¯¹è±¡çš„å‡ ç§æ–¹å¼ï¼š</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//1ã€æ–¹å¼Aï¼šé€šè¿‡å¯¹è±¡è·å¾—</span></span><br><span class="line">        Class c1 = person.getClass();</span><br><span class="line">        System.out.println(c1.hashCode());</span><br><span class="line">        System.out.println(c1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2ã€æ–¹å¼Bï¼šé€šè¿‡Class.fornameè·å¾—</span></span><br><span class="line">        Class c2 = Class.forName(<span class="string">&quot;com.xu.pojo.Student&quot;</span>);</span><br><span class="line">        System.out.println(c2.hashCode());</span><br><span class="line">        System.out.println(c2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3ã€æ–¹å¼C:é€šè¿‡ .Classè·å¾—</span></span><br><span class="line">        Class c3 = Student.class;</span><br><span class="line">        System.out.println(c3.hashCode());</span><br><span class="line">        System.out.println(c3);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4ã€æ–¹å¼Dï¼šå†…ç½®çš„åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»éƒ½æœ‰ä¸€ä¸ª Type å±æ€§ï¼ˆåªæœ‰å†…ç½®çš„åŸºæœ¬ç±»å‹æœ‰ï¼‰</span></span><br><span class="line">        Class t1 = Integer.TYPE;</span><br><span class="line">        System.out.println(t1.hashCode());</span><br><span class="line">        System.out.println(t1);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å“ªäº›ç±»å‹å¯ä»¥æœ‰Classå¯¹è±¡ï¼Ÿ"><a href="#å“ªäº›ç±»å‹å¯ä»¥æœ‰Classå¯¹è±¡ï¼Ÿ" class="headerlink" title="å“ªäº›ç±»å‹å¯ä»¥æœ‰Classå¯¹è±¡ï¼Ÿ"></a>å“ªäº›ç±»å‹å¯ä»¥æœ‰Classå¯¹è±¡ï¼Ÿ</h2><ul><li><strong>class : å¤–éƒ¨ç±»ï¼Œæˆå‘˜(æˆå‘˜å†…éƒ¨ç±»ï¼Œé™æ€å†…éƒ¨ç±»)ï¼Œå±€éƒ¨å†…éƒ¨ç±»ï¼ŒåŒ¿åå†…éƒ¨ç±»ã€‚</strong></li><li><strong>interfac : æ¥å£</strong></li><li><strong>[] : æ•°ç»„</strong></li><li><strong>enum : æšä¸¾</strong></li><li><strong>annoatation : æ³¨è§£@interface</strong></li><li><strong>primitive type : åŸºæœ¬æ•°æ®ç±»å‹</strong></li><li><strong>void</strong></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Class c1 = Object.class; <span class="comment">// ç±»</span></span><br><span class="line">      Class c2 = Comparable.class; <span class="comment">// æ¥å£</span></span><br><span class="line">      Class c3 = String[].class; <span class="comment">// ä¸€ä½æ•°ç»„</span></span><br><span class="line">      Class c4 = <span class="keyword">int</span>[][].class; <span class="comment">// äºŒç»´æ•°ç»„</span></span><br><span class="line">      Class c5 = Override.class; <span class="comment">// æ³¨è§£</span></span><br><span class="line">      Class c6 = ElementType.class; <span class="comment">// æšä¸¾</span></span><br><span class="line">      Class c7 = Integer.class; <span class="comment">// åŸºæœ¬æ•°æ®ç±»å‹</span></span><br><span class="line">      Class c8 = <span class="keyword">void</span>.class; <span class="comment">// void</span></span><br><span class="line">      Class c9 = Class.class; <span class="comment">// Class</span></span><br></pre></td></tr></table></figure><h2 id="ç±»çš„åŠ è½½"><a href="#ç±»çš„åŠ è½½" class="headerlink" title="ç±»çš„åŠ è½½"></a>ç±»çš„åŠ è½½</h2><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201212174139.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201212174229.png"></p><h2 id="ç±»åˆå§‹åŒ–"><a href="#ç±»åˆå§‹åŒ–" class="headerlink" title="ç±»åˆå§‹åŒ–"></a>ç±»åˆå§‹åŒ–</h2><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201212180307.png"></p><h2 id="ç±»åŠ è½½å™¨"><a href="#ç±»åŠ è½½å™¨" class="headerlink" title="ç±»åŠ è½½å™¨"></a>ç±»åŠ è½½å™¨</h2><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201212180509.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201212180548.png"></p><h2 id="è·å–ç±»è¿è¡Œæ—¶çš„ç»“æ„"><a href="#è·å–ç±»è¿è¡Œæ—¶çš„ç»“æ„" class="headerlink" title="è·å–ç±»è¿è¡Œæ—¶çš„ç»“æ„"></a>è·å–ç±»è¿è¡Œæ—¶çš„ç»“æ„</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test03</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchFieldException, NoSuchMethodException </span>&#123;</span><br><span class="line">        Class c1 = Class.forName(<span class="string">&quot;com.xu.pojo.Person&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€è·å–ç±»çš„åå­—</span></span><br><span class="line">        String name = c1.getName();</span><br><span class="line">        String simpleName = c1.getSimpleName();</span><br><span class="line">        System.out.println(<span class="string">&quot;ç±»çš„åå­—ï¼š--ã€‹&quot;</span>+name);</span><br><span class="line">        System.out.println(<span class="string">&quot;ç±»ç®€å•çš„åå­—ï¼š--ã€‹&quot;</span>+simpleName);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;--------------------------åˆ†å‰²çº¿--------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2 ã€è·å–ç±»çš„å…¬å…±å±æ€§</span></span><br><span class="line">        Field[] fields1 = c1.getFields();  <span class="comment">// åªèƒ½è·å– public ä¿®é¥°çš„å±æ€§</span></span><br><span class="line">        <span class="keyword">for</span> (Field field : fields1) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¿”å›ç±»çš„å…¬å…±å±æ€§ï¼š--ã€‹&quot;</span>+field);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è·å–ç±»çš„æ‰€æœ‰å±æ€§</span></span><br><span class="line">        Field[] fields2 = c1.getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span> (Field field : fields2) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¿”å›ç±»çš„æ‰€æœ‰å±æ€§ï¼š--ã€‹&quot;</span>+field);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–ç±»æŒ‡å®šçš„å±æ€§</span></span><br><span class="line">        Field field = c1.getField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿”å›ç±»æŒ‡å®šçš„å±æ€§ï¼š--ã€‹&quot;</span>+field);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;--------------------------åˆ†å‰²çº¿--------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3 ã€ è·å–ç±»æ‰€æœ‰çš„å…¬å…±æ–¹æ³•</span></span><br><span class="line">        Method[] methods1 = c1.getMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method method : methods1) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¿”å›æœ¬ç±»åŠå…¶çˆ¶ç±»çš„publicæ–¹æ³•ï¼š--ã€‹&quot;</span>+method);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è·å–ç±»çš„æ‰€æœ‰æ–¹æ³•</span></span><br><span class="line">        Method[] methods2 = c1.getDeclaredMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method method : methods2) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¿”å›æœ¬ç±»çš„æ‰€æœ‰æ–¹æ³•ï¼š--ã€‹&quot;</span>+method);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¿”å›ç±»ä¸­æŒ‡å®šçš„æ–¹æ³•</span></span><br><span class="line">        Method ttt = c1.getDeclaredMethod(<span class="string">&quot;ttt&quot;</span>, <span class="keyword">null</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿”å›ç±»ä¸­æŒ‡å®šçš„æ–¹æ³•&quot;</span>+ttt);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;--------------------------åˆ†å‰²çº¿--------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€è·å–æ„é€ å™¨</span></span><br><span class="line">        Constructor[] constructors1 = c1.getConstructors();</span><br><span class="line">        <span class="keyword">for</span> (Constructor constructor : constructors1) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ­£å¸¸çš„&quot;</span>+constructor);</span><br><span class="line">        &#125;</span><br><span class="line">        Constructor[] constructors2 = c1.getDeclaredConstructors();</span><br><span class="line">        <span class="keyword">for</span> (Constructor constructor : constructors2) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Declared&quot;</span>+constructor);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–æŒ‡å®šçš„æ„é€ å™¨</span></span><br><span class="line">        Constructor constructor = c1.getDeclaredConstructor(String.class, Integer.class);</span><br><span class="line">        System.out.println(<span class="string">&quot;æŒ‡å®šçš„æ„é€ å™¨ï¼š&quot;</span>+constructor);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åå°„æ“ä½œå±æ€§å’Œæ–¹æ³•"><a href="#åå°„æ“ä½œå±æ€§å’Œæ–¹æ³•" class="headerlink" title="åå°„æ“ä½œå±æ€§å’Œæ–¹æ³•"></a>åå°„æ“ä½œå±æ€§å’Œæ–¹æ³•</h2><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201212180735.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201212180815.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201212180851.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201212180930.png"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡åå°„æ“ä½œå±æ€§å’Œæ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test04</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchFieldException, IllegalAccessException, InstantiationException, NoSuchMethodException, InvocationTargetException </span>&#123;</span><br><span class="line">        <span class="comment">// é€šè¿‡åå°„è·å–Classå¯¹è±¡</span></span><br><span class="line">        Class c1 = Class.forName(<span class="string">&quot;com.xu.pojo.Person&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é€šè¿‡æœ‰å‚æ„é€ å™¨åˆ›é€ å¯¹è±¡</span></span><br><span class="line">        Person person1 = (Person) c1.getDeclaredConstructor(String.class,Integer.class).newInstance(<span class="string">&quot;ç³ç…&quot;</span>,<span class="number">20</span>);</span><br><span class="line">        System.out.println(person1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é€šè¿‡æ— å‚æ„é€ å™¨åˆ›é€ å¯¹è±¡</span></span><br><span class="line">        Person person2 = (Person)c1.newInstance();</span><br><span class="line">        <span class="comment">//System.out.printf(String.valueOf(person2));</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//é€šè¿‡åå°„è°ƒç”¨ä¸€ä¸ªæ–¹æ³•</span></span><br><span class="line">        Method setName = c1.getDeclaredMethod(<span class="string">&quot;setName&quot;</span>, String.class);</span><br><span class="line">        setName.invoke(person2, <span class="string">&quot;æ— æš‡&quot;</span>);</span><br><span class="line">        <span class="comment">//invoke:æ¿€æ´»çš„æ„æ€</span></span><br><span class="line">        <span class="comment">//invokeï¼ˆ&quot;å¯¹è±¡&quot;ï¼Œ&quot;ä¼ å…¥æ–¹æ³•çš„å€¼&quot;ï¼‰</span></span><br><span class="line">        System.out.println(person2.getName());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é€šè¿‡åå°„æ“ä½œå±æ€§</span></span><br><span class="line">        Person person3 = (Person)c1.newInstance();</span><br><span class="line">        Field name = c1.getDeclaredField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        name.setAccessible(<span class="keyword">true</span>); <span class="comment">// å¦‚æœå±æ€§æ˜¯ç§æœ‰çš„ï¼Œæˆ‘ä»¬éœ€è¦å…³é—­ç¨‹åºçš„å®‰å…¨æ£€æµ‹ï¼Œå±æ€§æˆ–æ–¹æ³•setAccessible(true)</span></span><br><span class="line">        name.set(person3,<span class="string">&quot;é£æ‰¬&quot;</span>);</span><br><span class="line">        System.out.println(person3.getName());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="åå°„è·å–æ³¨è§£ä¿¡æ¯"><a href="#åå°„è·å–æ³¨è§£ä¿¡æ¯" class="headerlink" title="åå°„è·å–æ³¨è§£ä¿¡æ¯"></a>åå°„è·å–æ³¨è§£ä¿¡æ¯</h2><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201212181103.png"></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> åå°„æœºåˆ¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaè‡ªå®šä¹‰æ³¨è§£</title>
      <link href="posts/ba74bcdf/"/>
      <url>posts/ba74bcdf/</url>
      
        <content type="html"><![CDATA[<h1 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h1><h2 id="Javaå¸¸ç”¨çš„ä¸‰ä¸ªå†…ç½®æ³¨è§£ï¼š"><a href="#Javaå¸¸ç”¨çš„ä¸‰ä¸ªå†…ç½®æ³¨è§£ï¼š" class="headerlink" title="Javaå¸¸ç”¨çš„ä¸‰ä¸ªå†…ç½®æ³¨è§£ï¼š"></a>Javaå¸¸ç”¨çš„ä¸‰ä¸ªå†…ç½®æ³¨è§£ï¼š</h2><ul><li><p><strong>@Override : å®šä¹‰åœ¨Java.lang.Overrideä¸­ï¼Œè¡¨ç¤ºè¦†ç›–çˆ¶ç±»æ–¹æ³•ï¼›</strong></p></li><li><p><strong>@Deprecated : å®šä¹‰åœ¨Java.lang.Deprecatedä¸­ï¼Œè¡¨ç¤ºä¸å»ºè®®ä½¿ç”¨çš„ï¼›</strong></p></li><li><p><strong>@SuppressWarning : å®šä¹‰åœ¨Java.lang.SuppressWarningä¸­ï¼ŒæŠ‘åˆ¶è­¦å‘Šä¿¡æ¯ï¼›</strong></p></li></ul><h2 id="å…ƒæ³¨è§£ï¼š"><a href="#å…ƒæ³¨è§£ï¼š" class="headerlink" title="å…ƒæ³¨è§£ï¼š"></a>å…ƒæ³¨è§£ï¼š</h2><ul><li><strong>å…ƒæ³¨è§£çš„ä½œç”¨å°±æ˜¯è´Ÿè´£æ³¨è§£å…¶å®ƒæ³¨è§£ï¼ŒJavaå®šä¹‰äº†4ä¸ªæ ‡å‡†çš„meta-annotationç±»å‹ï¼Œä»–ä»¬è¢«ç”¨æ¥æä¾›å¯¹å…¶å®ƒannotationç±»å‹ä½œè¯´æ˜ã€‚</strong></li><li><strong>å¯ä»¥åœ¨Java.lang.annotationåŒ…ä¸­å¯ä»¥æ‰¾åˆ°4ä¸ªå…ƒæ³¨è§£ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼ˆ@Targetï¼Œ@Retentionï¼Œ@Documentedï¼Œ@Inheritedï¼‰</strong><ul><li><strong>@Target : ç”¨äºæè¿°æ³¨è§£çš„ä½¿ç”¨èŒƒå›´ï¼ˆå³ï¼šè¢«æè¿°çš„æ³¨è§£å¯ä»¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼‰ï¼›</strong></li><li><strong>@Retention : è¡¨ç¤ºéœ€è¦åœ¨ä»€ä¹ˆçº§åˆ«ä¿å­˜è¯¥æ³¨é‡Šä¿¡æ¯ï¼Œç”¨äºæè¿°æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸï¼ˆSOURCE&gt;CLASS&gt;RUNTIMEï¼‰;</strong></li><li><strong>@Documented : è¯´æ˜è¯¥æ³¨è§£å°†è¢«åŒ…å«åœ¨JavaDocä¸­ï¼›</strong></li><li><strong>Inherited : è¯´æ˜å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»ä¸­çš„è¯¥æ³¨è§£ï¼›</strong></li></ul></li></ul><h2 id="è‡ªå®šä¹‰æ³¨è§£ï¼š"><a href="#è‡ªå®šä¹‰æ³¨è§£ï¼š" class="headerlink" title="è‡ªå®šä¹‰æ³¨è§£ï¼š"></a>è‡ªå®šä¹‰æ³¨è§£ï¼š</h2><ul><li><p><strong>ä½¿ç”¨@interfaceè‡ªå®šä¹‰æ³¨è§£æ—¶ï¼Œè‡ªåŠ¨ç»§æ‰¿äº†Java.lang.annotation.Annotationæ¥å£ï¼›</strong></p></li><li><p><strong>å®šä¹‰æ³¨è§£çš„æ ¼å¼ï¼š</strong></p><ul><li><p><strong>public @interface æ³¨è§£å {å®šä¹‰çš„å†…å®¹}</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.METHOD)</span>  <span class="comment">// æ³¨è§£çš„ä½¿ç”¨èŒƒå›´ï¼Œå¤šä¸ªç”¨é€—å·éš”å¼€</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span> <span class="comment">// æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸ  SOURCE&gt;CLASS&gt;RUNTIME</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyAnnotation&#123;&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>æ³¨è§£ä¸­å‚æ•°åªæœ‰ä¸€ä¸ªçš„è¯ï¼Œå‚æ•°åä¸€èˆ¬ä½¿ç”¨value</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.METHOD,ElementType.FIELD&#125;)</span>  <span class="comment">// æ³¨è§£çš„ä½¿ç”¨èŒƒå›´ï¼Œå¤šä¸ªç”¨é€—å·éš”å¼€</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span> <span class="comment">// æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸ  SOURCE&gt;CLASS&gt;RUNTIME</span></span><br><span class="line"><span class="meta">@interface</span> MyAnnotation&#123;</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p><strong>é»˜è®¤å€¼çš„é—®é¢˜</strong></p><ul><li><p><strong>æ²¡æœ‰å®šä¹‰é»˜è®¤å€¼ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test06</span> </span>&#123;</span><br><span class="line">    <span class="meta">@MyAnnotation(name = &quot;å¼ ä¸‰&quot;,sex = 0)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.METHOD,ElementType.FIELD&#125;)</span>  <span class="comment">// æ³¨è§£çš„ä½¿ç”¨èŒƒå›´ï¼Œå¤šä¸ªç”¨é€—å·éš”å¼€</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span> <span class="comment">// æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸ  SOURCE&gt;CLASS&gt;RUNTIME</span></span><br><span class="line"><span class="meta">@interface</span> MyAnnotation&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">name</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">sex</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨æ³¨è§£æ—¶æ‹¬å·å†…å¿…é¡»æœ‰å€¼ï¼Œå¦‚æœä¸æƒ³å†™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®šä¹‰æ³¨è§£æ—¶å®šä¹‰ä¸€ä¸ªé»˜è®¤å€¼ï¼›</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>å®šä¹‰äº†é»˜è®¤å€¼ï¼š</strong></p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test06</span> </span>&#123;</span><br><span class="line">    <span class="meta">@MyAnnotation</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.METHOD,ElementType.FIELD&#125;)</span>  <span class="comment">// æ³¨è§£çš„ä½¿ç”¨èŒƒå›´ï¼Œå¤šä¸ªç”¨é€—å·éš”å¼€</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span> <span class="comment">// æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸ  SOURCE&gt;CLASS&gt;RUNTIME</span></span><br><span class="line"><span class="meta">@interface</span> MyAnnotation&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">name</span><span class="params">()</span> <span class="keyword">default</span> 0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">sex</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨æ³¨è§£æ—¶æ‹¬å·å†…å¿…é¡»æœ‰å€¼ï¼Œå¦‚æœä¸æƒ³å†™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®šä¹‰æ³¨è§£æ—¶å®šä¹‰ä¸€ä¸ªé»˜è®¤å€¼ï¼›</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>æˆ‘ä»¬å¦‚ä½•è¯»å–æ³¨è§£å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ï¼</strong></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> æ³¨è§£ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSSç¬”è®°</title>
      <link href="posts/1822a0ce/"/>
      <url>posts/1822a0ce/</url>
      
        <content type="html"><![CDATA[<h1 id="1ã€CSSçš„ç›¸å…³çŸ¥è¯†ç‚¹ï¼š"><a href="#1ã€CSSçš„ç›¸å…³çŸ¥è¯†ç‚¹ï¼š" class="headerlink" title="1ã€CSSçš„ç›¸å…³çŸ¥è¯†ç‚¹ï¼š"></a>1ã€CSSçš„ç›¸å…³çŸ¥è¯†ç‚¹ï¼š</h1><p><strong>â‘ å‘å±•å²</strong></p><p>css1. 0</p><p>css2.0  DIV+CSSï¼ŒHTMLå’ŒCSSç»“æ„åˆ†ç¦»æ€æƒ³ï¼Œç½‘é¡µå˜å¾—æ›´ç®€å•</p><p>css2.1  æµ®åŠ¨ï¼Œå®šä½</p><p>css3.0  åœ†è§’ï¼Œé˜´å½±ï¼ŒåŠ¨ç”»â€¦..æµè§ˆå™¨å…¼å®¹æ€§â€¦â€¦.</p><p><strong>â‘¡CSSçš„åŸºæœ¬è¯­æ³•ï¼š</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--è§„èŒƒï¼Œ&lt;Style&gt; æ ‡ç­¾å¯ä»¥ç¼–å†™CSSä»£ç ï¼Œæ¯ä¸€ä¸ªå£°æ˜æœ€å¥½ä½¿ç”¨åˆ†å·éš”å¼€</span></span><br><span class="line"><span class="comment">è¯­æ³•ï¼š</span></span><br><span class="line"><span class="comment">é€‰æ‹©å™¨&#123;</span></span><br><span class="line"><span class="comment">å£°æ˜1;</span></span><br><span class="line"><span class="comment">å£°æ˜2;</span></span><br><span class="line"><span class="comment">å£°æ˜3;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ä¾‹å­ï¼š</span></span><br><span class="line"><span class="comment">    &lt;style&gt;</span></span><br><span class="line"><span class="comment">        h1&#123;</span></span><br><span class="line"><span class="comment">            color: red;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    &lt;/style&gt;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>æˆ‘æ˜¯H1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>â‘¢å¤–éƒ¨å¼•å…¥CSSçš„æ–¹æ³•ï¼š</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/style.css&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--ä½¿ç”¨&lt;link&gt;å³å¯å¼•å…¥CSSï¼Œ&lt;link&gt;æ ‡ç­¾æœ€å¥½å†™åœ¨&lt;head&gt;æ ‡ç­¾çš„å†…éƒ¨--&gt;</span></span><br></pre></td></tr></table></figure><p><strong>â‘£ä½¿ç”¨CSSçš„ä¼˜åŠ¿ï¼š</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1ã€CSS2.0åï¼ŒHTMLå’ŒCSSçš„éƒ½å¯ä»¥åˆ†æˆç‹¬ç«‹çš„æ–‡ä»¶ï¼ŒHTMLæ–‡ä»¶åªæœ‰htmlï¼Œç½‘é¡µå˜å¾—æ›´ç®€å•çš„ï¼(å³å†…å®¹å’Œè¡¨ç°åˆ†ç¦»ï¼)</span><br><span class="line">2ã€ç½‘é¡µç»“æ„è¡¨ç°ç»Ÿä¸€çš„è¯ï¼Œå¯ä»¥å®ç°å¤ç”¨ã€‚</span><br><span class="line">3ã€æ ·å¼ååˆ†ä¸°å¯Œã€‚</span><br><span class="line">4ã€åˆ©ç”¨SEOï¼ˆæœç´¢å¼•æ“ä¼˜åŒ–ï¼‰ï¼Œå®¹æ˜“è¢«æœç´¢å¼•æ“æ”¶å½•ï¼</span><br></pre></td></tr></table></figure><p><strong>â‘¤ä½¿ç”¨CSSçš„ä¸‰ç§æ–¹å¼ï¼š</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">&lt;!--ç¬¬äºŒç§æ–¹å¼(å†…éƒ¨æ ·å¼)ï¼šåœ¨ &lt;Style&gt; æ ‡ç­¾ä¸­ç¼–å†™CSSä»£ç --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        h1&#123;</span><br><span class="line">            color: red;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"> <span class="comment">&lt;!--ç¬¬ä¸‰ç§æ–¹å¼(å¤–éƒ¨æ ·å¼)ï¼šé€šè¿‡ &lt;link&gt; æ ‡ç­¾è¿æ¥åˆ°å¤–éƒ¨çš„CSSæ–‡ä»¶--&gt;</span>   </span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/style.css&quot;</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">&lt;!--ç¬¬ä¸€ç§æ–¹å¼(è¡Œå†…æ ·å¼)ï¼šåœ¨æ ‡ç­¾å…ƒç´ ä¸­ç¼–å†™ä¸€ä¸ª Style å±æ€§ï¼Œç¼–å†™æ ·å¼å³å¯ï¼--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&quot;color: red&quot;</span>&gt;</span>æˆ‘æ˜¯H1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span> </span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong><font color=red>æ³¨æ„ç‚¹ï¼š</font></strong></p><p><strong>å¦‚æœè¿™ä¸‰ç§æ–¹å¼å…¨éƒ¨ä½œç”¨äºä¸€ä¸ªä½ç½®ï¼Œä»–ä»¬çš„<font color=red>åº”ç”¨ä¼˜å…ˆçº§</font>ä¸ºï¼š<u><code>å°±è¿‘åŸåˆ™(å³å“ªç§æ–¹å¼ç¦»æ ‡ç­¾è¶Šè¿‘ï¼Œæ ‡ç­¾å°±ä¼šä½¿ç”¨å“ªç§æ–¹å¼çš„ CSS æ ·å¼)</code></u></strong></p><p><strong>â‘¥æ‹“å±•ï¼šå¤–éƒ¨æ ·å¼çš„ä¸¤ç§å†™æ³•ï¼š</strong></p><p><code>1ã€é“¾æ¥å¼ï¼š</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/style.css&quot;</span>/&gt;</span><span class="comment">&lt;!--é“¾æ¥å¼å†™æ³•ï¼ŒCSS3.0ä¸­å‡ºç°çš„å†™æ³•--&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>æˆ‘æ˜¯H1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>2ã€å¯¼å…¥å¼ï¼š</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="keyword">@import</span> url(<span class="string">&quot;css/style.css&quot;</span>)</span></span><br><span class="line">    </span><br><span class="line"><span class="css">    <span class="comment">/*å¯¼å…¥å¼å†™æ³•ï¼ŒCSS2.1ä¸­å‡ºç°çš„å†™æ³•ã€‚ç°å·²åºŸå¼ƒ*/</span></span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>æˆ‘æ˜¯H1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>åŒºåˆ«ï¼š</strong></p><p><strong>1ã€å±æ€§ä¸åŒï¼š</strong></p><p><font size=4 color=red face="é»‘ä½“">linkæ˜¯htmlæä¾›çš„æ ‡ç­¾ï¼Œä¸ä»…å¯ä»¥åŠ è½½cssæ–‡ä»¶ï¼Œè¿˜èƒ½å®šä¹‰ RSSã€rel è¿æ¥å±æ€§ç­‰ã€‚è€Œ</font></p><p><font size=4 color=red face="é»‘ä½“">@importæ˜¯cssä¸­çš„è¯­æ³•è§„åˆ™ </font></p><p><strong>2ã€åŠ è½½é¡ºåºä¸åŒï¼š</strong></p><p><font size=4 color=red face="é»‘ä½“">é¡µé¢æ‰“å¼€æ—¶ï¼Œlinkå¼•ç”¨çš„cssæ–‡ä»¶è¢«åŠ è½½ã€‚è€Œ@importå¼•ç”¨çš„CSSç­‰é¡µé¢åŠ è½½å®Œåæœ€ååŠ è½½ã€‚</font></p><p><strong>3ã€å…¼å®¹æ€§ï¼š</strong></p><p><font size=4 color=red face="é»‘ä½“">@importæ˜¯css2.1åæå‡ºçš„ï¼Œè€Œlinkæ˜¯ä¸å­˜åœ¨å…¼å®¹é—®é¢˜ã€‚</font></p><p><strong>4ã€DOMæ§åˆ¶æ€§ï¼š</strong></p><p><font size=4 color=red face="é»‘ä½“">jsæ“ä½œDOMï¼Œå¯ä»¥ä½¿ç”¨linkæ”¹å˜æ ·å¼ï¼Œæ— æ³•ä½¿ç”¨@importçš„æ–¹å¼ä½¿ç”¨æ ·å¼ã€‚</font></p><h1 id="2ã€é€‰æ‹©å™¨"><a href="#2ã€é€‰æ‹©å™¨" class="headerlink" title="2ã€é€‰æ‹©å™¨"></a>2ã€é€‰æ‹©å™¨</h1><h3 id="2-1ã€åŸºæœ¬é€‰æ‹©å™¨ï¼š"><a href="#2-1ã€åŸºæœ¬é€‰æ‹©å™¨ï¼š" class="headerlink" title="2.1ã€åŸºæœ¬é€‰æ‹©å™¨ï¼š"></a>2.1ã€åŸºæœ¬é€‰æ‹©å™¨ï¼š</h3><p>1ã€æ ‡ç­¾é€‰æ‹©å™¨            é€‰æ‹©ä¸€ç±»æ ‡ç­¾ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>æˆ‘çš„ç¬¬ä¸€ä¸ªé¡µé¢<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        /*</span><br><span class="line"><span class="css">        æ ¼å¼ï¼šæ ‡ç­¾å&#123;&#125;</span></span><br><span class="line">        ä¾‹å­ï¼š</span><br><span class="line">        h1&#123;</span><br><span class="line">            color: red;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        é€‰ä¸­æ‰€æœ‰h1æ ‡ç­¾ï¼Œå¹¶å°†å®ƒä»¬çš„é¢œè‰²è®¾ä¸ºçº¢è‰²ï¼</span><br><span class="line">        */</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>æˆ‘æ˜¯H1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>æˆ‘æ˜¯H2<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>æˆ‘æ˜¯H3<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2ã€ç±»é€‰æ‹©å™¨                é€‰æ‹©æ‰€ä»¥ class å±æ€§ç›¸åŒçš„æ ‡ç­¾ï¼Œå¯ä»¥è·¨æ ‡ç­¾ä½¿ç”¨ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>æˆ‘çš„ç¬¬ä¸€ä¸ªé¡µé¢<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        /*</span><br><span class="line"><span class="css">        æ ¼å¼ï¼š.ç±»å&#123;&#125;</span></span><br><span class="line">        ä¾‹å­ï¼š</span><br><span class="line"><span class="css">        <span class="selector-class">.linlang</span>&#123;</span></span><br><span class="line">            color: red;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        é€‰ä¸­æ‰€æœ‰classå±æ€§ä¸º linlang æ ‡ç­¾ï¼Œå¹¶å°†å®ƒä»¬çš„é¢œè‰²è®¾ä¸ºçº¢è‰²ï¼ ç±»é€‰æ‹©å™¨å¯ä»¥è·¨æ ‡ç­¾ä½¿ç”¨ï¼</span><br><span class="line">        */</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;linlang&quot;</span>&gt;</span>æˆ‘æ˜¯H1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;linlang&quot;</span>&gt;</span>æˆ‘æ˜¯H2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;linlang&quot;</span>&gt;</span>æˆ‘æ˜¯H3<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>3ã€IDé€‰æ‹©å™¨                å…¨å±€å”¯ä¸€ï¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>æˆ‘çš„ç¬¬ä¸€ä¸ªé¡µé¢<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        /*æ ¼å¼ï¼š#IDå&#123;&#125;</span><br><span class="line">        ä¾‹å­ï¼š</span><br><span class="line"><span class="css">        <span class="selector-id">#linlang</span>&#123;</span></span><br><span class="line">            color: red;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        é€‰ä¸­ ID ä¸º linlang æ ‡ç­¾ï¼Œå¹¶å°†å®ƒä»¬çš„é¢œè‰²è®¾ä¸ºçº¢è‰²ï¼ IDé€‰æ‹©å™¨å…¨å±€å”¯ä¸€ï¼*/</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span>=<span class="string">&quot;linlang&quot;</span>&gt;</span>æˆ‘æ˜¯H1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><font color=red face="é»‘ä½“">é€‰æ‹©å™¨çš„ä¼˜å…ˆçº§ï¼šä¸éµå¾ªå°±è¿‘åŸåˆ™ï¼ŒIDé€‰æ‹©å™¨ &gt; ç±»é€‰æ‹©å™¨ &gt; æ ‡ç­¾é€‰æ‹©å™¨</font></p><h3 id="2-2ã€å±‚æ¬¡é€‰æ‹©å™¨ï¼š"><a href="#2-2ã€å±‚æ¬¡é€‰æ‹©å™¨ï¼š" class="headerlink" title="2.2ã€å±‚æ¬¡é€‰æ‹©å™¨ï¼š"></a>2.2ã€å±‚æ¬¡é€‰æ‹©å™¨ï¼š</h3><p>1ã€åä»£é€‰æ‹©å™¨            åä»£é€‰æ‹©å™¨é€‰æ‹©ä¸€ä¸ªå…ƒç´ çš„æ‰€æœ‰åä»£ã€‚</p><p>2ã€å­é€‰æ‹©å™¨                å­é€‰æ‹©å™¨åªé€‰æ‹©å…ƒç´ çš„ç›´æ¥åæ¥ï¼Œå³åä»£çš„åä»£ä¸ä¼šå—å½±å“ã€‚</p><p>3ã€ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨        ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨å¯ä»¥é€‰æ‹©åŒä¸€ä¸ªçˆ¶å…ƒç´ ä¸‹è‡ªèº«æ‰€åœ¨ä½ç½®å‘ä¸‹ä¸€ä¸ªå…„å¼Ÿå…ƒç´ ï¼ˆå¯¹ä¸‹ä¸å¯¹ä¸Šï¼‰</p><p>4ã€å…„å¼Ÿé€‰æ‹©å™¨            å…„å¼Ÿé€‰æ‹©å™¨å¯ä»¥é€‰æ‹©åŒä¸€ä¸ªçˆ¶å…ƒç´ ä¸‹è‡ªèº«æ‰€åœ¨ä½ç½®å‘ä¸‹çš„æ‰€æœ‰å…„å¼Ÿå…ƒç´ ï¼ˆå¯¹ä¸‹ä¸å¯¹ä¸Šï¼‰</p><h3 id="2-3ã€ç»“æ„ä¼ªç±»é€‰æ‹©å™¨"><a href="#2-3ã€ç»“æ„ä¼ªç±»é€‰æ‹©å™¨" class="headerlink" title="2.3ã€ç»“æ„ä¼ªç±»é€‰æ‹©å™¨"></a>2.3ã€ç»“æ„ä¼ªç±»é€‰æ‹©å™¨</h3><p><strong>ä¼ªç±»å¯ä»¥ç†è§£ä¸ºè¿‡æ»¤çš„æ„æ€</strong></p><p><strong>ä¼ªç±»é€‰æ‹©å™¨ä»¥ ï¼šå¼€å¤´</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>æˆ‘çš„ç¬¬ä¸€ä¸ªé¡µé¢<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="xml">        /*è¦æ±‚ï¼šé€‰ä¸­<span class="tag">&lt;<span class="name">ul</span>&gt;</span>ä¸‹é¢çš„ç¬¬ä¸€ä¸ª<span class="tag">&lt;<span class="name">li</span>&gt;</span>æ ‡ç­¾,å®šä½åˆ°li1*/</span></span><br><span class="line"><span class="css">        <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:first-child</span>&#123;</span></span><br><span class="line">            color: red;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="xml">        /*è¦æ±‚ï¼šé€‰ä¸­<span class="tag">&lt;<span class="name">ul</span>&gt;</span>ä¸‹é¢çš„æœ€åä¸€ä¸ª<span class="tag">&lt;<span class="name">li</span>&gt;</span>æ ‡ç­¾ï¼Œå®šä½åˆ°li3*/</span></span><br><span class="line"><span class="css">        <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:last-child</span>&#123;</span></span><br><span class="line">            color: green;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="xml">        /*è¦æ±‚ï¼šé€‰ä¸­<span class="tag">&lt;<span class="name">body</span>&gt;</span>ä¸‹é¢çš„ç¬¬ä¸€ä¸ª<span class="tag">&lt;<span class="name">p</span>&gt;</span>æ ‡ç­¾ï¼Œå®šä½åˆ°p1*/</span></span><br><span class="line"><span class="css">        <span class="selector-tag">p</span><span class="selector-pseudo">:nth-child(2)</span>&#123;         <span class="comment">/*é‡Šä¹‰ï¼šæ‰¾åˆ°&lt;P&gt;å…ƒç´ çš„çˆ¶çº§å…ƒç´ çš„æ‰€æœ‰å­å…ƒç´ ï¼ŒæŒ‰ç…§é¡ºåºæ•°ç¬¬2ä¸ªå­å…ƒç´ */</span></span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-tag">blue</span>;        <span class="comment">/*nth-childæ˜¯æŒ‰ç…§é¡ºåºæ¥çš„*/</span></span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="xml">        /*è¦æ±‚ï¼šé€‰ä¸­<span class="tag">&lt;<span class="name">body</span>&gt;</span>ä¸‹é¢çš„ç¬¬ä¸€ä¸ª<span class="tag">&lt;<span class="name">p</span>&gt;</span>æ ‡ç­¾ï¼Œå®šä½åˆ°p1*/</span></span><br><span class="line"><span class="css">        <span class="selector-tag">p</span><span class="selector-pseudo">:nth-of-type(1)</span>&#123;  <span class="comment">/*é‡Šä¹‰ï¼šæ‰¾åˆ°&lt;P&gt;å…ƒç´ çš„çˆ¶çº§å…ƒç´ çš„åŒç±»å‹æ‰€æœ‰å­å…ƒç´ &lt;P&gt;ï¼ŒæŒ‰ç…§é¡ºåºæ•°ç¬¬1ä¸ªå­å…ƒç´ */</span></span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-tag">yellow</span>; <span class="comment">/*nth-of-typeæ˜¯æŒ‰ç…§åŒç±»å‹çš„é¡ºåºçš„æ¥çš„*/</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>h1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>p1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>h2<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>p2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>p3<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>li1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>li2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>li3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-4ã€å±æ€§é€‰æ‹©å™¨"><a href="#2-4ã€å±æ€§é€‰æ‹©å™¨" class="headerlink" title="2.4ã€å±æ€§é€‰æ‹©å™¨"></a>2.4ã€å±æ€§é€‰æ‹©å™¨</h3><p><strong>ç›¸å½“äºIDé€‰æ‹©å™¨+classé€‰æ‹©å™¨çš„ç»“åˆ(é…åˆæ­£åˆ™è¡¨è¾¾å¼é£Ÿç”¨ï¼Œæ•ˆæœæ›´ä½³å“¦ï¼)</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        a&#123;</span><br><span class="line">            height: 50px;</span><br><span class="line">            width: 50px;</span><br><span class="line">            border-radius: 10px;</span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#000000</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#ffffff</span>;</span></span><br><span class="line">            text-align: center;</span><br><span class="line">            font-weight: bold ;</span><br><span class="line">            line-height: 50px;</span><br><span class="line">            display: block;</span><br><span class="line">            text-decoration: none;</span><br><span class="line">            margin-right: 5px;</span><br><span class="line">            float: left;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /*</span><br><span class="line"></span><br><span class="line">        =    è¡¨ç¤ºï¼šç»å¯¹ç­‰äº</span><br><span class="line">        *=   è¡¨ç¤ºï¼šåŒ…å«è¿™ä¸ªå…ƒç´ </span><br><span class="line">        ^=   è¡¨ç¤ºï¼šä»¥è¿™ä¸ªå…ƒç´ å¼€å¤´</span><br><span class="line">        $=   è¡¨ç¤ºï¼šä»¥è¿™ä¸ªå…ƒç´ ç»“å°¾</span><br><span class="line"></span><br><span class="line">        è¯­æ³•è§„åˆ™ï¼šé€‰æ‹©åˆ°çš„å…ƒç´  [å±æ€§è¿‡æ»¤]&#123;å£°æ˜1;å£°æ˜2;å£°æ˜3;&#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-tag">a</span><span class="selector-attr">[class$=bbb]</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-tag">red</span>;   é‡Šä¹‰ï¼šé€šè¿‡æ ‡ç­¾é€‰æ‹©å™¨ é€‰æ‹©æ‰€æœ‰çš„<span class="selector-tag">a</span>æ ‡ç­¾ ï¼Œ<span class="selector-attr">[class$=bbb]</span>è¡¨ç¤º<span class="selector-tag">class</span>å±æ€§ä¸­ä»¥<span class="selector-tag">bbb</span>ç»“å°¾çš„<span class="selector-tag">a</span>æ ‡ç­¾</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        a[href*=&quot;css/1.jpg&quot;]&#123;   é‡Šä¹‰ï¼šé€šè¿‡æ ‡ç­¾é€‰æ‹©å™¨ é€‰æ‹©æ‰€æœ‰çš„aæ ‡ç­¾ ï¼Œ[href*=&quot;css/1.jpg&quot;]è¡¨ç¤ºhrefå±æ€§ä¸­åŒ…å«css/1.jpgçš„aæ ‡ç­¾</span><br><span class="line">            background-color: red;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        */</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;www.huawei.com&quot;</span> <span class="attr">class</span>=<span class="string">&quot;aaa bbb xxx&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;css/1.jpg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;aaa bbb xxx&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;css/1.jpg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;aaa bbb xxx&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;css/1.jpg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;aaa bbb&quot;</span>&gt;</span>4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;css/1.jpg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;aaa bbb&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;css/1.jpg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;aaa bbb&quot;</span>&gt;</span>6<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;css/1.jpg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;aaa bbb xxx&quot;</span>&gt;</span>7<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;css/1.jpg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;bbb xxx&quot;</span>&gt;</span>8<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;css/1.jpg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;bbb xxx&quot;</span>&gt;</span>9<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;css/1.doc&quot;</span> <span class="attr">class</span>=<span class="string">&quot;aaa bbb xxx&quot;</span>&gt;</span>10<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="3ã€ç›¸å…³çš„å±æ€§"><a href="#3ã€ç›¸å…³çš„å±æ€§" class="headerlink" title="3ã€ç›¸å…³çš„å±æ€§"></a>3ã€ç›¸å…³çš„å±æ€§</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">text-align</span>:æ–‡æœ¬å¯¹é½æ–¹å¼   <span class="selector-tag">center</span>å±…ä¸­ã€<span class="selector-tag">right</span>å³è¾¹ã€<span class="selector-tag">left</span>å·¦è¾¹</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">text-indent</span>:é¦–è¡Œç¼©è¿›  å•ä½æ¨è<span class="selector-tag">em</span>ä¸€èˆ¬2<span class="selector-tag">em</span>å°±è¡Œ</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">line-height</span>:è¡Œé«˜è¿™ä¸ªè¡Œé«˜æŒ‡è¯¥å…ƒç´ çš„é«˜åº¦ï¼Œå¦‚æœè¡Œé«˜ç­‰äºç›’å­é«˜åº¦ï¼Œåˆ™å±…ä¸­ï¼</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">text-decoration</span>ï¼šä¸‹åˆ’çº¿  <span class="selector-tag">none</span>æ— ã€<span class="selector-tag">underline</span>æœ‰ã€<span class="selector-tag">line-through</span>åˆ é™¤çº¿ã€<span class="selector-tag">overline</span>ä¸Šåˆ’çº¿</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">text-shadow</span>:é˜´å½± ç›¸å…³å‚æ•°ï¼š1ã€é˜´å½±é¢œè‰² 2ã€æ°´å¹³åç§» 3ã€å‚ç›´åç§» 4ã€é˜´å½±åŠå¾„</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="4ã€ä¼ªç±»é“¾æ¥"><a href="#4ã€ä¼ªç±»é“¾æ¥" class="headerlink" title="4ã€ä¼ªç±»é“¾æ¥"></a>4ã€ä¼ªç±»é“¾æ¥</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:link</span> &#123;<span class="attribute">color</span>:<span class="number">#FF0000</span>;&#125; <span class="comment">/* æœªè®¿é—®çš„é“¾æ¥ */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:visited</span> &#123;<span class="attribute">color</span>:<span class="number">#00FF00</span>;&#125; <span class="comment">/* å·²è®¿é—®çš„é“¾æ¥ */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;<span class="attribute">color</span>:<span class="number">#FF00FF</span>;&#125; <span class="comment">/* é¼ æ ‡åˆ’è¿‡é“¾æ¥ */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:active</span> &#123;<span class="attribute">color</span>:<span class="number">#0000FF</span>;&#125; <span class="comment">/* å·²é€‰ä¸­çš„é“¾æ¥ */</span></span><br></pre></td></tr></table></figure><h1 id="5ã€åˆ—è¡¨"><a href="#5ã€åˆ—è¡¨" class="headerlink" title="5ã€åˆ—è¡¨"></a>5ã€åˆ—è¡¨</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">list-style:</span></span><br><span class="line"><span class="comment">noneå»æ‰åœ†ç‚¹</span></span><br><span class="line"><span class="comment">decimalæ•°å­—</span></span><br><span class="line"><span class="comment">circleç©ºå¿ƒåœ†</span></span><br><span class="line"><span class="comment">squareæ­£æ–¹è¡Œ</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span>&#123;</span><br><span class="line">    <span class="attribute">list-style</span>:none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="6ã€èƒŒæ™¯å›¾ç‰‡"><a href="#6ã€èƒŒæ™¯å›¾ç‰‡" class="headerlink" title="6ã€èƒŒæ™¯å›¾ç‰‡"></a>6ã€èƒŒæ™¯å›¾ç‰‡</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">bgckground-image</span>:<span class="built_in">url</span>(<span class="string">&quot;images/1.jpg&quot;</span>);</span><br><span class="line">    bgckground-repeatï¼šno-repeat;</span><br><span class="line">    <span class="selector-tag">bgckground-position</span><span class="selector-pseudo">:20px</span> 30<span class="selector-tag">px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">èƒŒæ™¯å›¾ç‰‡é»˜è®¤æ˜¯é“ºæ»¡æ•´ä¸ªå±å¹•çš„ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ  </span></span><br><span class="line"><span class="comment">bgckground-repeatï¼šno-repeat  å–æ¶ˆå¹³é“º</span></span><br><span class="line"><span class="comment">æ”¹å˜å›¾ç‰‡çš„ä½ç½®ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ </span></span><br><span class="line"><span class="comment">bgckground-position:å‚æ•°1(ä»¥å·¦ä¸Šè§’åŸç‚¹ä¸ºä¸­å¿ƒï¼Œ</span></span><br><span class="line"><span class="comment">å·¦å³ï¼ˆxè½´ï¼‰çš„åç§»é‡) å‚æ•°2(ä»¥å·¦ä¸Šè§’åŸç‚¹ä¸ºä¸­å¿ƒï¼Œä¸Šä¸‹ï¼ˆyè½´ï¼‰çš„åç§»é‡)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">ç®€å†™ï¼š</span><br><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">        <span class="comment">/*é¢œè‰²ã€å›¾ç‰‡åœ°å€ å›¾ç‰‡çš„ä½ç½® å¹³é“ºæ–¹å¼*/</span></span><br><span class="line">    <span class="attribute">bgckground</span>:blue <span class="built_in">url</span>(<span class="string">&quot;images/1.jpg&quot;</span>) <span class="number">20px</span> <span class="number">30px</span> no-repeat;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="7ã€display"><a href="#7ã€display" class="headerlink" title="7ã€display"></a>7ã€display</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>:none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">displayçš„ç›¸å…³å±æ€§å€¼ï¼š</span></span><br><span class="line"><span class="comment">none---ã€‹éšè—è¯¥å…ƒç´ </span></span><br><span class="line"><span class="comment">block---ã€‹å°†è¯¥å…ƒç´ å˜ä¸ºå—å…ƒç´ </span></span><br><span class="line"><span class="comment">inline---ã€‹å°†è¯¥å…ƒç´ å˜ä¸ºè¡Œå†…å…ƒç´ </span></span><br><span class="line"><span class="comment">inline-block---ã€‹å—å…ƒç´ å’Œè¡Œå†…å…ƒç´ çš„ç»“åˆï¼Œæ˜¯å—å…ƒç´ ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸€è¡Œï¼</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h1 id="8ã€æµ®åŠ¨-float"><a href="#8ã€æµ®åŠ¨-float" class="headerlink" title="8ã€æµ®åŠ¨(float)"></a>8ã€æµ®åŠ¨(float)</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>:left;<span class="comment">/*å‘å·¦æµ®åŠ¨ */</span></span><br><span class="line">    <span class="attribute">float</span>:right;<span class="comment">/* å‘å³æµ®åŠ¨ */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="9ã€çˆ¶çº§è¾¹æ¡†å¡Œé™·é—®é¢˜"><a href="#9ã€çˆ¶çº§è¾¹æ¡†å¡Œé™·é—®é¢˜" class="headerlink" title="9ã€çˆ¶çº§è¾¹æ¡†å¡Œé™·é—®é¢˜"></a>9ã€çˆ¶çº§è¾¹æ¡†å¡Œé™·é—®é¢˜</h1><p><strong>ç”±äºæµ®åŠ¨åï¼Œå†…å®¹è„±ç¦»æ ‡å‡†æ–‡æ¡£æµã€‚ä¼šé€ æˆçˆ¶çº§è¾¹æ¡†å¡Œé™·ï¼</strong></p><p><font color=red><strong>4ç§è§£å†³æ–¹æ¡ˆï¼š</strong></font></p><p><font color=blue><strong>1ã€å¢åŠ çˆ¶çº§è¾¹æ¡†çš„é«˜åº¦</strong></font></p><p><font color=blue><strong>2ã€åœ¨æ¼‚æµ®çš„å…ƒç´ åé¢å¢åŠ ä¸€ä¸ªç©ºçš„  div ï¼Œå¹¶æ¸…é™¤è¯¥ div çš„å·¦å³æµ®åŠ¨ï¼</strong></font></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.class</span>&#123;</span><br><span class="line">    <span class="attribute">clear</span>:both</span><br><span class="line">    margin:<span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">clearçš„ç›¸å…³å±æ€§å€¼ï¼š</span></span><br><span class="line"><span class="comment">clearï¼šright;å³ä¾§ä¸å…è®¸æœ‰æµ®åŠ¨å…ƒç´ </span></span><br><span class="line"><span class="comment">    clearï¼šleft;å·¦ä¾§ä¸å…è®¸æœ‰æµ®åŠ¨å…ƒç´ </span></span><br><span class="line"><span class="comment">    clearï¼šboth;ä¸¤ä¾§ä¸å…è®¸æœ‰æµ®åŠ¨å…ƒç´ </span></span><br><span class="line"><span class="comment">    clearï¼šnone;</span></span><br></pre></td></tr></table></figure><p><font color=blue><strong>3ã€overflow</strong></font></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">åœ¨æµ®åŠ¨å…ƒç´ çš„çˆ¶çº§ä¸­æ·»åŠ overflowï¼šhiddenå±æ€§ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">&lt;div id=&quot;father&quot;&gt;</span><br><span class="line">&lt;<span class="selector-tag">div</span>&gt; <span class="selector-tag">div1</span> &lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">div</span>&gt; <span class="selector-tag">div2</span> &lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">div</span>&gt; <span class="selector-tag">div3</span> &lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#father</span>&#123;</span><br><span class="line">    <span class="attribute">overflow</span>:hiddenè‡ªåŠ¨éšè—</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">overflowçš„ç›¸å…³å±æ€§ï¼Œ</span></span><br><span class="line"><span class="comment">overflowï¼šhidden  å†…å®¹è¶…å‡ºéƒ¨åˆ†è‡ªåŠ¨éšè—</span></span><br><span class="line"><span class="comment">overflowï¼šscroll  å†…å®¹è¶…å‡ºéƒ¨åˆ†ä»¥æ»šåŠ¨æ¡å‡ºç°å¹¶æŸ¥çœ‹</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><font color=blue><strong>4ã€çˆ¶ç±»å…ƒç´ æ·»åŠ ä¸€ä¸ªä¼ªç±»ï¼šafter,å¹¶æ·»åŠ ä»¥ä¸‹ç›¸å…³å±æ€§</strong></font></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#father</span><span class="selector-pseudo">:after</span>&#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">&#x27;&#x27;</span></span><br><span class="line">    display:block</span><br><span class="line">    clear:both</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¯¹æ¯”displayå’Œfloat</strong></p><p><strong>displayï¼šè®©å†…å®¹æ’æˆä¸€æ’ï¼Œç¼ºç‚¹ï¼šæ”¾ç½®çš„æ–¹å‘ä¸å¯æ§ã€‚</strong></p><p><strong>floatï¼šè®©å†…å®¹æ’æˆä¸€æ’ï¼Œç¼ºç‚¹ï¼šè¦è§£å†³çˆ¶çº§è¾¹æ¡†å¡Œé™·çš„é—®é¢˜ï¼Œæ¨èç¬¬4ç§è§£å†³æ–¹æ¡ˆã€‚</strong></p><h1 id="10-ã€å®šä½"><a href="#10-ã€å®šä½" class="headerlink" title="10 ã€å®šä½"></a>10 ã€å®šä½</h1><h3 id="10-1ã€ç›¸å¯¹å®šä½"><a href="#10-1ã€ç›¸å¯¹å®šä½" class="headerlink" title="10.1ã€ç›¸å¯¹å®šä½"></a>10.1ã€ç›¸å¯¹å®šä½</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ç›¸å¯¹å®šä½ï¼š*/</span> <span class="selector-tag">position</span>: <span class="selector-tag">relative</span>;</span><br></pre></td></tr></table></figure><p><strong><font color=red>ç›¸å¯¹äºè‡ªèº«çš„ä½ç½®ï¼Œè¿›è¡Œåç§»</font>ã€‚ç›¸å¯¹å®šä½çš„è¯ï¼Œå®ƒå¹¶<font color=red>æ²¡æœ‰è„±ç¦»</font>æ ‡å‡†æ–‡æ¡£æµï¼Œæ‰€ä»¥<font color=red>åŸæ¥çš„ä½ç½®ä¼šè¢«ä¿ç•™ï¼</font></strong></p><h3 id="10-2ã€ç»å¯¹å®šä½"><a href="#10-2ã€ç»å¯¹å®šä½" class="headerlink" title="10.2ã€ç»å¯¹å®šä½"></a>10.2ã€ç»å¯¹å®šä½</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ç»å¯¹å®šä½*/</span><span class="selector-tag">position</span>: <span class="selector-tag">absolute</span>;</span><br></pre></td></tr></table></figure><p><strong><font color=red>ç›¸å¯¹äºçˆ¶çº§å…ƒç´ æˆ–æµè§ˆå™¨çš„ä½ç½®ï¼Œè¿›è¡Œåç§»</font>ã€‚ç»å¯¹å®šä½çš„è¯ï¼Œå®ƒ<font color=red>è„±ç¦»äº†æ ‡å‡†æ–‡æ¡£æµ</font>ï¼Œæ‰€ä»¥<font color=red>åŸæ¥çš„ä½ç½®ä¸ä¼šè¢«ä¿ç•™ï¼</font></strong></p><p><font color=blue><strong>æ³¨æ„ç‚¹ï¼š</strong></font></p><p><font color=blue><strong>1ã€çˆ¶çº§å…ƒç´ æ²¡æœ‰ä½¿ç”¨å®šä½çš„è¯ï¼Œæ˜¯ç›¸å¯¹äºæµè§ˆå™¨ä½ç½®è¿›è¡Œåç§»çš„ï¼</strong></font></p><p><font color=blue><strong>2ã€çˆ¶çº§å…ƒç´ å­˜åœ¨å®šä½çš„è¯ï¼Œæ˜¯ç›¸å¯¹äºçˆ¶çº§å…ƒç´ çš„ä½ç½®è¿›è¡Œåç§»çš„ï¼</strong></font></p><hr><h3 id="10-3ã€å›ºå®šå®šä½"><a href="#10-3ã€å›ºå®šå®šä½" class="headerlink" title="10.3ã€å›ºå®šå®šä½"></a>10.3ã€å›ºå®šå®šä½</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*å›ºå®šå®šä½ï¼š*/</span><span class="selector-tag">position</span>: <span class="selector-tag">fixed</span>;</span><br></pre></td></tr></table></figure><h3 id="10-4ã€Z-index"><a href="#10-4ã€Z-index" class="headerlink" title="10.4ã€Z-index"></a>10.4ã€Z-index</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">z-index</span>: 22;<span class="comment">/*å¯ä»¥ç”¨æ¥æå‡å®šä½åï¼Œé‡å å…ƒç´ çš„å±‚çº§ï¼*/</span></span><br></pre></td></tr></table></figure><h3 id="10-5ã€èƒŒæ™¯é€æ˜åº¦å±æ€§"><a href="#10-5ã€èƒŒæ™¯é€æ˜åº¦å±æ€§" class="headerlink" title="10.5ã€èƒŒæ™¯é€æ˜åº¦å±æ€§"></a>10.5ã€èƒŒæ™¯é€æ˜åº¦å±æ€§</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*èƒŒæ™¯é€æ˜åº¦*/</span><span class="selector-tag">opacity</span><span class="selector-pseudo">:0.5</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Css </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitç¬”è®°</title>
      <link href="posts/5bd9b965/"/>
      <url>posts/5bd9b965/</url>
      
        <content type="html"><![CDATA[<h1 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h1><p><strong><a href="https://www.cnblogs.com/miracle77hp/articles/11163532.html">https://www.cnblogs.com/miracle77hp/articles/11163532.html</a></strong></p><p><strong>æ„Ÿè°¢åšä¸»ï¼</strong></p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>Gitä¸‹è½½ï¼š<a href="https://npm.taobao.org/mirrors/git-for-windows/">https://npm.taobao.org/mirrors/git-for-windows/</a></p><h2 id="Linux-å¹³å°ä¸Šå®‰è£…"><a href="#Linux-å¹³å°ä¸Šå®‰è£…" class="headerlink" title="Linux å¹³å°ä¸Šå®‰è£…"></a><font color=blue>Linux å¹³å°ä¸Šå®‰è£…</font></h2><p>Git çš„å·¥ä½œéœ€è¦è°ƒç”¨ curlï¼Œzlibï¼Œopensslï¼Œexpatï¼Œlibiconv ç­‰åº“çš„ä»£ç ï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£…è¿™äº›ä¾èµ–å·¥å…·ã€‚</p><p>åœ¨æœ‰ yum çš„ç³»ç»Ÿä¸Šï¼ˆæ¯”å¦‚ Fedoraï¼‰æˆ–è€…æœ‰ apt-get çš„ç³»ç»Ÿä¸Šï¼ˆæ¯”å¦‚ Debian ä½“ç³»ï¼‰ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤å®‰è£…ï¼š</p><p>å„ Linux ç³»ç»Ÿå¯ä»¥ä½¿ç”¨å…¶å®‰è£…åŒ…ç®¡ç†å·¥å…·ï¼ˆapt-getã€yum ç­‰ï¼‰è¿›è¡Œå®‰è£…ï¼š</p><h3 id="Debian-Ubuntu"><a href="#Debian-Ubuntu" class="headerlink" title="Debian/Ubuntu"></a>Debian/Ubuntu</h3><p>Debian/Ubuntu Git å®‰è£…å‘½ä»¤ä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> apt-get install libcurl4-gnutls-dev libexpat1-dev gettext \</span></span><br><span class="line"><span class="bash">  libz-dev libssl-dev</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> apt-get install git</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git --version</span></span><br><span class="line">git version 1.8.1.2</span><br></pre></td></tr></table></figure><h3 id="Centos-RedHat"><a href="#Centos-RedHat" class="headerlink" title="Centos/RedHat"></a>Centos/RedHat</h3><p>å¦‚æœä½ ä½¿ç”¨çš„ç³»ç»Ÿæ˜¯ Centos/RedHat å®‰è£…å‘½ä»¤ä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> yum install curl-devel expat-devel gettext-devel \</span></span><br><span class="line"><span class="bash">  openssl-devel zlib-devel</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> yum -y install git-core</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git --version</span></span><br><span class="line">git version 1.7.1</span><br></pre></td></tr></table></figure><h3 id="æºç å®‰è£…"><a href="#æºç å®‰è£…" class="headerlink" title="æºç å®‰è£…"></a>æºç å®‰è£…</h3><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å®˜ç½‘ä¸‹è½½æºç åŒ…æ¥å®‰è£…ï¼Œæœ€æ–°æºç åŒ…ä¸‹è½½åœ°å€ï¼š<a href="https://git-scm.com/download">https://git-scm.com/download</a></p><p>å®‰è£…æŒ‡å®šç³»ç»Ÿçš„ä¾èµ–åŒ…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">######### Centos/RedHat ##########</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> yum install curl-devel expat-devel gettext-devel \</span></span><br><span class="line"><span class="bash">  openssl-devel zlib-devel</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">######### Debian/Ubuntu ##########</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> apt-get install libcurl4-gnutls-dev libexpat1-dev gettext \</span></span><br><span class="line"><span class="bash">  libz-dev libssl-dev</span></span><br></pre></td></tr></table></figure><p>è§£å‹å®‰è£…ä¸‹è½½çš„æºç åŒ…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tar -zxf git-1.7.2.2.tar.gz</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> git-1.7.2.2</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> make prefix=/usr/<span class="built_in">local</span> all</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo make prefix=/usr/<span class="built_in">local</span> install</span></span><br></pre></td></tr></table></figure><h2 id="Windows-å¹³å°ä¸Šå®‰è£…"><a href="#Windows-å¹³å°ä¸Šå®‰è£…" class="headerlink" title="Windows å¹³å°ä¸Šå®‰è£…"></a><font color=blue>Windows å¹³å°ä¸Šå®‰è£…</font></h2><p><strong>ç›´æ¥ä¸€è·¯next ï¼</strong></p><h1 id="Gité…ç½®"><a href="#Gité…ç½®" class="headerlink" title="Gité…ç½®"></a>Gité…ç½®</h1><h5 id="æŸ¥çœ‹ä¸åŒçº§åˆ«çš„é…ç½®æ–‡ä»¶"><a href="#æŸ¥çœ‹ä¸åŒçº§åˆ«çš„é…ç½®æ–‡ä»¶" class="headerlink" title="æŸ¥çœ‹ä¸åŒçº§åˆ«çš„é…ç½®æ–‡ä»¶"></a>æŸ¥çœ‹ä¸åŒçº§åˆ«çš„é…ç½®æ–‡ä»¶</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹ç³»ç»Ÿé…ç½®</span></span><br><span class="line">git config --system --list</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹ç”¨æˆ·é…ç½®</span></span><br><span class="line">git config --global --list</span><br></pre></td></tr></table></figure><h5 id="Gitç›¸å…³é…ç½®æ–‡ä»¶çš„ä½ç½®"><a href="#Gitç›¸å…³é…ç½®æ–‡ä»¶çš„ä½ç½®" class="headerlink" title="Gitç›¸å…³é…ç½®æ–‡ä»¶çš„ä½ç½®"></a>Gitç›¸å…³é…ç½®æ–‡ä»¶çš„ä½ç½®</h5><p>1ï¼‰ã€Git\etc\gitconfig    :     Gitå®‰è£…ç›®å½•ä¸‹çš„ gitconfig    â€“system     ç³»ç»Ÿçº§</p><p>2ï¼‰ã€Cï¼šUsers\Administrator\ .gitconfig     ï¼šcç›˜ç”¨æˆ·ç›®å½•ä¸‹     â€“global     ç”¨æˆ·å½“å‰çš„é…ç½®</p><h5 id="é…ç½®ä¸ªäººçš„ç”¨æˆ·åç§°å’Œç”µå­é‚®ä»¶åœ°å€"><a href="#é…ç½®ä¸ªäººçš„ç”¨æˆ·åç§°å’Œç”µå­é‚®ä»¶åœ°å€" class="headerlink" title="é…ç½®ä¸ªäººçš„ç”¨æˆ·åç§°å’Œç”µå­é‚®ä»¶åœ°å€"></a>é…ç½®ä¸ªäººçš„ç”¨æˆ·åç§°å’Œç”µå­é‚®ä»¶åœ°å€</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name Heary</span><br><span class="line">git config --global user.email 1612893803@qq.com</span><br></pre></td></tr></table></figure><p>å¦‚æœç”¨äº† <strong>â€“global</strong> é€‰é¡¹ï¼Œé‚£ä¹ˆæ›´æ”¹çš„é…ç½®æ–‡ä»¶å°±æ˜¯ä½äºä½ ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„é‚£ä¸ªï¼Œä»¥åä½ æ‰€æœ‰çš„é¡¹ç›®éƒ½ä¼šé»˜è®¤ä½¿ç”¨è¿™é‡Œé…ç½®çš„ç”¨æˆ·ä¿¡æ¯ã€‚</p><h1 id="å·¥ä½œæµç¨‹"><a href="#å·¥ä½œæµç¨‹" class="headerlink" title="å·¥ä½œæµç¨‹"></a>å·¥ä½œæµç¨‹</h1><p><img src= "/img/loading.gif" data-lazy-src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015120901.png" alt="img"></p><ul><li>Workspaceï¼šå·¥ä½œåŒº</li><li>Index / Stageï¼šæš‚å­˜åŒº</li><li>Repositoryï¼šä»“åº“åŒºï¼ˆæˆ–æœ¬åœ°ä»“åº“ï¼‰</li><li>Remoteï¼šè¿œç¨‹ä»“åº“</li></ul><p><strong>å·¥ä½œåŒºï¼š</strong></p><p>å·¥ä½œåŒºå°±æ˜¯ä½ å­˜æ”¾ä»£ç çš„åœ°æ–¹ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å°±æ˜¯ä¸€ä¸ªå·¥ä½œåŒºã€‚</p><p><strong>æœ¬åœ°ä»“åº“ï¼š</strong></p><p>å·¥ä½œåŒºæœ‰ä¸€ä¸ªéšè—ç›®å½•<code>.git</code>ï¼Œè¿™ä¸ªä¸ç®—å·¥ä½œåŒºï¼Œè€Œæ˜¯Gitçš„ç‰ˆæœ¬åº“ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/image-20200714170916551.png"></p><p>Gitçš„ç‰ˆæœ¬åº“é‡Œå­˜äº†å¾ˆå¤šä¸œè¥¿ï¼Œå…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯ç§°ä¸ºstageï¼ˆæˆ–è€…å«indexï¼‰çš„æš‚å­˜åŒºã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://www.liaoxuefeng.com/files/attachments/919020037470528/0" alt="git-repo"></p><p>æ–‡ä»¶å¾€Gitç‰ˆæœ¬åº“é‡Œæ·»åŠ çš„æ—¶å€™ï¼Œæ˜¯åˆ†ä¸¤æ­¥æ‰§è¡Œçš„ï¼š</p><p>ç¬¬ä¸€æ­¥æ˜¯ç”¨<code>git add</code>æŠŠæ–‡ä»¶æ·»åŠ è¿›å»ï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠæ–‡ä»¶ä¿®æ”¹æ·»åŠ åˆ°æš‚å­˜åŒºï¼›</p><p>ç¬¬äºŒæ­¥æ˜¯ç”¨<code>git commit</code>æäº¤æ›´æ”¹ï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠæš‚å­˜åŒºçš„æ‰€æœ‰å†…å®¹æäº¤åˆ°å½“å‰åˆ†æ”¯ã€‚</p><p>å› ä¸ºæˆ‘ä»¬åˆ›å»ºGitç‰ˆæœ¬åº“æ—¶ï¼ŒGitè‡ªåŠ¨ä¸ºæˆ‘ä»¬åˆ›å»ºäº†å”¯ä¸€ä¸€ä¸ª<code>master</code>åˆ†æ”¯ï¼Œæ‰€ä»¥ï¼Œç°åœ¨ï¼Œ<code>git commit</code>å°±æ˜¯å¾€<code>master</code>åˆ†æ”¯ä¸Šæäº¤æ›´æ”¹ã€‚</p><p>ç®€å•ç†è§£ä¸ºï¼Œéœ€è¦æäº¤çš„æ–‡ä»¶ä¿®æ”¹é€šé€šæ”¾åˆ°æš‚å­˜åŒºï¼Œç„¶åï¼Œä¸€æ¬¡æ€§æäº¤æš‚å­˜åŒºçš„æ‰€æœ‰ä¿®æ”¹ã€‚</p><p><strong>è¿œç¨‹ä»“åº“ï¼š</strong></p><p>ç®€å•ç†è§£å°±æ˜¯åœ¨çº¿ç‰ˆçš„æœ¬åœ°ä»“åº“ã€‚</p><h1 id="åˆ†æ”¯ç®¡ç†"><a href="#åˆ†æ”¯ç®¡ç†" class="headerlink" title="åˆ†æ”¯ç®¡ç†"></a>åˆ†æ”¯ç®¡ç†</h1><p>åˆ†æ”¯å°±æ˜¯ç§‘å¹»ç”µå½±é‡Œé¢çš„å¹³è¡Œå®‡å®™ï¼Œå½“ä½ æ­£åœ¨ç”µè„‘å‰åŠªåŠ›å­¦ä¹ Gitçš„æ—¶å€™ï¼Œå¦ä¸€ä¸ªä½ æ­£åœ¨å¦ä¸€ä¸ªå¹³è¡Œå®‡å®™é‡ŒåŠªåŠ›å­¦ä¹ SVNã€‚</p><p>å¦‚æœä¸¤ä¸ªå¹³è¡Œå®‡å®™äº’ä¸å¹²æ‰°ï¼Œé‚£å¯¹ç°åœ¨çš„ä½ ä¹Ÿæ²¡å•¥å½±å“ã€‚ä¸è¿‡ï¼Œåœ¨æŸä¸ªæ—¶é—´ç‚¹ï¼Œä¸¤ä¸ªå¹³è¡Œå®‡å®™åˆå¹¶äº†ï¼Œç»“æœï¼Œä½ æ—¢å­¦ä¼šäº†Gitåˆå­¦ä¼šäº†SVNï¼</p><p><img src= "/img/loading.gif" data-lazy-src="https://www.liaoxuefeng.com/files/attachments/919021987875136/0" alt="learn-branches"></p><p>åˆ†æ”¯åœ¨å®é™…ä¸­æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿå‡è®¾ä½ å‡†å¤‡å¼€å‘ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œä½†æ˜¯éœ€è¦ä¸¤å‘¨æ‰èƒ½å®Œæˆï¼Œç¬¬ä¸€å‘¨ä½ å†™äº†50%çš„ä»£ç ï¼Œå¦‚æœç«‹åˆ»æäº¤ï¼Œç”±äºä»£ç è¿˜æ²¡å†™å®Œï¼Œä¸å®Œæ•´çš„ä»£ç åº“ä¼šå¯¼è‡´åˆ«äººä¸èƒ½å¹²æ´»äº†ã€‚å¦‚æœç­‰ä»£ç å…¨éƒ¨å†™å®Œå†ä¸€æ¬¡æäº¤ï¼Œåˆå­˜åœ¨ä¸¢å¤±æ¯å¤©è¿›åº¦çš„å·¨å¤§é£é™©ã€‚</p><p>ç°åœ¨æœ‰äº†åˆ†æ”¯ï¼Œå°±ä¸ç”¨æ€•äº†ã€‚ä½ åˆ›å»ºäº†ä¸€ä¸ªå±äºä½ è‡ªå·±çš„åˆ†æ”¯ï¼Œåˆ«äººçœ‹ä¸åˆ°ï¼Œè¿˜ç»§ç»­åœ¨åŸæ¥çš„åˆ†æ”¯ä¸Šæ­£å¸¸å·¥ä½œï¼Œè€Œä½ åœ¨è‡ªå·±çš„åˆ†æ”¯ä¸Šå¹²æ´»ï¼Œæƒ³æäº¤å°±æäº¤ï¼Œç›´åˆ°å¼€å‘å®Œæ¯•åï¼Œå†ä¸€æ¬¡æ€§åˆå¹¶åˆ°åŸæ¥çš„åˆ†æ”¯ä¸Šï¼Œè¿™æ ·ï¼Œæ—¢å®‰å…¨ï¼Œåˆä¸å½±å“åˆ«äººå·¥ä½œã€‚</p><p>å…¶ä»–ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå¦‚SVNç­‰éƒ½æœ‰åˆ†æ”¯ç®¡ç†ï¼Œä½†æ˜¯ç”¨è¿‡ä¹‹åä½ ä¼šå‘ç°ï¼Œè¿™äº›ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿåˆ›å»ºå’Œåˆ‡æ¢åˆ†æ”¯æ¯”èœ—ç‰›è¿˜æ…¢ï¼Œç®€ç›´è®©äººæ— æ³•å¿å—ï¼Œç»“æœåˆ†æ”¯åŠŸèƒ½æˆäº†æ‘†è®¾ï¼Œå¤§å®¶éƒ½ä¸å»ç”¨ã€‚</p><p>ä½†Gitçš„åˆ†æ”¯æ˜¯ä¸ä¼—ä¸åŒçš„ï¼Œæ— è®ºåˆ›å»ºã€åˆ‡æ¢å’Œåˆ é™¤åˆ†æ”¯ï¼ŒGitåœ¨1ç§’é’Ÿä¹‹å†…å°±èƒ½å®Œæˆï¼æ— è®ºä½ çš„ç‰ˆæœ¬åº“æ˜¯1ä¸ªæ–‡ä»¶è¿˜æ˜¯1ä¸‡ä¸ªæ–‡ä»¶ã€‚</p><h1 id="Git-åˆ†æ”¯ç®¡ç†"><a href="#Git-åˆ†æ”¯ç®¡ç†" class="headerlink" title="Git åˆ†æ”¯ç®¡ç†"></a>Git åˆ†æ”¯ç®¡ç†</h1><p>å‡ ä¹æ¯ä¸€ç§ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿéƒ½ä»¥æŸç§å½¢å¼æ”¯æŒåˆ†æ”¯ã€‚ä½¿ç”¨åˆ†æ”¯æ„å‘³ç€ä½ å¯ä»¥ä»å¼€å‘ä¸»çº¿ä¸Šåˆ†ç¦»å¼€æ¥ï¼Œç„¶ååœ¨ä¸å½±å“ä¸»çº¿çš„åŒæ—¶ç»§ç»­å·¥ä½œã€‚</p><p>æœ‰äººæŠŠ Git çš„åˆ†æ”¯æ¨¡å‹ç§°ä¸º<strong>å¿…æ€æŠ€ç‰¹æ€§</strong>ï¼Œè€Œæ­£æ˜¯å› ä¸ºå®ƒï¼Œå°† <strong>Git</strong> ä»ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå®¶æ—é‡ŒåŒºåˆ†å‡ºæ¥ã€‚</p><p>åˆ›å»ºåˆ†æ”¯å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch (branchname)</span><br></pre></td></tr></table></figure><p>åˆ‡æ¢åˆ†æ”¯å‘½ä»¤:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout (branchname)</span><br></pre></td></tr></table></figure><p>å½“ä½ åˆ‡æ¢åˆ†æ”¯çš„æ—¶å€™ï¼ŒGit ä¼šç”¨è¯¥åˆ†æ”¯çš„æœ€åæäº¤çš„å¿«ç…§æ›¿æ¢ä½ çš„å·¥ä½œç›®å½•çš„å†…å®¹ï¼Œ æ‰€ä»¥å¤šä¸ªåˆ†æ”¯ä¸éœ€è¦å¤šä¸ªç›®å½•ã€‚</p><p>åˆå¹¶åˆ†æ”¯å‘½ä»¤:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge </span><br></pre></td></tr></table></figure><p>ä½ å¯ä»¥å¤šæ¬¡åˆå¹¶åˆ°ç»Ÿä¸€åˆ†æ”¯ï¼Œ ä¹Ÿå¯ä»¥é€‰æ‹©åœ¨åˆå¹¶ä¹‹åç›´æ¥åˆ é™¤è¢«å¹¶å…¥çš„åˆ†æ”¯ã€‚</p><p>å¼€å§‹å‰æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªæµ‹è¯•ç›®å½•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir gitdemo</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> gitdemo/</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git init</span></span><br><span class="line">Initialized empty Git repository...</span><br><span class="line"><span class="meta">$</span><span class="bash"> touch README</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git add README</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">&#x27;ç¬¬ä¸€æ¬¡ç‰ˆæœ¬æäº¤&#x27;</span></span></span><br><span class="line">[master (root-commit) 3b58100] ç¬¬ä¸€æ¬¡ç‰ˆæœ¬æäº¤</span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 README</span><br></pre></td></tr></table></figure><hr><h2 id="Git-åˆ†æ”¯ç®¡ç†-1"><a href="#Git-åˆ†æ”¯ç®¡ç†-1" class="headerlink" title="Git åˆ†æ”¯ç®¡ç†"></a>Git åˆ†æ”¯ç®¡ç†</h2><h3 id="åˆ—å‡ºåˆ†æ”¯"><a href="#åˆ—å‡ºåˆ†æ”¯" class="headerlink" title="åˆ—å‡ºåˆ†æ”¯"></a>åˆ—å‡ºåˆ†æ”¯</h3><p>åˆ—å‡ºåˆ†æ”¯åŸºæœ¬å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br></pre></td></tr></table></figure><p>æ²¡æœ‰å‚æ•°æ—¶ï¼Œ<strong>git branch</strong> ä¼šåˆ—å‡ºä½ åœ¨æœ¬åœ°çš„åˆ†æ”¯ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line">* master</span><br></pre></td></tr></table></figure><p>æ­¤ä¾‹çš„æ„æ€å°±æ˜¯ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå«åš <strong>master</strong> çš„åˆ†æ”¯ï¼Œå¹¶ä¸”è¯¥åˆ†æ”¯æ˜¯å½“å‰åˆ†æ”¯ã€‚</p><p>å½“ä½ æ‰§è¡Œ <strong>git init</strong> çš„æ—¶å€™ï¼Œé»˜è®¤æƒ…å†µä¸‹ Git å°±ä¼šä¸ºä½ åˆ›å»º <strong>master</strong> åˆ†æ”¯ã€‚</p><p>å¦‚æœæˆ‘ä»¬è¦æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ã€‚æ‰§è¡Œ <strong>git branch (branchname)</strong> å³å¯ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch testing</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line">* master</span><br><span class="line">  testing</span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæœ‰äº†ä¸€ä¸ªæ–°åˆ†æ”¯ <strong>testing</strong>ã€‚</p><p>å½“ä½ ä»¥æ­¤æ–¹å¼åœ¨ä¸Šæ¬¡æäº¤æ›´æ–°ä¹‹ååˆ›å»ºäº†æ–°åˆ†æ”¯ï¼Œå¦‚æœåæ¥åˆæœ‰æ›´æ–°æäº¤ï¼Œ ç„¶ååˆåˆ‡æ¢åˆ°äº† <strong>testing</strong> åˆ†æ”¯ï¼ŒGit å°†è¿˜åŸä½ çš„å·¥ä½œç›®å½•åˆ°ä½ åˆ›å»ºåˆ†æ”¯æ—¶å€™çš„æ ·å­ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†æ¼”ç¤ºå¦‚ä½•åˆ‡æ¢åˆ†æ”¯ï¼Œæˆ‘ä»¬ç”¨ git checkout (branch) åˆ‡æ¢åˆ°æˆ‘ä»¬è¦ä¿®æ”¹çš„åˆ†æ”¯ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ls</span></span><br><span class="line">README</span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&#x27;runoob.com&#x27;</span> &gt; test.txt</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git add .</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">&#x27;add test.txt&#x27;</span></span></span><br><span class="line">[master 3e92c19] add test.txt</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 test.txt</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls</span></span><br><span class="line">README        test.txt</span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout testing</span></span><br><span class="line">Switched to branch &#x27;testing&#x27;</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls</span></span><br><span class="line">README</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬åˆ‡æ¢åˆ° <strong>testing</strong> åˆ†æ”¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ·»åŠ çš„æ–°æ–‡ä»¶ test.txt è¢«ç§»é™¤äº†ã€‚åˆ‡æ¢å› <strong>master</strong> åˆ†æ”¯çš„æ—¶å€™ï¼Œå®ƒä»¬æœ‰é‡æ–°å‡ºç°äº†ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout master</span></span><br><span class="line">Switched to branch &#x27;master&#x27;</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls</span></span><br><span class="line">README        test.txt</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ git checkout -b (branchname) å‘½ä»¤æ¥åˆ›å»ºæ–°åˆ†æ”¯å¹¶ç«‹å³åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ä¸‹ï¼Œä»è€Œåœ¨è¯¥åˆ†æ”¯ä¸­æ“ä½œã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout -b newtest</span></span><br><span class="line">Switched to a new branch &#x27;newtest&#x27;</span><br><span class="line"><span class="meta">$</span><span class="bash"> git rm test.txt</span> </span><br><span class="line">rm &#x27;test.txt&#x27;</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls</span></span><br><span class="line">README</span><br><span class="line"><span class="meta">$</span><span class="bash"> touch runoob.php</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git add .</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -am <span class="string">&#x27;removed test.txtã€add runoob.php&#x27;</span></span></span><br><span class="line">[newtest c1501a2] removed test.txtã€add runoob.php</span><br><span class="line"> 2 files changed, 1 deletion(-)</span><br><span class="line"> create mode 100644 runoob.php</span><br><span class="line"> delete mode 100644 test.txt</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls</span></span><br><span class="line">README        runoob.php</span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout master</span></span><br><span class="line">Switched to branch &#x27;master&#x27;</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls</span></span><br><span class="line">README        test.txt</span><br></pre></td></tr></table></figure><p>å¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåˆ†æ”¯ï¼Œåœ¨è¯¥åˆ†æ”¯çš„ä¸Šç§»é™¤äº†ä¸€äº›æ–‡ä»¶ test.txtï¼Œå¹¶æ·»åŠ äº† runoob.php æ–‡ä»¶ï¼Œç„¶ååˆ‡æ¢å›æˆ‘ä»¬çš„ä¸»åˆ†æ”¯ï¼Œåˆ é™¤çš„ test.txt æ–‡ä»¶åˆå›æ¥äº†ï¼Œä¸”æ–°å¢åŠ çš„ runoob.php ä¸å­˜åœ¨ä¸»åˆ†æ”¯ä¸­ã€‚</p><p>ä½¿ç”¨åˆ†æ”¯å°†å·¥ä½œåˆ‡åˆ†å¼€æ¥ï¼Œä»è€Œè®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¸åŒå¼€å‘ç¯å¢ƒä¸­åšäº‹ï¼Œå¹¶æ¥å›åˆ‡æ¢ã€‚</p><h3 id="åˆ é™¤åˆ†æ”¯"><a href="#åˆ é™¤åˆ†æ”¯" class="headerlink" title="åˆ é™¤åˆ†æ”¯"></a>åˆ é™¤åˆ†æ”¯</h3><p>åˆ é™¤åˆ†æ”¯å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d (branchname)</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚æˆ‘ä»¬è¦åˆ é™¤ testing åˆ†æ”¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line">* master</span><br><span class="line">  testing</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch -d testing</span></span><br><span class="line">Deleted branch testing (was 85fc7e7).</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line">* master</span><br></pre></td></tr></table></figure><h3 id="åˆ†æ”¯åˆå¹¶"><a href="#åˆ†æ”¯åˆå¹¶" class="headerlink" title="åˆ†æ”¯åˆå¹¶"></a>åˆ†æ”¯åˆå¹¶</h3><p>ä¸€æ—¦æŸåˆ†æ”¯æœ‰äº†ç‹¬ç«‹å†…å®¹ï¼Œä½ ç»ˆç©¶ä¼šå¸Œæœ›å°†å®ƒåˆå¹¶å›åˆ°ä½ çš„ä¸»åˆ†æ”¯ã€‚ ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†ä»»ä½•åˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ä¸­å»ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">git merge</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line">* master</span><br><span class="line">  newtest</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls</span></span><br><span class="line">README        test.txt</span><br><span class="line"><span class="meta">$</span><span class="bash"> git merge newtest</span></span><br><span class="line">Updating 3e92c19..c1501a2</span><br><span class="line">Fast-forward</span><br><span class="line"> runoob.php | 0</span><br><span class="line"> test.txt   | 1 -</span><br><span class="line"> 2 files changed, 1 deletion(-)</span><br><span class="line"> create mode 100644 runoob.php</span><br><span class="line"> delete mode 100644 test.txt</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls</span></span><br><span class="line">README        runoob.php</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå®ä¾‹ä¸­æˆ‘ä»¬å°† newtest åˆ†æ”¯åˆå¹¶åˆ°ä¸»åˆ†æ”¯å»ï¼Œtest.txt æ–‡ä»¶è¢«åˆ é™¤ã€‚</p><p>åˆå¹¶å®Œåå°±å¯ä»¥åˆ é™¤åˆ†æ”¯:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch -d newtest</span></span><br><span class="line">Deleted branch newtest (was c1501a2).</span><br></pre></td></tr></table></figure><p>åˆ é™¤åï¼Œ å°±åªå‰©ä¸‹ master åˆ†æ”¯äº†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line">* master</span><br></pre></td></tr></table></figure><h3 id="åˆå¹¶å†²çª"><a href="#åˆå¹¶å†²çª" class="headerlink" title="åˆå¹¶å†²çª"></a>åˆå¹¶å†²çª</h3><p>åˆå¹¶å¹¶ä¸ä»…ä»…æ˜¯ç®€å•çš„æ–‡ä»¶æ·»åŠ ã€ç§»é™¤çš„æ“ä½œï¼ŒGit ä¹Ÿä¼šåˆå¹¶ä¿®æ”¹ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line">* master</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat runoob.php</span></span><br></pre></td></tr></table></figure><p>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå«åš change_site çš„åˆ†æ”¯ï¼Œåˆ‡æ¢è¿‡å»ï¼Œæˆ‘ä»¬å°† runoob.php å†…å®¹æ”¹ä¸º:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo &#x27;runoob&#x27;;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>åˆ›å»º change_site åˆ†æ”¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout -b change_site</span></span><br><span class="line">Switched to a new branch &#x27;change_site&#x27;</span><br><span class="line"><span class="meta">$</span><span class="bash"> vim runoob.php</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> head -3 runoob.php</span></span><br><span class="line">&lt;?php</span><br><span class="line">echo &#x27;runoob&#x27;;</span><br><span class="line">?&gt;</span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -am <span class="string">&#x27;changed the runoob.php&#x27;</span></span></span><br><span class="line">[change_site 7774248] changed the runoob.php</span><br><span class="line"> 1 file changed, 3 insertions(+)</span><br><span class="line"> </span><br></pre></td></tr></table></figure><p>å°†ä¿®æ”¹çš„å†…å®¹æäº¤åˆ° change_site åˆ†æ”¯ä¸­ã€‚ ç°åœ¨ï¼Œå‡å¦‚åˆ‡æ¢å› master åˆ†æ”¯æˆ‘ä»¬å¯ä»¥çœ‹å†…å®¹æ¢å¤åˆ°æˆ‘ä»¬ä¿®æ”¹å‰çš„(ç©ºæ–‡ä»¶ï¼Œæ²¡æœ‰ä»£ç )ï¼Œæˆ‘ä»¬å†æ¬¡ä¿®æ”¹ runoob.php æ–‡ä»¶ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout master</span></span><br><span class="line">Switched to branch &#x27;master&#x27;</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat runoob.php</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> vim runoob.php    <span class="comment"># ä¿®æ”¹å†…å®¹å¦‚ä¸‹</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat runoob.php</span></span><br><span class="line">&lt;?php</span><br><span class="line">echo 1;</span><br><span class="line">?&gt;</span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff</span></span><br><span class="line">diff --git a/runoob.php b/runoob.php</span><br><span class="line">index e69de29..ac60739 100644</span><br><span class="line">--- a/runoob.php</span><br><span class="line">+++ b/runoob.php</span><br><span class="line">@@ -0,0 +1,3 @@</span><br><span class="line">+&lt;?php</span><br><span class="line">+echo 1;</span><br><span class="line">+?&gt;</span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -am <span class="string">&#x27;ä¿®æ”¹ä»£ç &#x27;</span></span></span><br><span class="line">[master c68142b] ä¿®æ”¹ä»£ç </span><br><span class="line"> 1 file changed, 3 insertions(+)</span><br></pre></td></tr></table></figure><p>ç°åœ¨è¿™äº›æ”¹å˜å·²ç»è®°å½•åˆ°æˆ‘çš„ â€œmasterâ€ åˆ†æ”¯äº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°† â€œchange_siteâ€ åˆ†æ”¯åˆå¹¶è¿‡æ¥ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git merge change_site</span></span><br><span class="line">Auto-merging runoob.php</span><br><span class="line">CONFLICT (content): Merge conflict in runoob.php</span><br><span class="line">Automatic merge failed; fix conflicts and then commit the result.</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat runoob.php     <span class="comment"># ä»£å¼€æ–‡ä»¶ï¼Œçœ‹åˆ°å†²çªå†…å®¹</span></span></span><br><span class="line">&lt;?php</span><br><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><br><span class="line">echo 1;</span><br><span class="line">=======</span><br><span class="line">echo &#x27;runoob&#x27;;</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;&gt;&gt;&gt;&gt; change_site</span></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°†å‰ä¸€ä¸ªåˆ†æ”¯åˆå¹¶åˆ° master åˆ†æ”¯ï¼Œä¸€ä¸ªåˆå¹¶å†²çªå°±å‡ºç°äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å»ä¿®æ”¹å®ƒã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> vim runoob.php</span> </span><br><span class="line"><span class="meta">$</span><span class="bash"> cat runoob.php</span></span><br><span class="line">&lt;?php</span><br><span class="line">echo 1;</span><br><span class="line">echo &#x27;runoob&#x27;;</span><br><span class="line">?&gt;</span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff</span></span><br><span class="line">diff --cc runoob.php</span><br><span class="line">index ac60739,b63d7d7..0000000</span><br><span class="line">--- a/runoob.php</span><br><span class="line">+++ b/runoob.php</span><br><span class="line">@@@ -1,3 -1,3 +1,4 @@@</span><br><span class="line">  &lt;?php</span><br><span class="line"> +echo 1;</span><br><span class="line">+ echo &#x27;runoob&#x27;;</span><br><span class="line">  ?&gt;</span><br></pre></td></tr></table></figure><p>åœ¨ Git ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ git add è¦å‘Šè¯‰ Git æ–‡ä»¶å†²çªå·²ç»è§£å†³</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git status -s</span></span><br><span class="line">UU runoob.php</span><br><span class="line"><span class="meta">$</span><span class="bash"> git add runoob.php</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git status -s</span></span><br><span class="line">M  runoob.php</span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit</span></span><br><span class="line">[master 88afe0e] Merge branch &#x27;change_site&#x27;</span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬æˆåŠŸè§£å†³äº†åˆå¹¶ä¸­çš„å†²çªï¼Œå¹¶æäº¤äº†ç»“æœ</p><h1 id="æ ‡ç­¾ç®¡ç†"><a href="#æ ‡ç­¾ç®¡ç†" class="headerlink" title="æ ‡ç­¾ç®¡ç†"></a>æ ‡ç­¾ç®¡ç†</h1><h5 id="Git-æ ‡ç­¾"><a href="#Git-æ ‡ç­¾" class="headerlink" title="Git æ ‡ç­¾"></a>Git æ ‡ç­¾</h5><p>å¦‚æœä½ è¾¾åˆ°ä¸€ä¸ªé‡è¦çš„é˜¶æ®µï¼Œå¹¶å¸Œæœ›æ°¸è¿œè®°ä½é‚£ä¸ªç‰¹åˆ«çš„æäº¤å¿«ç…§ï¼Œä½ å¯ä»¥ä½¿ç”¨ git tag ç»™å®ƒæ‰“ä¸Šæ ‡ç­¾ã€‚</p><p>æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬æƒ³ä¸ºæˆ‘ä»¬çš„ runoob é¡¹ç›®å‘å¸ƒä¸€ä¸ªâ€1.0â€ç‰ˆæœ¬ã€‚ æˆ‘ä»¬å¯ä»¥ç”¨ git tag -a v1.0 å‘½ä»¤ç»™æœ€æ–°ä¸€æ¬¡æäº¤æ‰“ä¸Šï¼ˆHEADï¼‰â€v1.0â€çš„æ ‡ç­¾ã€‚</p><p>-a é€‰é¡¹æ„ä¸ºâ€åˆ›å»ºä¸€ä¸ªå¸¦æ³¨è§£çš„æ ‡ç­¾â€ã€‚ ä¸ç”¨ -a é€‰é¡¹ä¹Ÿå¯ä»¥æ‰§è¡Œçš„ï¼Œä½†å®ƒä¸ä¼šè®°å½•è¿™æ ‡ç­¾æ˜¯å•¥æ—¶å€™æ‰“çš„ï¼Œè°æ‰“çš„ï¼Œä¹Ÿä¸ä¼šè®©ä½ æ·»åŠ ä¸ªæ ‡ç­¾çš„æ³¨è§£ã€‚ æˆ‘æ¨èä¸€ç›´åˆ›å»ºå¸¦æ³¨è§£çš„æ ‡ç­¾ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag -a v1.0 </span><br></pre></td></tr></table></figure><p>å½“ä½ æ‰§è¡Œ git tag -a å‘½ä»¤æ—¶ï¼ŒGit ä¼šæ‰“å¼€ä½ çš„ç¼–è¾‘å™¨ï¼Œè®©ä½ å†™ä¸€å¥æ ‡ç­¾æ³¨è§£ï¼Œå°±åƒä½ ç»™æäº¤å†™æ³¨è§£ä¸€æ ·ã€‚</p><p>ç°åœ¨ï¼Œæ³¨æ„å½“æˆ‘ä»¬æ‰§è¡Œ git log â€“decorate æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„æ ‡ç­¾äº†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">*   d5e9fc2 (HEAD -&gt; master) Merge branch &#x27;change_site&#x27;</span><br><span class="line">|\  </span><br><span class="line">| * 7774248 (change_site) changed the runoob.php</span><br><span class="line">* | c68142b ä¿®æ”¹ä»£ç </span><br><span class="line">|/  </span><br><span class="line">* c1501a2 removed test.txtã€add runoob.php</span><br><span class="line">* 3e92c19 add test.txt</span><br><span class="line">* 3b58100 ç¬¬ä¸€æ¬¡ç‰ˆæœ¬æäº¤</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬å¿˜äº†ç»™æŸä¸ªæäº¤æ‰“æ ‡ç­¾ï¼Œåˆå°†å®ƒå‘å¸ƒäº†ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å®ƒè¿½åŠ æ ‡ç­¾ã€‚</p><p>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬å‘å¸ƒäº†æäº¤ 85fc7e7(ä¸Šé¢å®ä¾‹æœ€åä¸€è¡Œ)ï¼Œä½†æ˜¯é‚£æ—¶å€™å¿˜äº†ç»™å®ƒæ‰“æ ‡ç­¾ã€‚ æˆ‘ä»¬ç°åœ¨ä¹Ÿå¯ä»¥ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git tag -a v0.9 85fc7e7</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> --oneline --decorate --graph</span></span><br><span class="line">*   d5e9fc2 (HEAD -&gt; master) Merge branch &#x27;change_site&#x27;</span><br><span class="line">|\  </span><br><span class="line">| * 7774248 (change_site) changed the runoob.php</span><br><span class="line">* | c68142b ä¿®æ”¹ä»£ç </span><br><span class="line">|/  </span><br><span class="line">* c1501a2 removed test.txtã€add runoob.php</span><br><span class="line">* 3e92c19 add test.txt</span><br><span class="line">* 3b58100 (tag: v0.9) ç¬¬ä¸€æ¬¡ç‰ˆæœ¬æäº¤</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬è¦æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git tag</span></span><br><span class="line">v0.9</span><br><span class="line">v1.0</span><br></pre></td></tr></table></figure><p>æŒ‡å®šæ ‡ç­¾ä¿¡æ¯å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -a &lt;tagname&gt; -m &quot;runoob.comæ ‡ç­¾&quot;</span><br></pre></td></tr></table></figure><p>PGPç­¾åæ ‡ç­¾å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -s &lt;tagname&gt; -m &quot;runoob.comæ ‡ç­¾&quot;</span><br></pre></td></tr></table></figure><h1 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h1><p><strong>æ ¹æ®<a href="https://www.cnblogs.com/miracle77hp/articles/11163532.html%E7%9A%84%E6%95%B4%E7%90%86%E3%80%82">https://www.cnblogs.com/miracle77hp/articles/11163532.htmlçš„æ•´ç†ã€‚</a></strong></p><h5 id="1ã€æ–°å»ºä»“åº“"><a href="#1ã€æ–°å»ºä»“åº“" class="headerlink" title="1ã€æ–°å»ºä»“åº“"></a>1ã€æ–°å»ºä»“åº“</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªGitä»£ç åº“ </span></span><br><span class="line">$ git init</span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå°†å…¶åˆå§‹åŒ–ä¸ºGitä»£ç åº“ </span></span><br><span class="line">$ git init [project-name]</span><br><span class="line">  </span><br><span class="line"><span class="comment"># ä¸‹è½½ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç å†å² </span></span><br><span class="line">$ git <span class="built_in">clone</span> [url]</span><br></pre></td></tr></table></figure><h5 id="2ã€å¢åŠ ã€åˆ é™¤æ–‡ä»¶"><a href="#2ã€å¢åŠ ã€åˆ é™¤æ–‡ä»¶" class="headerlink" title="2ã€å¢åŠ ã€åˆ é™¤æ–‡ä»¶"></a>2ã€å¢åŠ ã€åˆ é™¤æ–‡ä»¶</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment"># æ·»åŠ æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒº </span></span><br><span class="line">$ git add [file1] [file2] ...</span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ·»åŠ æŒ‡å®šç›®å½•åˆ°æš‚å­˜åŒºï¼ŒåŒ…æ‹¬å­ç›®å½•</span></span><br><span class="line">$ git add [dir]</span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ·»åŠ å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº </span></span><br><span class="line">$ git add .</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ·»åŠ æ¯ä¸ªå˜åŒ–å‰ï¼Œéƒ½ä¼šè¦æ±‚ç¡®è®¤ </span></span><br><span class="line"><span class="comment"># å¯¹äºåŒä¸€ä¸ªæ–‡ä»¶çš„å¤šå¤„å˜åŒ–ï¼Œå¯ä»¥å®ç°åˆ†æ¬¡æäº¤ </span></span><br><span class="line">$ git add -p</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™æ¬¡åˆ é™¤æ”¾å…¥æš‚å­˜åŒº</span></span><br><span class="line">$ git rm [file1] [file2] ...</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># åœæ­¢è¿½è¸ªæŒ‡å®šæ–‡ä»¶ï¼Œä½†è¯¥æ–‡ä»¶ä¼šä¿ç•™åœ¨å·¥ä½œåŒº </span></span><br><span class="line">$ git rm --cached [file]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ”¹åæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™ä¸ªæ”¹åæ”¾å…¥æš‚å­˜åŒº </span></span><br><span class="line">$ git mv [file-original] [file-renamed]</span><br></pre></td></tr></table></figure><h5 id="3ã€ä»£ç æäº¤"><a href="#3ã€ä»£ç æäº¤" class="headerlink" title="3ã€ä»£ç æäº¤"></a>3ã€ä»£ç æäº¤</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒº </span></span><br><span class="line">$ git commit -m [message]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æäº¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°ä»“åº“åŒº </span></span><br><span class="line">$ git commit [file1] [file2] ... -m [message]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æäº¤å·¥ä½œåŒºè‡ªä¸Šæ¬¡commitä¹‹åçš„å˜åŒ–ï¼Œç›´æ¥åˆ°ä»“åº“åŒº</span></span><br><span class="line">$ git commit -a</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æäº¤æ—¶æ˜¾ç¤ºæ‰€æœ‰diffä¿¡æ¯ </span></span><br><span class="line">$ git commit -v</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œæ›¿ä»£ä¸Šä¸€æ¬¡æäº¤</span></span><br><span class="line"><span class="comment"># å¦‚æœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯ </span></span><br><span class="line">$ git commit --amend -m [message]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># é‡åšä¸Šä¸€æ¬¡commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ– </span></span><br><span class="line">$ git commit --amend [file1] [file2] ...</span><br></pre></td></tr></table></figure><h5 id="4ã€åˆ†æ”¯"><a href="#4ã€åˆ†æ”¯" class="headerlink" title="4ã€åˆ†æ”¯"></a>4ã€åˆ†æ”¯</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯ </span></span><br><span class="line">$ git branch</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯ </span></span><br><span class="line">$ git branch -r</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯ </span></span><br><span class="line">$ git branch -a</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯ </span></span><br><span class="line">$ git branch [branch-name]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ </span></span><br><span class="line">$ git checkout -b [branch]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommit</span></span><br><span class="line"> </span><br><span class="line">$ git branch [branch] [commit]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»</span></span><br><span class="line">$ git branch --track [branch] [remote-branch]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº </span></span><br><span class="line">$ git checkout [branch-name]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯ </span></span><br><span class="line">$ git checkout -</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œåœ¨ç°æœ‰åˆ†æ”¯ä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´ </span></span><br><span class="line">$ git branch --set-upstream [branch] [remote-branch]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ </span></span><br><span class="line">$ git merge [branch]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯ </span></span><br><span class="line">$ git cherry-pick [commit]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># åˆ é™¤åˆ†æ”¯</span></span><br><span class="line">$ git branch -d [branch-name]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># åˆ é™¤è¿œç¨‹åˆ†æ”¯ </span></span><br><span class="line">$ git push origin --delete [branch-name]</span><br><span class="line"></span><br><span class="line">$ git branch -dr [remote/branch]</span><br></pre></td></tr></table></figure><h5 id="5ã€æ ‡ç­¾"><a href="#5ã€æ ‡ç­¾" class="headerlink" title="5ã€æ ‡ç­¾"></a>5ã€æ ‡ç­¾</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ—å‡ºæ‰€æœ‰tag </span></span><br><span class="line">$ git tag</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªtagåœ¨å½“å‰commit </span></span><br><span class="line">$ git tag [tag]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªtagåœ¨æŒ‡å®šcommit </span></span><br><span class="line">$ git tag [tag] [commit]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># åˆ é™¤æœ¬åœ°tag </span></span><br><span class="line">$ git tag -d [tag]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># åˆ é™¤è¿œç¨‹tag</span></span><br><span class="line">$ git push origin :refs/tags/[tagName]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æŸ¥çœ‹tagä¿¡æ¯</span></span><br><span class="line">$ git show [tag]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æäº¤æŒ‡å®štag </span></span><br><span class="line">$ git push [remote] [tag]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æäº¤æ‰€æœ‰tag </span></span><br><span class="line">$ git push [remote] --tags</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ªtag </span></span><br><span class="line">$ git checkout -b [branch] [tag]</span><br></pre></td></tr></table></figure><h5 id="6ã€æŸ¥çœ‹ä¿¡æ¯"><a href="#6ã€æŸ¥çœ‹ä¿¡æ¯" class="headerlink" title="6ã€æŸ¥çœ‹ä¿¡æ¯"></a>6ã€æŸ¥çœ‹ä¿¡æ¯</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶ </span></span><br><span class="line">$ git status</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬å†å²</span></span><br><span class="line">$ git <span class="built_in">log</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºcommitå†å²ï¼Œä»¥åŠæ¯æ¬¡commitå‘ç”Ÿå˜æ›´çš„æ–‡ä»¶ </span></span><br><span class="line">$ git <span class="built_in">log</span> --<span class="built_in">stat</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æœç´¢æäº¤å†å²ï¼Œæ ¹æ®å…³é”®è¯ </span></span><br><span class="line">$ git <span class="built_in">log</span> -S [keyword]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œæ¯ä¸ªcommitå æ®ä¸€è¡Œ </span></span><br><span class="line">$ git <span class="built_in">log</span> [tag] HEAD --pretty=format:%s</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œå…¶&quot;æäº¤è¯´æ˜&quot;å¿…é¡»ç¬¦åˆæœç´¢æ¡ä»¶ </span></span><br><span class="line">$ git <span class="built_in">log</span> [tag] HEAD --grep feature</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å†å²ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ”¹å </span></span><br><span class="line">$ git <span class="built_in">log</span> --follow [file]</span><br><span class="line"> </span><br><span class="line">$ git whatchanged [file]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ç›¸å…³çš„æ¯ä¸€æ¬¡diff </span></span><br><span class="line">$ git <span class="built_in">log</span> -p [file]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºè¿‡å»5æ¬¡æäº¤</span></span><br><span class="line">$ git <span class="built_in">log</span> -5 --pretty --oneline</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç”¨æˆ·ï¼ŒæŒ‰æäº¤æ¬¡æ•°æ’åº </span></span><br><span class="line">$ git shortlog -sn</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æ˜¯ä»€ä¹ˆäººåœ¨ä»€ä¹ˆæ—¶é—´ä¿®æ”¹è¿‡ </span></span><br><span class="line">$ git blame [file]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚</span></span><br><span class="line">$ git diff</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæš‚å­˜åŒºå’Œä¸Šä¸€ä¸ªcommitçš„å·®å¼‚</span></span><br><span class="line">$ git diff --cached [file]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå·¥ä½œåŒºä¸å½“å‰åˆ†æ”¯æœ€æ–°commitä¹‹é—´çš„å·®å¼‚</span></span><br><span class="line">$ git diff HEAD</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºä¸¤æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚ </span></span><br><span class="line">$ git diff [first-branch]...[second-branch]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºä»Šå¤©ä½ å†™äº†å¤šå°‘è¡Œä»£ç  </span></span><br><span class="line">$ git diff --shortstat <span class="string">&quot;@&#123;0 day ago&#125;&quot;</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæŸæ¬¡æäº¤çš„å…ƒæ•°æ®å’Œå†…å®¹å˜åŒ–</span></span><br><span class="line">$ git show [commit]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæŸæ¬¡æäº¤å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶ </span></span><br><span class="line">$ git show --name-only [commit]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæŸæ¬¡æäº¤æ—¶ï¼ŒæŸä¸ªæ–‡ä»¶çš„å†…å®¹</span></span><br><span class="line">$ git show [commit]:[filename]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„æœ€è¿‘å‡ æ¬¡æäº¤ </span></span><br><span class="line">$ git reflog</span><br></pre></td></tr></table></figure><h5 id="7ã€è¿œç¨‹åŒæ­¥"><a href="#7ã€è¿œç¨‹åŒæ­¥" class="headerlink" title="7ã€è¿œç¨‹åŒæ­¥"></a>7ã€è¿œç¨‹åŒæ­¥</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment"># ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨</span></span><br><span class="line">$ git fetch [remote]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“ </span></span><br><span class="line">$ git remote -v</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯ </span></span><br><span class="line">$ git remote show [remote]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># å¢åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå¹¶å‘½å</span></span><br><span class="line">$ git remote add [shortname] [url]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># å–å›è¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶ </span></span><br><span class="line">$ git pull [remote] [branch]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span></span><br><span class="line">$ git push [remote] [branch]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># å¼ºè¡Œæ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª</span></span><br><span class="line">$ git push [remote] --force</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ </span></span><br><span class="line">$ git push [remote] --all</span><br></pre></td></tr></table></figure><h5 id="8ã€æ’¤é”€"><a href="#8ã€æ’¤é”€" class="headerlink" title="8ã€æ’¤é”€"></a>8ã€æ’¤é”€</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº </span></span><br><span class="line">$ git checkout [file]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ¢å¤æŸä¸ªcommitçš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº </span></span><br><span class="line">$ git checkout [commit] [file]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº </span></span><br><span class="line">$ git checkout .</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜</span></span><br><span class="line">$ git reset [file]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´</span></span><br><span class="line">$ git reset --hard</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># é‡ç½®å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜</span></span><br><span class="line">$ git reset [commit]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># é‡ç½®å½“å‰åˆ†æ”¯çš„HEADä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä¸æŒ‡å®šcommitä¸€è‡´</span></span><br><span class="line">$ git reset --hard [commit]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># é‡ç½®å½“å‰HEADä¸ºæŒ‡å®šcommitï¼Œä½†ä¿æŒæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å˜</span></span><br><span class="line">$ git reset --keep [commit]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªcommitï¼Œç”¨æ¥æ’¤é”€æŒ‡å®šcommit </span></span><br><span class="line"><span class="comment"># åè€…çš„æ‰€æœ‰å˜åŒ–éƒ½å°†è¢«å‰è€…æŠµæ¶ˆï¼Œå¹¶ä¸”åº”ç”¨åˆ°å½“å‰åˆ†æ”¯</span></span><br><span class="line"> </span><br><span class="line">$ git revert [commit]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment"># æš‚æ—¶å°†æœªæäº¤çš„å˜åŒ–ç§»é™¤ï¼Œç¨åå†ç§»å…¥ </span></span><br><span class="line">$ git stash</span><br><span class="line"> </span><br><span class="line">$ git stash pop</span><br></pre></td></tr></table></figure><h5 id="9ã€å…¶ä»–"><a href="#9ã€å…¶ä»–" class="headerlink" title="9ã€å…¶ä»–"></a>9ã€å…¶ä»–</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”Ÿæˆä¸€ä¸ªå¯ä¾›å‘å¸ƒçš„å‹ç¼©åŒ… </span></span><br><span class="line">$ git archive</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ElasticSearchç¬”è®°</title>
      <link href="posts/f14ce4db/"/>
      <url>posts/f14ce4db/</url>
      
        <content type="html"><![CDATA[<p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201211173335.png" alt="elastic-logo"></p><h1 id="ä¸€ã€ElasticSearchä»‹ç»"><a href="#ä¸€ã€ElasticSearchä»‹ç»" class="headerlink" title="ä¸€ã€ElasticSearchä»‹ç»"></a>ä¸€ã€ElasticSearchä»‹ç»</h1><h3 id="1-1-å¼•è¨€"><a href="#1-1-å¼•è¨€" class="headerlink" title="1.1 å¼•è¨€"></a>1.1 å¼•è¨€</h3><blockquote><p>1ã€åœ¨æµ·é‡æ•°æ®ä¸­æ‰§è¡Œæœç´ åŠŸèƒ½æ—¶ï¼Œå¦‚æœä½¿ç”¨MySqlï¼Œæ•ˆç‡å¤ªä½ã€‚</p><p>2ã€å…³é”®å­—è¾“å…¥çš„ä¸å‡†ç¡®ï¼Œä¸€æ ·å¯ä»¥æœç´¢åˆ°æƒ³è¦çš„æ•°æ®</p><p>3ã€å°†æœç´¢å…³é”®å­—ï¼Œä»¥çº¢è‰²çš„å­—ä½“å±•ç¤º</p></blockquote><h3 id="1-2-ESçš„ä»‹ç»"><a href="#1-2-ESçš„ä»‹ç»" class="headerlink" title="1.2 ESçš„ä»‹ç»"></a>1.2 ESçš„ä»‹ç»</h3><blockquote><p>ES æ˜¯ä¸€ä¸ªä½¿ç”¨Javaè¯­è¨€å¹¶ä¸”åŸºäºLuceneç¼–å†™çš„æœç´¢å¼•æ“æ¡†æ¶ï¼Œå®ƒæä¾›äº†åˆ†å¸ƒå¼çš„å…¨æ–‡æœç´¢åŠŸèƒ½ï¼Œæä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„åŸºäºRESTfulé£æ ¼çš„WEBæ¥å£ï¼Œå®˜æ–¹å®¢æˆ·ç«¯ä¹Ÿå¯¹å¤šç§è¯­è¨€éƒ½æä¾›äº†ç›¸åº”çš„APIã€‚</p><p>Lucene : Lucene æœ¬èº«å°±æ˜¯ä¸€ä¸ªæœç´¢å¼•æ“çš„ åº•å±‚ã€‚</p><p>åˆ†å¸ƒå¼ ï¼š ESä¸»è¦ä¸ºäº†çªå‡ºå®ƒçš„æ¨ªå‘æ‰©å±•èƒ½åŠ›ã€‚</p><p>å…¨æ–‡æ£€ç´¢ï¼š å°†ä¸€æ®µè¯è¯­è¿›è¡Œåˆ†è¯ï¼Œå¹¶ä¸”å°†åˆ†å‡ºæ¥çš„å•ä¸ªè¯è¯­ç»Ÿä¸€æ”¾åˆ° ä¸€ä¸ªåˆ†è¯åº“ä¸­ï¼Œåœ¨æœç´¢æ—¶ï¼Œæ ¹æ®å…³é”®å­—å»åˆ†è¯åº“ä¸­æ£€ç´¢ï¼Œæ‰¾åˆ°åŒ¹é…çš„å†…å®¹ã€‚(å€’æ’ç´¢å¼•)</p><p>RESTfulé£æ ¼çš„WEBæ¥å£ï¼šåªéœ€è¦å‘é€ä¸€ä¸ªhttpè¯·æ±‚ï¼Œå¹¶ä¸”æ ¹æ®è¯·æ±‚æ–¹å¼ä¸åŒï¼Œæºå¸¦çš„å‚æ•°ä¸åŒï¼Œæ‰§è¡Œç›¸åº”çš„åŠŸèƒ½ã€‚</p></blockquote><h3 id="1-3-ESçš„ç”±æ¥"><a href="#1-3-ESçš„ç”±æ¥" class="headerlink" title="1.3 ESçš„ç”±æ¥"></a>1.3 ESçš„ç”±æ¥</h3><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201211173419.png" alt="image-20200724172118585"></p><h3 id="1-4-ESå’ŒSolrçš„åŒºåˆ«"><a href="#1-4-ESå’ŒSolrçš„åŒºåˆ«" class="headerlink" title="1.4 ESå’ŒSolrçš„åŒºåˆ«"></a>1.4 ESå’ŒSolrçš„åŒºåˆ«</h3><blockquote><p>1ã€Solråœ¨æŸ¥è¯¢æ­»æ•°æ®æ—¶ï¼Œé€Ÿåº¦ç›¸å¯¹äºESä¼šæ›´å¿«ã€‚ä½†æ˜¯æ•°æ®æ—¶å®æ—¶å˜åŒ–çš„ï¼ŒæŸ¥è¯¢æ•ˆç‡ä¼šä¸‹é™å¾ˆå¤šï¼ŒESçš„æŸ¥      è¯¢æ•ˆç‡å˜åŒ–å¹¶ä¸å¤§</p><p>2ã€Solræ­å»ºé›†ç¾¤éœ€è¦ä¾èµ–ZooKeeperæ¥å¸®åŠ©ç®¡ç†ï¼ŒESæœ¬èº«æ”¯æŒé›†ç¾¤æ­å»ºï¼Œä¸éœ€è¦ç¬¬ä¸‰æ–¹ã€‚</p><p>3ã€ESå¯¹äº‘è®¡ç®—å’Œå¤§æ•°æ®æ”¯æŒéå¸¸å¥½ã€‚</p><p>4ã€ESçš„æ–‡æ¡£å¾ˆå¥å…¨</p></blockquote><h3 id="1-5-å€’æ’ç´¢å¼•"><a href="#1-5-å€’æ’ç´¢å¼•" class="headerlink" title="1.5 å€’æ’ç´¢å¼•"></a>1.5 å€’æ’ç´¢å¼•</h3><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201211173500.png" alt="image-20200807125012845"></p><blockquote><p>å°†å­˜æ”¾çš„æ•°æ®ï¼Œä»¥ä¸€å®šæ–¹å¼è¿›è¡Œåˆ†è¯ï¼Œå¹¶å°†åˆ†è¯çš„å†…å®¹å­˜æ”¾åˆ°ä¸€ä¸ªå•ç‹¬çš„åˆ†è¯åº“ä¸­</p><p>å½“ç”¨æˆ·å»æŸ¥è¯¢æ•°æ®æ—¶ï¼Œä¼šå°†ç”¨æˆ·æŸ¥è¯¢çš„å…³é”®è¯è¿›è¡Œåˆ†è¯</p><p>ç„¶åå»åˆ†è¯åº“ä¸­åŒ¹é…å†…å®¹ï¼Œæœ€ç»ˆå¾—åˆ°æ•°æ®çš„idæ ‡è¯†</p><p>æ ¹æ®idæ ‡è¯†å»å­˜æ”¾æ•°æ®çš„ä½ç½®æ‹‰å–æŒ‡å®šçš„å†…å®¹</p></blockquote><h1 id="äºŒã€ElaticSearchå®‰è£…"><a href="#äºŒã€ElaticSearchå®‰è£…" class="headerlink" title="äºŒã€ElaticSearchå®‰è£…"></a>äºŒã€ElaticSearchå®‰è£…</h1><h3 id="2-1-ã€å®‰è£…ES-amp-Kibana"><a href="#2-1-ã€å®‰è£…ES-amp-Kibana" class="headerlink" title="2.1 ã€å®‰è£…ES &amp; Kibana"></a>2.1 ã€å®‰è£…ES &amp; Kibana</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">version:&quot;3.1&quot;</span><br><span class="line">services:</span><br><span class="line">elasticsearch:</span><br><span class="line">image: daocloud.io/library/elasticsearch:6.5.4</span><br><span class="line">restart: always</span><br><span class="line">container_name: elasticsearch</span><br><span class="line">ports:</span><br><span class="line">- 9200: 9200</span><br><span class="line">kibana:</span><br><span class="line">image: daocloud.io/library/kibana:6.5.4</span><br><span class="line">restart: always</span><br><span class="line">container_name: kibana</span><br><span class="line">ports:</span><br><span class="line">-5601: 5601</span><br><span class="line">environment:</span><br><span class="line">- elasticsearch_url=http://47.115.11.82:9200</span><br><span class="line">depends_on:</span><br><span class="line">- elasticsearch</span><br></pre></td></tr></table></figure><h3 id="2-2-ã€å®‰è£…-IK-åˆ†è¯å™¨"><a href="#2-2-ã€å®‰è£…-IK-åˆ†è¯å™¨" class="headerlink" title="2.2 ã€å®‰è£… IK åˆ†è¯å™¨"></a>2.2 ã€å®‰è£… IK åˆ†è¯å™¨</h3><blockquote><p>ä¸‹è½½ IK åˆ†è¯å™¨çš„åœ°å€ï¼š</p><p>è¿›å…¥åˆ°ESå®¹å™¨å†…éƒ¨ï¼Œè·³è½¬åˆ°binç›®å½•ä¸‹ï¼Œæ‰§è¡Œbinç›®å½•ä¸‹çš„è„šæœ¬æ–‡ä»¶ï¼š</p><p>./elasticsearch-plugin install </p><p>IKæä¾›äº†ä¸¤ä¸ªåˆ†è¯ç®—æ³•ï¼šik_smartå’Œik_wordï¼Œå…¶ä¸­ik_smartä¸ºæœ€å°‘åˆ‡åˆ†ï¼Œik_wordä¸ºæœ€ç»†ç²’åº¦åˆ’åˆ†ã€‚</p></blockquote><h1 id="ä¸‰ã€ElasticSearchåŸºæœ¬æ“ä½œ"><a href="#ä¸‰ã€ElasticSearchåŸºæœ¬æ“ä½œ" class="headerlink" title="ä¸‰ã€ElasticSearchåŸºæœ¬æ“ä½œ"></a>ä¸‰ã€ElasticSearchåŸºæœ¬æ“ä½œ</h1><h3 id="3-1ã€ESçš„ç»“æ„"><a href="#3-1ã€ESçš„ç»“æ„" class="headerlink" title="3.1ã€ESçš„ç»“æ„"></a>3.1ã€ESçš„ç»“æ„</h3><h5 id="3-1-1-ã€ç´¢å¼•Indexã€åˆ†ç‰‡å’Œå¤‡ä»½ã€‚"><a href="#3-1-1-ã€ç´¢å¼•Indexã€åˆ†ç‰‡å’Œå¤‡ä»½ã€‚" class="headerlink" title="3.1.1 ã€ç´¢å¼•Indexã€åˆ†ç‰‡å’Œå¤‡ä»½ã€‚"></a>3.1.1 ã€ç´¢å¼•Indexã€åˆ†ç‰‡å’Œå¤‡ä»½ã€‚</h5><blockquote><p>ES çš„æœåŠ¡ä¸­ï¼Œå¯ä»¥åˆ›å»ºå¤šä¸ªç´¢å¼•ã€‚ç±»ä¼¼Mysqlçš„å¤šä¸ªæ•°æ®åº“</p><p>æ¯ä¸€ä¸ªç´¢å¼•é»˜è®¤è¢«åˆ†æˆ5ç‰‡å­˜å‚¨ã€‚</p><p>æ¯ä¸€ä¸ªåˆ†ç‰‡éƒ½ä¼šå­˜åœ¨è‡³å°‘ä¸€ä¸ªå¤‡ä»½åˆ†ç‰‡ã€‚</p><p>å¤‡ä»½åˆ†ç‰‡é»˜è®¤ä¸ä¼šå¸®åŠ©æ£€ç´¢æ•°æ®ï¼Œå½“ESæ£€ç´¢å‹åŠ›ç‰¹åˆ«å¤§çš„æ—¶å€™ï¼Œå¤‡ä»½åˆ†ç‰‡æ‰ä¼šå¸®åŠ©æ£€ç´¢æ•°æ®ã€‚</p><p>å¤‡ä»½åˆ†ç‰‡å¿…é¡»æ”¾åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸­ã€‚</p></blockquote><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201211173546.png" alt="image-20200807151543708"></p><h5 id="3-1-2-ã€ç±»å‹Type"><a href="#3-1-2-ã€ç±»å‹Type" class="headerlink" title="3.1.2 ã€ç±»å‹Type"></a>3.1.2 ã€ç±»å‹Type</h5><blockquote><p>ä¸€ä¸ªç´¢å¼•ä¸‹ï¼Œå¯ä»¥åˆ›å»ºå¤šä¸ªç±»å‹ã€‚ç±»ä¼¼Mysqlä¸­ä¸åŒçš„è¡¨</p><p>Ps:æ ¹æ®ç‰ˆæœ¬çš„ä¸åŒï¼Œç±»å‹å¯åˆ›å»ºçš„æ•°é‡ä¹Ÿä¸åŒ</p></blockquote><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201211173702.png" alt="image-20200807151731292"></p><h5 id="3-1-3-ã€æ–‡æ¡£Doc"><a href="#3-1-3-ã€æ–‡æ¡£Doc" class="headerlink" title="3.1.3 ã€æ–‡æ¡£Doc"></a>3.1.3 ã€æ–‡æ¡£Doc</h5><blockquote><p>ä¸€ä¸ªç±»å‹ä¸‹æœ‰å¤šä¸ªæ–‡æ¡£ã€‚è¿™ä¸ªæ–‡æ¡£ç±»ä¼¼äºMysqlä¸­çš„å¤šè¡Œæ•°æ®ã€‚</p></blockquote><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201211173754.png" alt="image-20200807152002952"></p><h3 id="3-2-ã€æ“ä½œESçš„Restfulè¯­æ³•"><a href="#3-2-ã€æ“ä½œESçš„Restfulè¯­æ³•" class="headerlink" title="3.2 ã€æ“ä½œESçš„Restfulè¯­æ³•"></a>3.2 ã€æ“ä½œESçš„Restfulè¯­æ³•</h3><blockquote><p>GETè¯·æ±‚:</p><pre><code>http://ip:port/index:æŸ¥è¯¢ç´¢å¼•ä¿¡æ¯http://ip:port/index/type/doc_id:æŸ¥è¯¢æŒ‡å®šçš„æ–‡æ¡£ä¿¡æ¯</code></pre><p>POSTè¯·æ±‚:</p><pre><code>http://ip:port/index/type/_search:æŸ¥è¯¢æ–‡æ¡£ï¼Œå¯ä»¥åœ¨è¯·æ±‚ä½“ä¸­æ·»åŠ jsonå­—ç¬¦ä¸²æ¥ä»£è¡¨æŸ¥è¯¢æ¡ä»¶http://ip:port/index/type/doc_id/_update:ä¿®æ”¹æ–‡æ¡£ï¼Œåœ¨è¯·æ±‚ä½“ä¸­æŒ‡å®šisonå­—ç¬¦ä¸²ä»£è¡¨ä¿®æ”¹çš„å…·ä½“ä¿¡æ¯_</code></pre><p>PUTè¯·æ±‚:</p><pre><code>http://ip;port/index:åˆ›å»ºä¸€ä¸ªç´¢å¼•ï¼Œéœ€è¦åœ¨è¯·æ±‚ä½“ä¸­æŒ‡å®šç´¢å¼•çš„ä¿¡æ¯ï¼Œç±»å‹ï¼Œç»“æ„http://ip:port/index/type/_mappings:ä»£è¡¨åˆ›å»ºç´¢å¼•æ—¶ï¼ŒæŒ‡å®šç´¢å¼•æ–‡æ¡£å­˜å‚¨çš„å±æ€§çš„ä¿¡æ¯</code></pre><p>DELETEè¯·æ±‚:</p><pre><code>http://ip:port/index:åˆ é™¤è·‘è·¯http://ip:port/index/type/doc_id:åˆ é™¤æŒ‡å®šçš„æ–‡æ¡£</code></pre></blockquote><h5 id="3-1-4-ã€å±æ€§Filed"><a href="#3-1-4-ã€å±æ€§Filed" class="headerlink" title="3.1.4 ã€å±æ€§Filed"></a>3.1.4 ã€å±æ€§Filed</h5><blockquote><p>ä¸€ä¸ªæ–‡æ¡£ä¸­ï¼Œå¯ä»¥åŒ…å«å¤šä¸ªå±æ€§ã€‚ç±»ä¼¼äºMysqlä¸­ä¸€è¡Œæ•°æ®å­˜åœ¨å¤šä¸ªåˆ—ã€‚</p></blockquote><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201211173858.png" alt="image-20200807152414336"></p><h3 id="3-3ã€-ç´¢å¼•çš„æ“ä½œ"><a href="#3-3ã€-ç´¢å¼•çš„æ“ä½œ" class="headerlink" title="3.3ã€ ç´¢å¼•çš„æ“ä½œ"></a>3.3ã€ ç´¢å¼•çš„æ“ä½œ</h3><h5 id="3-3-1-ã€åˆ›å»ºä¸€ä¸ªç´¢å¼•"><a href="#3-3-1-ã€åˆ›å»ºä¸€ä¸ªç´¢å¼•" class="headerlink" title="3.3.1 ã€åˆ›å»ºä¸€ä¸ªç´¢å¼•"></a>3.3.1 ã€åˆ›å»ºä¸€ä¸ªç´¢å¼•</h5><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># åˆ›å»ºä¸€ä¸ªç´¢å¼•</span><br><span class="line">PUT /person</span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;settings&quot;</span>:&#123;</span><br><span class="line">        <span class="attr">&quot;number_of_shards&quot;</span>:<span class="number">5</span>,</span><br><span class="line">        <span class="attr">&quot;number_of_replicas&quot;</span>:<span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3-3-2-ã€æŸ¥çœ‹ç´¢å¼•ä¿¡æ¯"><a href="#3-3-2-ã€æŸ¥çœ‹ç´¢å¼•ä¿¡æ¯" class="headerlink" title="3.3.2 ã€æŸ¥çœ‹ç´¢å¼•ä¿¡æ¯"></a>3.3.2 ã€æŸ¥çœ‹ç´¢å¼•ä¿¡æ¯</h5><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201211173946.png" alt="image-20200807163753875"></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥çœ‹ç´¢å¼•ä¿¡æ¯</span><br><span class="line">GET /person</span><br></pre></td></tr></table></figure><h5 id="3-3-3-ã€åˆ é™¤ç´¢å¼•"><a href="#3-3-3-ã€åˆ é™¤ç´¢å¼•" class="headerlink" title="3.3.3 ã€åˆ é™¤ç´¢å¼•"></a>3.3.3 ã€åˆ é™¤ç´¢å¼•</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># åˆ é™¤ç´¢å¼•</span><br><span class="line">DELETE /person</span><br></pre></td></tr></table></figure><h3 id="3-4ã€ESä¸­-Filed-å¯ä»¥æŒ‡å®šçš„ç±»å‹"><a href="#3-4ã€ESä¸­-Filed-å¯ä»¥æŒ‡å®šçš„ç±»å‹" class="headerlink" title="3.4ã€ESä¸­ Filed å¯ä»¥æŒ‡å®šçš„ç±»å‹"></a>3.4ã€ESä¸­ Filed å¯ä»¥æŒ‡å®šçš„ç±»å‹</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"># å­—ç¬¦ä¸²ç±»å‹</span><br><span class="line">* text- ä¸€èˆ¬ç”¨äºå…¨æ–‡æ£€ç´¢ï¼Œå°†å½“å‰çš„filedè¿›è¡Œåˆ†è¯</span><br><span class="line">* keyword- å½“å‰çš„filedä¸ä¼šè¢«åˆ†è¯</span><br><span class="line"></span><br><span class="line"># æ•°å€¼ç±»å‹</span><br><span class="line">* long</span><br><span class="line">* integer</span><br><span class="line">* short</span><br><span class="line">* byte</span><br><span class="line">* double</span><br><span class="line">* float</span><br><span class="line">* half_float- ç²¾åº¦æ¯”floatå°ä¸€åŠ</span><br><span class="line">* scaled_float  - æ ¹æ®ä¸€ä¸ªlongå’Œä¸€ä¸ªscaledæ¥è¡¨è¾¾ä¸€ä¸ªæµ®ç‚¹å‹ï¼Œlong-345,scaled-100  ----&gt;3.45</span><br><span class="line"></span><br><span class="line"># æ—¶é—´ç±»å‹</span><br><span class="line">* dateç±»å‹ï¼Œé’ˆå¯¹æ—¶é—´ç±»å‹æŒ‡å®šå…·ä½“çš„æ ¼å¼</span><br><span class="line"></span><br><span class="line"># å¸ƒå°”ç±»å‹</span><br><span class="line">* Booleanç±»å‹ï¼Œè¡¨è¾¾trueå’Œfalse</span><br><span class="line"></span><br><span class="line"># äºŒè¿›åˆ¶ç±»å‹</span><br><span class="line">* binaryç±»å‹æš‚æ—¶æ”¯æŒbase64 encod string</span><br><span class="line"></span><br><span class="line"># èŒƒå›´ç±»å‹</span><br><span class="line">* long_range    - èµ‹å€¼æ—¶ï¼Œæ— éœ€æŒ‡å®šå…·ä½“çš„å†…å®¹ï¼Œåªéœ€è¦å­˜å‚¨ä¸€ä¸ªèŒƒå›´å³å¯ï¼ŒæŒ‡å®šgt,lt,gte,lte</span><br><span class="line">* integer_range - åŒä¸Š</span><br><span class="line">* double_range- åŒä¸Š</span><br><span class="line">* float_range- åŒä¸Š</span><br><span class="line">* date_range- åŒä¸Š</span><br><span class="line">* ip_range- åŒä¸Š</span><br><span class="line"></span><br><span class="line"># ç»çº¬åº¦ç±»å‹</span><br><span class="line">* geo_point     - ç”¨æ¥å­˜å‚¨ç»çº¬åº¦</span><br><span class="line"></span><br><span class="line"># ipç±»å‹</span><br><span class="line">* ip        - å¯ä»¥å­˜å‚¨ipv4æˆ–è€…ipv6</span><br></pre></td></tr></table></figure><h3 id="3-5ã€åˆ›å»ºç´¢å¼•å¹¶æŒ‡å®šæ•°æ®ç»“æ„"><a href="#3-5ã€åˆ›å»ºç´¢å¼•å¹¶æŒ‡å®šæ•°æ®ç»“æ„" class="headerlink" title="3.5ã€åˆ›å»ºç´¢å¼•å¹¶æŒ‡å®šæ•°æ®ç»“æ„"></a>3.5ã€åˆ›å»ºç´¢å¼•å¹¶æŒ‡å®šæ•°æ®ç»“æ„</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"># åˆ›å»ºç´¢å¼•ï¼Œå¹¶æŒ‡å®šæ•°æ®ç»“æ„</span><br><span class="line">PUT /book</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;settings&quot;</span>: &#123;</span><br><span class="line">     # åˆ†ç‰‡æ•°</span><br><span class="line">    <span class="string">&quot;number_of_shards&quot;</span>: <span class="number">5</span>,</span><br><span class="line">     # å¤‡ä»½æ•°</span><br><span class="line">    <span class="string">&quot;number_of_replicas&quot;</span>: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">   # æŒ‡å®šæ•°æ®ç»“æ„</span><br><span class="line">  <span class="string">&quot;mappings&quot;</span>: &#123;</span><br><span class="line">    # ç±»å‹  Type</span><br><span class="line">    <span class="string">&quot;nover&quot;</span>:&#123;</span><br><span class="line">      # æ–‡æ¡£å­˜å‚¨çš„Filed æœ‰å“ªäº›</span><br><span class="line">      <span class="string">&quot;properties&quot;</span>:&#123;</span><br><span class="line">      # Filedçš„å±æ€§å</span><br><span class="line">        <span class="string">&quot;name&quot;</span>:&#123;</span><br><span class="line">          # å±æ€§çš„ç±»å‹</span><br><span class="line">          <span class="string">&quot;type&quot;</span>:<span class="string">&quot;text&quot;</span>,</span><br><span class="line">          # æŒ‡å®šåˆ†è¯å™¨</span><br><span class="line">          <span class="string">&quot;analyzer&quot;</span>:<span class="string">&quot;ik_max_word&quot;</span>,</span><br><span class="line">          # æŒ‡å®šå½“å‰çš„Filedå¯ä»¥è¢«ä½œä¸ºæŸ¥è¯¢çš„æ¡ä»¶</span><br><span class="line">          <span class="string">&quot;index&quot;</span>:<span class="string">&quot;true&quot;</span>,</span><br><span class="line">          # æ˜¯å¦éœ€è¦é¢å¤–å­˜å‚¨ï¼Œé»˜è®¤false</span><br><span class="line">          <span class="string">&quot;store&quot;</span>:<span class="string">&quot;false&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;author&quot;</span>:&#123;</span><br><span class="line">          <span class="string">&quot;type&quot;</span>:<span class="string">&quot;keyword&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;count&quot;</span>:&#123;</span><br><span class="line">          <span class="string">&quot;type&quot;</span>:<span class="string">&quot;long&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;onSale&quot;</span>:&#123;</span><br><span class="line">          <span class="string">&quot;type&quot;</span>:<span class="string">&quot;date&quot;</span>,</span><br><span class="line">           # æ—¶é—´ç±»å‹çš„æ ¼å¼åŒ–æ–¹å¼</span><br><span class="line">          <span class="string">&quot;format&quot;</span>:<span class="string">&quot;yyyy-MM-dd HH:mm:ss || yyyy-MM-dd || epoch_millis&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;descr&quot;</span>:&#123;</span><br><span class="line">          <span class="string">&quot;type&quot;</span>:<span class="string">&quot;text&quot;</span>,</span><br><span class="line">          <span class="string">&quot;analyzer&quot;</span>:<span class="string">&quot;ik_max_word&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-6ã€æ–‡æ¡£çš„æ“ä½œ"><a href="#3-6ã€æ–‡æ¡£çš„æ“ä½œ" class="headerlink" title="3.6ã€æ–‡æ¡£çš„æ“ä½œ"></a>3.6ã€æ–‡æ¡£çš„æ“ä½œ</h3><blockquote><p>æ–‡æ¡£åœ¨ESæœåŠ¡ä¸­çš„å”¯ä¸€æ ‡è¯†ï¼Œ<code>_index</code>ï¼Œ<code>_type</code>ï¼Œ<code>_id</code> ä¸‰ä¸ªå†…å®¹ä¸ºç»„åˆï¼Œé”å®šä¸€ä¸ªæ–‡æ¡£ï¼Œæ¥æ·»åŠ è¿˜æ˜¯ä¿®æ”¹ã€‚</p></blockquote><h5 id="3-6-1ã€æ–°å»ºæ–‡æ¡£"><a href="#3-6-1ã€æ–°å»ºæ–‡æ¡£" class="headerlink" title="3.6.1ã€æ–°å»ºæ–‡æ¡£"></a>3.6.1ã€æ–°å»ºæ–‡æ¡£</h5><p><code>è‡ªåŠ¨ç”Ÿæˆ_id</code></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># æ·»åŠ æ–‡æ¡£ï¼Œè‡ªåŠ¨ç”Ÿæˆid</span><br><span class="line">POST /book/nover</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>:<span class="string">&quot;ç›˜é¾™&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;author&quot;</span>:<span class="string">&quot;æˆ‘åƒè¥¿çº¢æŸ¿&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;count&quot;</span>:<span class="string">&quot;100000&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;onSale&quot;</span>:<span class="string">&quot;2009-01-01&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;descr&quot;</span>:<span class="string">&quot;å¤§å°çš„è¡€ç›é¬ƒæ¯›ç‹®ï¼ŒåŠ›å¤§æ— ç©·çš„ç´«ç›é‡‘æ¯›çŒ¿ï¼Œæ¯å¤©ç­åœ°çš„ä¹å¤´è›‡çš‡ï¼Œæºå¸¦ç€æ¯ç­é›·ç”µçš„ææ€–é›·é¾™â€¦â€¦&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># è¿”å›çš„ç»“æœ</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;_index&quot;</span> : <span class="string">&quot;book&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;_type&quot;</span> : <span class="string">&quot;nover&quot;</span>,</span><br><span class="line">  &quot;_id&quot; : &quot;Gq3H5nMBvQ2hcQ99m2Bc&quot;,    -----&gt; # è‡ªåŠ¨æŒ‡å®šçš„id</span><br><span class="line">  &quot;_version&quot; : 1,</span><br><span class="line">  &quot;result&quot; : &quot;created&quot;,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 2,</span><br><span class="line">    &quot;successful&quot; : 1,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;_seq_no&quot; : 0,</span><br><span class="line">  &quot;_primary_term&quot; : 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>æ‰‹åŠ¨æŒ‡å®š_id</code></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># æ·»åŠ æ–‡æ¡£ï¼Œæ‰‹åŠ¨ç”Ÿæˆid</span><br><span class="line">POST /book/nover/1</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>:<span class="string">&quot;é®å¤©&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;author&quot;</span>:<span class="string">&quot;è¾°ä¸œ&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;count&quot;</span>:<span class="string">&quot;100000&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;onSale&quot;</span>:<span class="string">&quot;2008-01-01&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;descr&quot;</span>:<span class="string">&quot;å†°å†·ä¸é»‘æš—å¹¶å­˜çš„å®‡å®™æ·±å¤„ï¼Œä¹å…·åºå¤§çš„é¾™å°¸æ‹‰ç€ä¸€å£é’é“œå¤æ£ºï¼Œäº˜å¤é•¿å­˜ã€‚è¿™æ˜¯å¤ªç©ºæ¢æµ‹å™¨åœ¨æ¯å¯‚çš„å®‡å®™ä¸­æ•æ‰åˆ°çš„ä¸€å¹…æå…¶éœ‡æ’¼çš„ç”»é¢ã€‚ä¹é¾™æ‹‰æ£ºï¼Œç©¶ç«Ÿæ˜¯...&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># è¿”å›çš„ç»“æœ</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;_index&quot;</span> : <span class="string">&quot;book&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;_type&quot;</span> : <span class="string">&quot;nover&quot;</span>,</span><br><span class="line">  &quot;_id&quot; : &quot;1&quot;,    -----&gt; # æ‰‹åŠ¨æŒ‡å®šçš„id</span><br><span class="line">  &quot;_version&quot; : 1,</span><br><span class="line">  &quot;result&quot; : &quot;created&quot;,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 2,</span><br><span class="line">    &quot;successful&quot; : 1,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;_seq_no&quot; : 0,</span><br><span class="line">  &quot;_primary_term&quot; : 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3-6-2ã€ä¿®æ”¹æ–‡æ¡£"><a href="#3-6-2ã€ä¿®æ”¹æ–‡æ¡£" class="headerlink" title="3.6.2ã€ä¿®æ”¹æ–‡æ¡£"></a>3.6.2ã€ä¿®æ”¹æ–‡æ¡£</h5><p><code>è¦†ç›–å¼ä¿®æ”¹</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># æ·»åŠ æ–‡æ¡£ï¼Œè‡ªåŠ¨ç”Ÿæˆid</span><br><span class="line">POST /book/nover/1</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>:<span class="string">&quot;ç›˜é¾™&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;author&quot;</span>:<span class="string">&quot;æˆ‘åƒè¥¿çº¢æŸ¿&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;count&quot;</span>:<span class="string">&quot;100000&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;onSale&quot;</span>:<span class="string">&quot;2009-01-01&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;descr&quot;</span>:<span class="string">&quot;å¤§å°çš„è¡€ç›é¬ƒæ¯›ç‹®ï¼ŒåŠ›å¤§æ— ç©·çš„ç´«ç›é‡‘æ¯›çŒ¿ï¼Œæ¯å¤©ç­åœ°çš„ä¹å¤´è›‡çš‡ï¼Œæºå¸¦ç€æ¯ç­é›·ç”µçš„ææ€–é›·é¾™â€¦â€¦&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>docä¿®æ”¹</code></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># ä¿®æ”¹æ–‡æ¡£ï¼ŒåŸºäºdocæ–¹å¼</span><br><span class="line">POST /book/nover/1/_update</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;doc&quot;</span>: &#123;</span><br><span class="line">     # æŒ‡å®šéœ€è¦ä¿®æ”¹çš„filedå’Œå¯¹åº”çš„å€¼</span><br><span class="line">    &quot;count&quot;:&quot;123456&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3-6-3ã€åˆ é™¤æ–‡æ¡£"><a href="#3-6-3ã€åˆ é™¤æ–‡æ¡£" class="headerlink" title="3.6.3ã€åˆ é™¤æ–‡æ¡£"></a>3.6.3ã€åˆ é™¤æ–‡æ¡£</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># æ ¹æ®idåˆ é™¤æ–‡æ¡£</span><br><span class="line">DELETE /book/nover/æ–‡æ¡£çš„id</span><br></pre></td></tr></table></figure><h1 id="å››ã€Javaæ“ä½œElasticSearch"><a href="#å››ã€Javaæ“ä½œElasticSearch" class="headerlink" title="å››ã€Javaæ“ä½œElasticSearch"></a>å››ã€Javaæ“ä½œElasticSearch</h1><h3 id="4-1ã€Javaè¿æ¥ES"><a href="#4-1ã€Javaè¿æ¥ES" class="headerlink" title="4.1ã€Javaè¿æ¥ES"></a>4.1ã€Javaè¿æ¥ES</h3><blockquote><p>1ã€åˆ›å»ºMavenå·¥ç¨‹</p></blockquote><blockquote><p>2ã€å¯¼å…¥ä¾èµ–</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1ã€elasticsearch --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.elasticsearch<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>elasticsearch<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.5.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2ã€elasticsearché«˜çº§API --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.elasticsearch.client<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>elasticsearch-rest-high-level-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.5.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 3ã€junit --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 4ã€lombok --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>åˆ›å»ºæµ‹è¯•ç±»ï¼Œè¿æ¥ES</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ESClint</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> RestHighLevelClient <span class="title">getClient</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºHttpHostå¯¹è±¡</span></span><br><span class="line">        HttpHost httpHost = <span class="keyword">new</span> HttpHost(<span class="string">&quot;localhost&quot;</span>,<span class="number">9200</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»º restClientBuilder</span></span><br><span class="line">        RestClientBuilder clientBuilder = RestClient.builder(httpHost);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»º RestHighLevelClient</span></span><br><span class="line">        RestHighLevelClient client = <span class="keyword">new</span> RestHighLevelClient(clientBuilder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿”å›</span></span><br><span class="line">        <span class="keyword">return</span> client;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="4-2ã€Javaåˆ›å»ºç´¢å¼•"><a href="#4-2ã€Javaåˆ›å»ºç´¢å¼•" class="headerlink" title="4.2ã€Javaåˆ›å»ºç´¢å¼•"></a>4.2ã€Javaåˆ›å»ºç´¢å¼•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo2</span> </span>&#123;</span><br><span class="line">    RestHighLevelClient client = ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;person&quot;</span>;</span><br><span class="line">    String type  = <span class="string">&quot;man&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">createIndex</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€å‡†å¤‡ç´¢å¼•çš„ settings</span></span><br><span class="line">        Settings.Builder settings = Settings.builder()</span><br><span class="line">                .put(<span class="string">&quot;number_of_shards&quot;</span>, <span class="number">3</span>)</span><br><span class="line">                .put(<span class="string">&quot;number_of_replicas&quot;</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€å‡†å¤‡å…³äºç´¢å¼•ç»“æ„çš„ mappings</span></span><br><span class="line">        XContentBuilder mappings = JsonXContent.contentBuilder()</span><br><span class="line">                .startObject()</span><br><span class="line">                    .startObject(<span class="string">&quot;properties&quot;</span>)</span><br><span class="line">                        .startObject(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">                            .field(<span class="string">&quot;type&quot;</span>,<span class="string">&quot;text&quot;</span>)</span><br><span class="line">                        .endObject()</span><br><span class="line">                        .startObject(<span class="string">&quot;age&quot;</span>)</span><br><span class="line">                            .field(<span class="string">&quot;type&quot;</span>,<span class="string">&quot;integer&quot;</span>)</span><br><span class="line">                        .endObject()</span><br><span class="line">                        .startObject(<span class="string">&quot;birthday&quot;</span>)</span><br><span class="line">                            .field(<span class="string">&quot;type&quot;</span>,<span class="string">&quot;date&quot;</span>)</span><br><span class="line">                            .field(<span class="string">&quot;format&quot;</span>,<span class="string">&quot;yyyy-MM-dd&quot;</span>)</span><br><span class="line">                        .endObject()</span><br><span class="line">                    .endObject()</span><br><span class="line">                .endObject();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€å°†settings å’Œ mappings å°è£…åˆ°requestå¯¹è±¡ä¸­</span></span><br><span class="line">        CreateIndexRequest request = <span class="keyword">new</span> CreateIndexRequest(index)</span><br><span class="line">                .settings(settings)</span><br><span class="line">                .mapping(type,mappings);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€é€šè¿‡ client å¯¹è±¡å»è¿æ¥ ES åˆ›å»ºç´¢å¼•</span></span><br><span class="line">        CreateIndexResponse response = client.indices().create(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5ã€è¾“å‡º</span></span><br><span class="line">        System.out.println(<span class="string">&quot;resp:&quot;</span>+response.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-3ã€æ£€æŸ¥ç´¢å¼•æ˜¯å¦å­˜åœ¨ã€åˆ é™¤ç´¢å¼•"><a href="#4-3ã€æ£€æŸ¥ç´¢å¼•æ˜¯å¦å­˜åœ¨ã€åˆ é™¤ç´¢å¼•" class="headerlink" title="4.3ã€æ£€æŸ¥ç´¢å¼•æ˜¯å¦å­˜åœ¨ã€åˆ é™¤ç´¢å¼•"></a>4.3ã€æ£€æŸ¥ç´¢å¼•æ˜¯å¦å­˜åœ¨ã€åˆ é™¤ç´¢å¼•</h3><p><code>æ£€æŸ¥ç´¢å¼•æ˜¯å¦å­˜åœ¨</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo2</span> </span>&#123;</span><br><span class="line">    RestHighLevelClient client = ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;person&quot;</span>;</span><br><span class="line">    String type  = <span class="string">&quot;man&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">exists</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€å‡†å¤‡requestå¯¹è±¡</span></span><br><span class="line">        GetIndexRequest request = <span class="keyword">new</span> GetIndexRequest();</span><br><span class="line">        request.indices(index);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€é€šè¿‡clientå»æ“ä½œ</span></span><br><span class="line">        <span class="keyword">boolean</span> exists = client.indices().exists(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€è¾“å‡º</span></span><br><span class="line">        System.out.println(exists);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€å‡†å¤‡requestå¯¹è±¡</span></span><br><span class="line">        DeleteIndexRequest request = <span class="keyword">new</span> DeleteIndexRequest();</span><br><span class="line">        request.indices(index);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€é€šè¿‡clientå¯¹è±¡æ‰§è¡Œ</span></span><br><span class="line">        AcknowledgedResponse delete = client.indices().delete(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€è¾“å‡º</span></span><br><span class="line">        System.out.println(delete.isAcknowledged());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>åˆ é™¤ç´¢å¼•</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo2</span> </span>&#123;</span><br><span class="line">    RestHighLevelClient client = ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;person&quot;</span>;</span><br><span class="line">    String type  = <span class="string">&quot;man&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€å‡†å¤‡requestå¯¹è±¡</span></span><br><span class="line">        DeleteIndexRequest request = <span class="keyword">new</span> DeleteIndexRequest();</span><br><span class="line">        request.indices(index);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€é€šè¿‡clientå¯¹è±¡æ‰§è¡Œ</span></span><br><span class="line">        AcknowledgedResponse delete = client.indices().delete(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€è¾“å‡º</span></span><br><span class="line">        System.out.println(delete.isAcknowledged());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-4-ã€Javaæ“ä½œæ–‡æ¡£"><a href="#4-4-ã€Javaæ“ä½œæ–‡æ¡£" class="headerlink" title="4.4 ã€Javaæ“ä½œæ–‡æ¡£"></a>4.4 ã€Javaæ“ä½œæ–‡æ¡£</h3><h5 id="4-4-1ã€æ·»åŠ æ–‡æ¡£æ“ä½œ"><a href="#4-4-1ã€æ·»åŠ æ–‡æ¡£æ“ä½œ" class="headerlink" title="4.4.1ã€æ·»åŠ æ–‡æ¡£æ“ä½œ"></a>4.4.1ã€æ·»åŠ æ–‡æ¡£æ“ä½œ</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo3</span> </span>&#123;</span><br><span class="line">    ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();     <span class="comment">// è·å¾—jacksonçš„mapperå¯¹è±¡</span></span><br><span class="line">    RestHighLevelClient client = ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;person&quot;</span>;</span><br><span class="line">    String type  = <span class="string">&quot;man&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">createDoc</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€å‡†å¤‡ä¸€ç»„jsonæ•°æ®</span></span><br><span class="line">        Person person = <span class="keyword">new</span> Person(<span class="number">1</span>,<span class="string">&quot;å¼ ä¸‰&quot;</span>,<span class="number">21</span>,<span class="keyword">new</span> Date());</span><br><span class="line">        String json = mapper.writeValueAsString(person);  <span class="comment">// å°†person å¯¹è±¡åºåˆ—åŒ–æˆjson</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€å‡†å¤‡requestå¯¹è±¡</span></span><br><span class="line">        IndexRequest request = <span class="keyword">new</span> IndexRequest(index,type,person.getId().toString());</span><br><span class="line">        request.source(json, XContentType.JSON);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€é€šè¿‡clientå¯¹è±¡æ“ä½œ</span></span><br><span class="line">        IndexResponse index = client.index(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€è¾“å‡º</span></span><br><span class="line">        System.out.println(index);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="4-4-2ã€ä¿®æ”¹æ–‡æ¡£"><a href="#4-4-2ã€ä¿®æ”¹æ–‡æ¡£" class="headerlink" title="4.4.2ã€ä¿®æ”¹æ–‡æ¡£"></a>4.4.2ã€ä¿®æ”¹æ–‡æ¡£</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo3</span> </span>&#123;</span><br><span class="line">    RestHighLevelClient client = ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;person&quot;</span>;</span><br><span class="line">    String type  = <span class="string">&quot;man&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªMapï¼ŒæŒ‡å®šéœ€è¦ä¿®æ”¹çš„å†…å®¹</span></span><br><span class="line">        HashMap&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;é¸¢ä¹&quot;</span>);</span><br><span class="line">        String doc_id = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        <span class="comment">// 2ã€åˆ›å»ºrequestå¯¹è±¡ï¼Œå°è£…æ•°æ®</span></span><br><span class="line">        UpdateRequest updateRequest = <span class="keyword">new</span> UpdateRequest(index,type,doc_id);</span><br><span class="line">        updateRequest.doc(map);</span><br><span class="line">        <span class="comment">// 3ã€é€šè¿‡clientå¯¹è±¡æ‰§è¡Œ</span></span><br><span class="line">        UpdateResponse update = client.update(updateRequest, RequestOptions.DEFAULT);</span><br><span class="line">        <span class="comment">// 4ã€è¾“å‡º</span></span><br><span class="line">        System.out.println(update);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="4-4-3ã€åˆ é™¤æ–‡æ¡£"><a href="#4-4-3ã€åˆ é™¤æ–‡æ¡£" class="headerlink" title="4.4.3ã€åˆ é™¤æ–‡æ¡£"></a>4.4.3ã€åˆ é™¤æ–‡æ¡£</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo3</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    RestHighLevelClient client = ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;person&quot;</span>;</span><br><span class="line">    String type  = <span class="string">&quot;man&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteDoc</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 1ã€ç›´æ¥å°è£…requestå¯¹è±¡ï¼Œæ ¹æ®idåˆ é™¤å˜›</span></span><br><span class="line">        DeleteRequest request = <span class="keyword">new</span> DeleteRequest(index,type,<span class="string">&quot;1&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€é€šè¿‡clientå¯¹è±¡æ‰§è¡Œ</span></span><br><span class="line">        DeleteResponse delete = client.delete(request,RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€è¾“å‡º</span></span><br><span class="line">        System.out.println(delete.getResult().toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="4-4-4ã€Javaæ‰¹é‡æ“ä½œæ–‡æ¡£"><a href="#4-4-4ã€Javaæ‰¹é‡æ“ä½œæ–‡æ¡£" class="headerlink" title="4.4.4ã€Javaæ‰¹é‡æ“ä½œæ–‡æ¡£"></a>4.4.4ã€Javaæ‰¹é‡æ“ä½œæ–‡æ¡£</h5><p><strong>æ‰¹é‡æ·»åŠ </strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo3</span> </span>&#123;</span><br><span class="line">    ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">    RestHighLevelClient client = ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;person&quot;</span>;</span><br><span class="line">    String type  = <span class="string">&quot;man&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bulkCreatDoc</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 1ã€å‡†å¤‡å¤šä¸ªæ•°æ®</span></span><br><span class="line">        Person person1 = <span class="keyword">new</span> Person(<span class="number">1</span>, <span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="number">23</span>, <span class="keyword">new</span> Date());</span><br><span class="line">        Person person2 = <span class="keyword">new</span> Person(<span class="number">2</span>, <span class="string">&quot;æå››&quot;</span>, <span class="number">24</span>, <span class="keyword">new</span> Date());</span><br><span class="line">        Person person3 = <span class="keyword">new</span> Person(<span class="number">3</span>, <span class="string">&quot;ç‹äº”&quot;</span>, <span class="number">25</span>, <span class="keyword">new</span> Date());</span><br><span class="line"></span><br><span class="line">        String json1 = mapper.writeValueAsString(person1);</span><br><span class="line">        String json2 = mapper.writeValueAsString(person2);</span><br><span class="line">        String json3 = mapper.writeValueAsString(person3);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€åˆ›å»ºRequestï¼Œå°†å¤šä¸ªæ•°æ®å°è£…è¿›å»</span></span><br><span class="line">        BulkRequest request = <span class="keyword">new</span> BulkRequest();</span><br><span class="line">        request.add(<span class="keyword">new</span> IndexRequest(index,type,person1.getId().toString()).source(json1,XContentType.JSON));</span><br><span class="line">        request.add(<span class="keyword">new</span> IndexRequest(index,type,person2.getId().toString()).source(json2,XContentType.JSON));</span><br><span class="line">        request.add(<span class="keyword">new</span> IndexRequest(index,type,person3.getId().toString()).source(json3,XContentType.JSON));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€ç”¨clientæ‰§è¡Œ</span></span><br><span class="line">        BulkResponse bulk = client.bulk(request, RequestOptions.DEFAULT);</span><br><span class="line">        <span class="comment">// 4ã€è¾“å‡º</span></span><br><span class="line">        System.out.println(bulk);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>æ‰¹é‡åˆ é™¤</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo3</span> </span>&#123;</span><br><span class="line">    ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">    RestHighLevelClient client = ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;person&quot;</span>;</span><br><span class="line">    String type  = <span class="string">&quot;man&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bulkDeleteDoc</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€å°è£…requestå¯¹è±¡</span></span><br><span class="line">        BulkRequest bulkRequest = <span class="keyword">new</span> BulkRequest();</span><br><span class="line">        bulkRequest.add(<span class="keyword">new</span> DeleteRequest(index,type,<span class="string">&quot;2&quot;</span>));</span><br><span class="line">        bulkRequest.add(<span class="keyword">new</span> DeleteRequest(index,type,<span class="string">&quot;3&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€é€šè¿‡Clientå¯¹è±¡æ‰§è¡Œ</span></span><br><span class="line">        BulkResponse bulk = client.bulk(bulkRequest, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€è¾“å‡º</span></span><br><span class="line">        System.out.println(bulk);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="äº”ã€ElasticSearchç»ƒä¹ "><a href="#äº”ã€ElasticSearchç»ƒä¹ " class="headerlink" title="äº”ã€ElasticSearchç»ƒä¹ "></a>äº”ã€ElasticSearchç»ƒä¹ </h1><ul><li>ç´¢å¼• ï¼š sms-logs-index</li><li>ç±»å‹ï¼šsms-logs-type</li></ul><table><thead><tr><th>å­—æ®µåç§°</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>createDate</td><td>åˆ›å»ºæ—¶é—´String</td></tr><tr><td>sendDate</td><td>å‘é€æ—¶é—´ date</td></tr><tr><td>longCode</td><td>å‘é€é•¿å·ç  å¦‚ 16092389287811 string</td></tr><tr><td>Mobile</td><td>å¦‚ 13000000000</td></tr><tr><td>corpName</td><td>å‘é€å…¬å¸åç§°ï¼Œéœ€è¦åˆ†è¯æ£€ç´¢</td></tr><tr><td>smsContent</td><td>ä¸‹å‘çŸ­ä¿¡å†…å®¹ï¼Œéœ€è¦åˆ†è¯æ£€ç´¢</td></tr><tr><td>State</td><td>çŸ­ä¿¡ä¸‹å‘çŠ¶æ€ 0 æˆåŠŸ 1 å¤±è´¥ integer</td></tr><tr><td>Operatorid</td><td>è¿è¥å•†ç¼–å·1ç§»åŠ¨2è”é€š3ç”µä¿¡ integer</td></tr><tr><td>Province</td><td>çœä»½</td></tr><tr><td>ipAddr</td><td>ä¸‹å‘æœåŠ¡å™¨IPåœ°å€</td></tr><tr><td>replyTotal</td><td>çŸ­ä¿¡çŠ¶æ€æŠ¥å‘Šè¿”å›æ—¶é•¿ integer</td></tr><tr><td>Fee</td><td>æ‰£è´¹ integer</td></tr></tbody></table><h3 id="5-1ã€POJOç±»"><a href="#5-1ã€POJOç±»" class="headerlink" title="5.1ã€POJOç±»"></a>5.1ã€POJOç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SmsLogs</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer Id;</span><br><span class="line">    <span class="meta">@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Date createDate;</span><br><span class="line">    <span class="meta">@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Date sendDate;</span><br><span class="line">    <span class="keyword">private</span> String longCode;</span><br><span class="line">    <span class="keyword">private</span> String Mobile;</span><br><span class="line">    <span class="keyword">private</span> String CorpName;</span><br><span class="line">    <span class="keyword">private</span> String SmsContent;</span><br><span class="line">    <span class="keyword">private</span> Integer State;</span><br><span class="line">    <span class="keyword">private</span> Integer OperatorId;</span><br><span class="line">    <span class="keyword">private</span> String Province;</span><br><span class="line">    <span class="keyword">private</span> String IpAddr;</span><br><span class="line">    <span class="keyword">private</span> Integer ReplyTotal;</span><br><span class="line">    <span class="keyword">private</span> String Fee;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String doc = <span class="string">&quot;å†°å†·ä¸é»‘æš—å¹¶å­˜çš„å®‡å®™æ·±å¤„ï¼Œä¹å…·åºå¤§çš„é¾™å°¸æ‹‰ç€ä¸€å£é’é“œå¤æ£ºï¼Œäº˜å¤é•¿å­˜ã€‚&quot;</span> +<span class="string">&quot;è¿™æ˜¯å¤ªç©ºæ¢æµ‹å™¨åœ¨æ¯å¯‚çš„å®‡å®™ä¸­æ•æ‰åˆ°çš„ä¸€å¹…æå…¶éœ‡æ’¼çš„ç”»é¢ã€‚ä¹é¾™æ‹‰æ£ºï¼Œç©¶ç«Ÿæ˜¯å›åˆ°äº†ä¸Šå¤ï¼Œè¿˜æ˜¯æ¥&quot;</span> +<span class="string">&quot;åˆ°äº†æ˜Ÿç©ºçš„å½¼å²¸ï¼Ÿä¸€ä¸ªæµ©å¤§çš„ä»™ä¾ ä¸–ç•Œï¼Œå…‰æ€ªé™†ç¦»ï¼Œç¥ç§˜æ— å°½ã€‚çƒ­è¡€ä¼¼ç«å±±æ²¸è…¾ï¼Œæ¿€æƒ…è‹¥ç€šæµ·æ±¹æ¶Œï¼Œæ¬²&quot;</span> +<span class="string">&quot;æœ›å¦‚æ·±æ¸Šæ— æ­¢å¢ƒâ€¦â€¦ç™»å¤©è·¯ï¼Œè¸æ­Œè¡Œï¼Œå¼¹æŒ‡é®å¤©ã€‚æ¿€æƒ…è‹¥ç€šæµ·æ±¹æ¶Œï¼Œæ¬²æœ›å¦‚æ·±æ¸Šæ— æ­¢å¢ƒâ€¦â€¦ç™»å¤©è·¯ï¼Œè¸æ­Œè¡Œï¼Œ&quot;</span> +<span class="string">&quot;å¼¹æŒ‡é®å¤©æ¿€æƒ…è‹¥ç€šæµ·æ±¹æ¶Œï¼Œæ¬²æœ›å¦‚æ·±æ¸Šæ— æ­¢å¢ƒâ€¦â€¦ç™»å¤©è·¯ï¼Œè¸æ­Œè¡Œï¼Œå¼¹æŒ‡é®å¤©æ¿€æƒ…è‹¥ç€šæµ·æ±¹æ¶Œï¼Œæ¬²æœ›å¦‚æ·±;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="5-2ã€åˆ›å»ºç´¢å¼•å’Œå¯¼å…¥æ•°æ®"><a href="#5-2ã€åˆ›å»ºç´¢å¼•å’Œå¯¼å…¥æ•°æ®" class="headerlink" title="5.2ã€åˆ›å»ºç´¢å¼•å’Œå¯¼å…¥æ•°æ®"></a>5.2ã€åˆ›å»ºç´¢å¼•å’Œå¯¼å…¥æ•°æ®</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo4</span> </span>&#123;</span><br><span class="line">    ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">createIndex</span><span class="params">()</span> <span class="keyword">throws</span>  Exception</span>&#123;</span><br><span class="line">        <span class="comment">// 1.å‡†å¤‡å…³äºç´¢å¼•çš„setting</span></span><br><span class="line">        Settings.Builder settings = Settings.builder()</span><br><span class="line">                .put(<span class="string">&quot;number_of_shards&quot;</span>, <span class="number">3</span>)</span><br><span class="line">                .put(<span class="string">&quot;number_of_replicas&quot;</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.å‡†å¤‡å…³äºç´¢å¼•çš„mapping</span></span><br><span class="line">        XContentBuilder mappings = JsonXContent.contentBuilder()</span><br><span class="line">                .startObject()</span><br><span class="line">                .startObject(<span class="string">&quot;properties&quot;</span>)</span><br><span class="line">                .startObject(<span class="string">&quot;corpName&quot;</span>)</span><br><span class="line">                .field(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;keyword&quot;</span>)</span><br><span class="line">                .endObject()</span><br><span class="line">                .startObject(<span class="string">&quot;createDate&quot;</span>)</span><br><span class="line">                .field(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;date&quot;</span>)</span><br><span class="line">                .field(<span class="string">&quot;format&quot;</span>, <span class="string">&quot;yyyy-MM-dd&quot;</span>)</span><br><span class="line">                .endObject()</span><br><span class="line">                .startObject(<span class="string">&quot;fee&quot;</span>)</span><br><span class="line">                .field(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;long&quot;</span>)</span><br><span class="line">                .endObject()</span><br><span class="line">                .startObject(<span class="string">&quot;ipAddr&quot;</span>)</span><br><span class="line">                .field(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;ip&quot;</span>)</span><br><span class="line">                .endObject()</span><br><span class="line">                .startObject(<span class="string">&quot;longCode&quot;</span>)</span><br><span class="line">                .field(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;keyword&quot;</span>)</span><br><span class="line">                .endObject()</span><br><span class="line">                .startObject(<span class="string">&quot;mobile&quot;</span>)</span><br><span class="line">                .field(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;keyword&quot;</span>)</span><br><span class="line">                .endObject()</span><br><span class="line">                .startObject(<span class="string">&quot;operatorId&quot;</span>)</span><br><span class="line">                .field(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;integer&quot;</span>)</span><br><span class="line">                .endObject()</span><br><span class="line">                .startObject(<span class="string">&quot;province&quot;</span>)</span><br><span class="line">                .field(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;keyword&quot;</span>)</span><br><span class="line">                .endObject()</span><br><span class="line">                .startObject(<span class="string">&quot;replyTotal&quot;</span>)</span><br><span class="line">                .field(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;integer&quot;</span>)</span><br><span class="line">                .endObject()</span><br><span class="line">                .startObject(<span class="string">&quot;sendDate&quot;</span>)</span><br><span class="line">                .field(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;date&quot;</span>)</span><br><span class="line">                .field(<span class="string">&quot;format&quot;</span>, <span class="string">&quot;yyyy-MM-dd&quot;</span>)</span><br><span class="line">                .endObject()</span><br><span class="line">                .startObject(<span class="string">&quot;smsContent&quot;</span>)</span><br><span class="line">                .field(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;text&quot;</span>)</span><br><span class="line">                .field(<span class="string">&quot;analyzer&quot;</span>, <span class="string">&quot;ik_max_word&quot;</span>)</span><br><span class="line">                .endObject()</span><br><span class="line">                .startObject(<span class="string">&quot;state&quot;</span>)</span><br><span class="line">                .field(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;integer&quot;</span>)</span><br><span class="line">                .endObject()</span><br><span class="line">                .endObject()</span><br><span class="line">                .endObject();</span><br><span class="line">        <span class="comment">// 3.å°†settingså’Œmappings å°è£…åˆ°åˆ°ä¸€ä¸ªRequestå¯¹è±¡ä¸­</span></span><br><span class="line">        CreateIndexRequest request = <span class="keyword">new</span> CreateIndexRequest(index)</span><br><span class="line">                .settings(settings)</span><br><span class="line">                .mapping(type,mappings);</span><br><span class="line">        <span class="comment">// 4.ä½¿ç”¨client å»è¿æ¥ES</span></span><br><span class="line">        CreateIndexResponse response = client.indices().create(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;response:&quot;</span>+response.toString());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span>  <span class="title">bulkCreateDoc</span><span class="params">()</span> <span class="keyword">throws</span>  Exception</span>&#123;</span><br><span class="line">        <span class="comment">// 1.å‡†å¤‡å¤šä¸ªjson å¯¹è±¡</span></span><br><span class="line">        String longcode = <span class="string">&quot;1008687&quot;</span>;</span><br><span class="line">        String mobile =<span class="string">&quot;138340658&quot;</span>;</span><br><span class="line">        List&lt;String&gt; companies = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        companies.add(<span class="string">&quot;è…¾è®¯è¯¾å ‚&quot;</span>);</span><br><span class="line">        companies.add(<span class="string">&quot;é˜¿é‡Œæ—ºæ—º&quot;</span>);</span><br><span class="line">        companies.add(<span class="string">&quot;æµ·å°”ç”µå™¨&quot;</span>);</span><br><span class="line">        companies.add(<span class="string">&quot;æµ·å°”æ™ºå®¶å…¬å¸&quot;</span>);</span><br><span class="line">        companies.add(<span class="string">&quot;æ ¼åŠ›æ±½è½¦&quot;</span>);</span><br><span class="line">        companies.add(<span class="string">&quot;è‹å®æ˜“è´­&quot;</span>);</span><br><span class="line">        List&lt;String&gt; provinces = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        provinces.add(<span class="string">&quot;åŒ—äº¬&quot;</span>);</span><br><span class="line">        provinces.add(<span class="string">&quot;é‡åº†&quot;</span>);</span><br><span class="line">        provinces.add(<span class="string">&quot;ä¸Šæµ·&quot;</span>);</span><br><span class="line">        provinces.add(<span class="string">&quot;æ™‹åŸ&quot;</span>);</span><br><span class="line"></span><br><span class="line">        BulkRequest bulkRequest = <span class="keyword">new</span> BulkRequest();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;<span class="number">16</span> ; i++) &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            SmsLogs s1 = <span class="keyword">new</span> SmsLogs();</span><br><span class="line">            s1.setId(i);</span><br><span class="line">            s1.setCreateDate(<span class="keyword">new</span> Date());</span><br><span class="line">            s1.setSendDate(<span class="keyword">new</span> Date());</span><br><span class="line">            s1.setLongCode(longcode+i);</span><br><span class="line">            s1.setMobile(mobile+<span class="number">2</span>*i);</span><br><span class="line">            s1.setCorpName(companies.get(i%<span class="number">5</span>));</span><br><span class="line">            s1.setSmsContent(SmsLogs.doc.substring((i-<span class="number">1</span>)*<span class="number">20</span>,i*<span class="number">20</span>));</span><br><span class="line">            s1.setState(i%<span class="number">2</span>);</span><br><span class="line">            s1.setOperatorId(i%<span class="number">3</span>);</span><br><span class="line">            s1.setProvince(provinces.get(i%<span class="number">4</span>));</span><br><span class="line">            s1.setIpAddr(<span class="string">&quot;127.0.0.&quot;</span>+i);</span><br><span class="line">            s1.setReplyTotal(i*<span class="number">3</span>);</span><br><span class="line">            s1.setFee(i*<span class="number">6</span>+<span class="string">&quot;&quot;</span>);</span><br><span class="line">            String json1  = mapper.writeValueAsString(s1);</span><br><span class="line">            bulkRequest.add(<span class="keyword">new</span> IndexRequest(index,type,s1.getId().toString()).source(json1, XContentType.JSON));</span><br><span class="line">            System.out.println(<span class="string">&quot;æ•°æ®&quot;</span>+i+s1.toString());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.client æ‰§è¡Œ</span></span><br><span class="line">        BulkResponse responses = client.bulk(bulkRequest, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.è¾“å‡ºç»“æœ</span></span><br><span class="line">        System.out.println(responses.getItems().toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="å…­ã€ElasticSearchçš„å„ç§æŸ¥è¯¢"><a href="#å…­ã€ElasticSearchçš„å„ç§æŸ¥è¯¢" class="headerlink" title="å…­ã€ElasticSearchçš„å„ç§æŸ¥è¯¢"></a>å…­ã€ElasticSearchçš„å„ç§æŸ¥è¯¢</h1><h3 id="6-1ã€term-amp-termsæŸ¥è¯¢"><a href="#6-1ã€term-amp-termsæŸ¥è¯¢" class="headerlink" title="6.1ã€term&amp;termsæŸ¥è¯¢"></a>6.1ã€term&amp;termsæŸ¥è¯¢</h3><h5 id="6-1-1ã€termæŸ¥è¯¢"><a href="#6-1-1ã€termæŸ¥è¯¢" class="headerlink" title="6.1.1ã€termæŸ¥è¯¢"></a>6.1.1ã€termæŸ¥è¯¢</h5><blockquote><p>termçš„æŸ¥è¯¢ä»£è¡¨æ˜¯å®Œå…¨åŒ¹é…ï¼Œæœç´¢ä¹‹å‰ä¸ä¼šå¯¹ä½ æœç´¢çš„å…³é”®è¯è¿›è¡Œåˆ†è¯ï¼Œç›´æ¥å»æ–‡æ¡£åˆ†è¯åº“ä¸­åŒ¹é…å†…å®¹ã€‚</p></blockquote><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  &quot;from&quot;: 0,# limit çš„ç¬¬ä¸€ä¸ª ï¼Ÿ  </span><br><span class="line">  &quot;size&quot;: 5,# limit çš„ç¬¬äºŒä¸ª ï¼Ÿ   è¿™ä¸¤ä¸ªç”¨æ¥åˆ†é¡µ</span><br><span class="line">  &quot;query&quot;: &#123;</span><br><span class="line">    &quot;term&quot;: &#123;</span><br><span class="line">      &quot;province&quot;: &#123;</span><br><span class="line">        &quot;value&quot;: &quot;ä¸Šæµ·&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Javaä»£ç å®ç°æ–¹å¼</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo5</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">termQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºrequestå¯¹è±¡ï¼ŒåŸºæœ¬æ‰€æœ‰çš„æŸ¥è¯¢éƒ½ä½¿ç”¨SearchRequest</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šæŸ¥è¯¢æ¡ä»¶,å¹¶å°†æŸ¥è¯¢æ¡ä»¶å°è£…åˆ°Requestå¯¹è±¡ä¸­</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        builder.from(<span class="number">0</span>);</span><br><span class="line">        builder.size(<span class="number">5</span>);</span><br><span class="line">        builder.query(QueryBuilders.termQuery(<span class="string">&quot;province&quot;</span>,<span class="string">&quot;ä¸Šæµ·&quot;</span>));</span><br><span class="line"></span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€é€šè¿‡Clinetæ‰§è¡Œ</span></span><br><span class="line">        SearchResponse search = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€è¿”å›ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (SearchHit hit : search.getHits().getHits()) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; result = hit.getSourceAsMap();</span><br><span class="line">            System.out.println(result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-1-2ã€termsæŸ¥è¯¢"><a href="#6-1-2ã€termsæŸ¥è¯¢" class="headerlink" title="6.1.2ã€termsæŸ¥è¯¢"></a>6.1.2ã€termsæŸ¥è¯¢</h5><blockquote><p>termså’Œtermçš„æŸ¥è¯¢æœºåˆ¶æ˜¯ä¸€æ ·çš„ï¼Œéƒ½ä¸ä¼šå°†æŒ‡å®šçš„å…³é”®å­—è¿›è¡Œåˆ†è¯ï¼Œç›´æ¥å»åˆ†è¯åº“ä¸­åŒ¹é…å†…å®¹ï¼Œæ‰¾åˆ°ç›¸åº”çš„ç»“æœå¹¶è¿”å›ã€‚</p><p>termsæ˜¯é’ˆå¯¹ä¸€ä¸ªå­—æ®µå¯èƒ½æ˜¯å¤šä¸ªå€¼çš„æ—¶å€™ä½¿ç”¨ã€‚</p><p>termç±»ä¼¼MySqlä¸­çš„ï¼šwhere   province = â€œä¸Šæµ·â€ï¼›</p><p>termsç±»ä¼¼MySqlä¸­çš„ï¼šwhere   province = â€œä¸Šæµ·â€ or  where   province = â€œåŒ—äº¬â€   or    where   province = â€œå¹¿å·â€ï¼›</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># termsæŸ¥è¯¢</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;from&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="attr">&quot;size&quot;</span>: <span class="number">5</span>,</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;terms&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;province&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;ä¸Šæµ·&quot;</span>,</span><br><span class="line">        <span class="string">&quot;åŒ—äº¬&quot;</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Javaä»£ç å®ç°æ–¹å¼</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo5</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// termsæŸ¥è¯¢</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">termsQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºRequestå¯¹è±¡</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šæŸ¥è¯¢æ¡ä»¶ï¼Œå¹¶å°è£…åˆ°Requestå¯¹è±¡ä¸­</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        builder.from(<span class="number">0</span>);</span><br><span class="line">        builder.size(<span class="number">5</span>);</span><br><span class="line">        <span class="comment">// æŒ‡å®šå¤šä¸ªæŸ¥è¯¢æ¡ä»¶</span></span><br><span class="line">        builder.query(QueryBuilders.termsQuery(<span class="string">&quot;province&quot;</span>,<span class="string">&quot;ä¸Šæµ·&quot;</span>,<span class="string">&quot;åŒ—äº¬&quot;</span>));</span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€é€šè¿‡Clientæ‰§è¡Œ</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€è·å¾—ç»“æœéå†</span></span><br><span class="line">        <span class="keyword">for</span> (SearchHit hit : resp.getHits().getHits()) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; result = hit.getSourceAsMap();</span><br><span class="line">            System.out.println(result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-2ã€matchæŸ¥è¯¢"><a href="#6-2ã€matchæŸ¥è¯¢" class="headerlink" title="6.2ã€matchæŸ¥è¯¢"></a>6.2ã€matchæŸ¥è¯¢</h3><blockquote><p>matchæŸ¥è¯¢å±äºé«˜çº§æŸ¥è¯¢ï¼Œä»–ä¼šæ ¹æ®ä½ æŸ¥è¯¢çš„å­—æ®µç±»å‹ä¸ä¸€æ ·ï¼Œé‡‡ç”¨ä¸åŒçš„æŸ¥è¯¢æ–¹å¼ã€‚</p><ul><li>æŸ¥è¯¢æ˜¯æ—¥æœŸæˆ–è€…æ˜¯æ•°å€¼çš„è¯ï¼Œå®ƒä¼šå°†åŸºäºä½ çš„å­—ç¬¦ä¸²æŸ¥è¯¢å†…å®¹è½¬æ¢ä¸ºæ—¥æœŸæˆ–è€…æ•°å€¼å¯¹å¾…ã€‚</li><li>å¦‚æœæŸ¥è¯¢çš„æ˜¯ä¸€ä¸ªä¸è¢«åˆ†è¯çš„å†…å®¹(keyword)ï¼ŒmatchæŸ¥è¯¢ä¸ä¼šå¯¹ä½ æŸ¥è¯¢çš„å…³é”®å­—è¿›è¡Œåˆ†è¯ã€‚</li><li>å¦‚æœæŸ¥è¯¢çš„å†…å®¹æ˜¯ä¸€ä¸ªå¯ä»¥è¢«åˆ†è¯çš„å†…å®¹(text)ï¼Œï¼ŒmatchæŸ¥è¯¢ä¼šå°†ä½ æŒ‡å®šçš„æŸ¥è¯¢å†…å®¹æ ¹æ®ä¸€å®šçš„æ–¹å¼å»åˆ†è¯ï¼Œå»åˆ†è¯åº“ä¸­åŒ¹é…æŒ‡å®šçš„å†…å®¹ã€‚</li></ul><p>matchæŸ¥è¯¢ï¼Œå®é™…åº•å±‚å°±æ˜¯å¤šä¸ªtermæŸ¥è¯¢ï¼Œå°†å¤šä¸ªtermæŸ¥è¯¢çš„ç»“æœå°è£…åˆ°äº†ä¸€èµ·ã€‚</p></blockquote><h5 id="6-2-1ã€match-allæŸ¥è¯¢"><a href="#6-2-1ã€match-allæŸ¥è¯¢" class="headerlink" title="6.2.1ã€match_allæŸ¥è¯¢"></a>6.2.1ã€match_allæŸ¥è¯¢</h5><blockquote><p>æŸ¥è¯¢å…¨éƒ¨å†…å®¹ï¼Œä¸æŒ‡å®šæŸ¥è¯¢æ¡ä»¶</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># match_allæŸ¥è¯¢</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;match_all&quot;</span>: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// match_all æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo6</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// match_all æŸ¥è¯¢</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">matchALLQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºRequestå¯¹è±¡</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šæŸ¥è¯¢æ¡ä»¶ï¼Œå¹¶å°è£…åˆ°Requestå¯¹è±¡ä¸­</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        builder.from(<span class="number">0</span>);</span><br><span class="line">        builder.size(<span class="number">10</span>);       <span class="comment">// ESé»˜è®¤å€¼æ˜¾ç¤º10æ¡æ•°æ®ï¼Œå¦‚éœ€å±•ç¤ºæ›´å¤šï¼Œéœ€è¦æ‰‹åŠ¨æŒ‡å®šSizeçš„å¤§å°</span></span><br><span class="line">        builder.query(QueryBuilders.matchAllQuery());</span><br><span class="line">        </span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€é€šè¿‡Clientå¯¹è±¡æ‰§è¡Œ</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€è¾“å‡ºè¿”å›çš„ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (SearchHit hit : resp.getHits().getHits()) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; result = hit.getSourceAsMap();</span><br><span class="line">            System.out.println(result);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸€å…±æŸ¥è¯¢åˆ°&quot;</span>+resp.getHits().getHits().length+<span class="string">&quot;æ¡æ•°æ®ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-2-2ã€matchæŸ¥è¯¢"><a href="#6-2-2ã€matchæŸ¥è¯¢" class="headerlink" title="6.2.2ã€matchæŸ¥è¯¢"></a>6.2.2ã€matchæŸ¥è¯¢</h5><blockquote><p>æŒ‡å®šä¸€ä¸ªFiledåšä¸ºæŸ¥è¯¢æ¡ä»¶</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># matchæŸ¥è¯¢</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;match&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;smsContent&quot;</span>: <span class="string">&quot;è¸æ­Œè¡Œ&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// matchæŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo6</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// match æŸ¥è¯¢</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">matchQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºRequestå¯¹è±¡</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šæŸ¥è¯¢æ¡ä»¶ï¼Œå¹¶å°è£…åˆ°Requestå¯¹è±¡ä¸­</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">           </span><br><span class="line">        <span class="comment">//------------------------------------------------------</span></span><br><span class="line">        builder.query(QueryBuilders.matchQuery(<span class="string">&quot;smsContent&quot;</span>,<span class="string">&quot;é’é“œå¤æ£º&quot;</span>));</span><br><span class="line">        <span class="comment">//------------------------------------------------</span></span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€é€šè¿‡Clientå¯¹è±¡æ‰§è¡Œ</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€è¾“å‡ºè¿”å›çš„ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (SearchHit hit : resp.getHits().getHits()) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; result = hit.getSourceAsMap();</span><br><span class="line">            System.out.println(result);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸€å…±æŸ¥è¯¢åˆ°&quot;</span>+resp.getHits().getHits().length+<span class="string">&quot;æ¡æ•°æ®ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-2-3ã€å¸ƒå°”matchæŸ¥è¯¢"><a href="#6-2-3ã€å¸ƒå°”matchæŸ¥è¯¢" class="headerlink" title="6.2.3ã€å¸ƒå°”matchæŸ¥è¯¢"></a>6.2.3ã€å¸ƒå°”matchæŸ¥è¯¢</h5><blockquote><p>åŸºäºä¸€ä¸ªFiledåŒ¹é…çš„å†…å®¹ï¼Œé‡‡ç”¨andæˆ–è€…orçš„æ–¹å¼è¿›è¡Œè¿æ¥æŸ¥è¯¢</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># å¸ƒå°”matchæŸ¥è¯¢,åŸºäº and</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;match&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;smsContent&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;query&quot;</span>: <span class="string">&quot;é’é“œå¤æ£º å¤ªç©ºæ¢æµ‹&quot;</span></span><br><span class="line">        , <span class="attr">&quot;operator&quot;</span>: <span class="string">&quot;and&quot;</span># åŸºäº and è¿æ¥ï¼ŒæŸ¥è¯¢çš„å†…å®¹æ—¢åŒ…æ‹¬é’é“œå¤æ£ºï¼ŒåˆåŒ…æ‹¬å¤ªç©ºæ¢æµ‹ã€‚</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># å¸ƒå°”matchæŸ¥è¯¢ï¼ŒåŸºäº or</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;match&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;smsContent&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;query&quot;</span>: <span class="string">&quot;é’é“œå¤æ£º å¤ªç©ºæ¢æµ‹&quot;</span># åŸºäº and è¿æ¥ï¼ŒæŸ¥è¯¢çš„å†…å®¹æ˜¯é’é“œå¤æ£ºï¼Œä¹Ÿå¯ä»¥æ˜¯å¤ªç©ºæ¢æµ‹ã€‚</span><br><span class="line">        , <span class="attr">&quot;operator&quot;</span>: <span class="string">&quot;or&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Javaä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo6</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// booleanMatch æŸ¥è¯¢</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">booleanMatchQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºRequestå¯¹è±¡</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šæŸ¥è¯¢æ¡ä»¶ï¼Œå¹¶å°è£…åˆ°Requestå¯¹è±¡ä¸­</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        <span class="comment">// ESé»˜è®¤å€¼æ˜¾ç¤º10æ¡æ•°æ®ï¼Œå¦‚éœ€å±•ç¤ºæ›´å¤šï¼Œéœ€è¦æ‰‹åŠ¨æŒ‡å®šSizeçš„å¤§å°</span></span><br><span class="line">        <span class="comment">//------------------------------------------------------</span></span><br><span class="line">        builder.query(QueryBuilders.matchQuery(<span class="string">&quot;smsContent&quot;</span>,<span class="string">&quot;é’é“œå¤æ£º å¤ªç©ºæ¢</span></span><br><span class="line"><span class="string">                                               // é€‰æ‹© AND æˆ–è€… OR</span></span><br><span class="line"><span class="string">                                               æµ‹&quot;</span>).operator(Operator.AND));  </span><br><span class="line">        <span class="comment">//------------------------------------------------</span></span><br><span class="line">          request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€é€šè¿‡Clientå¯¹è±¡æ‰§è¡Œ</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€è¾“å‡ºè¿”å›çš„ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (SearchHit hit : resp.getHits().getHits()) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; result = hit.getSourceAsMap();</span><br><span class="line">            System.out.println(result);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-2-4ã€multi-matchæŸ¥è¯¢"><a href="#6-2-4ã€multi-matchæŸ¥è¯¢" class="headerlink" title="6.2.4ã€multi_matchæŸ¥è¯¢"></a>6.2.4ã€multi_matchæŸ¥è¯¢</h5><blockquote><p>matchæ˜¯åœ¨ä¸€ä¸ªFiledä¸­ç­›é€‰å…³é”®å­—ï¼Œmulti_matchæ˜¯ä¸€ä¸ªå…³é”®å­—åœ¨å¤šä¸ªFiledä¸­æŸ¥è¯¢</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># multi_matchæŸ¥è¯¢</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;multi_match&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;query&quot;</span>: <span class="string">&quot;ä¸Šæµ·&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;fields&quot;</span>: [<span class="string">&quot;province&quot;</span>,<span class="string">&quot;smsContent&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Javaä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo6</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">multiMatchQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºRequestå¯¹è±¡</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šæ¡ä»¶ï¼Œæ·»åŠ è¿›request</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        builder.query(QueryBuilders.multiMatchQuery(<span class="string">&quot;ä¸Šæµ·&quot;</span>,<span class="string">&quot;province&quot;</span>,<span class="string">&quot;smsContent&quot;</span>));</span><br><span class="line"></span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æ‰§è¡Œ</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€è¾“å‡º</span></span><br><span class="line">        <span class="keyword">for</span> (SearchHit hit : resp.getHits().getHits()) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; result = hit.getSourceAsMap();</span><br><span class="line">            System.out.println(result);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸€å…±æŸ¥è¯¢åˆ°&quot;</span>+resp.getHits().getHits().length+<span class="string">&quot;æ¡æ•°æ®ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-3ã€å…¶å®ƒæŸ¥è¯¢"><a href="#6-3ã€å…¶å®ƒæŸ¥è¯¢" class="headerlink" title="6.3ã€å…¶å®ƒæŸ¥è¯¢"></a>6.3ã€å…¶å®ƒæŸ¥è¯¢</h3><h5 id="6-3-1ã€idæŸ¥è¯¢"><a href="#6-3-1ã€idæŸ¥è¯¢" class="headerlink" title="6.3.1ã€idæŸ¥è¯¢"></a>6.3.1ã€idæŸ¥è¯¢</h5><blockquote><p>æ ¹æ®idæŸ¥è¯¢ï¼Œç±»ä¼¼MySqlä¸­ where id = ï¼Ÿ</p></blockquote><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># æ ¹æ®idæŸ¥è¯¢</span><br><span class="line">GET /sms-logs-index/sms-logs-type/1</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Javaä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo8</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line"></span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fingById</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºGetRequest</span></span><br><span class="line">        GetRequest request = <span class="keyword">new</span> GetRequest(index,type,<span class="string">&quot;1&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æ‰§è¡ŒæŸ¥è¯¢</span></span><br><span class="line">        GetResponse resp = client.get(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€éå†æŸ¥è¯¢åçš„ç»“æœ</span></span><br><span class="line">        Map&lt;String, Object&gt; map = resp.getSourceAsMap();</span><br><span class="line">        System.out.println(map);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h5 id="6-3-2ã€idsæŸ¥è¯¢"><a href="#6-3-2ã€idsæŸ¥è¯¢" class="headerlink" title="6.3.2ã€idsæŸ¥è¯¢"></a>6.3.2ã€idsæŸ¥è¯¢</h5><blockquote><p>æ ¹æ®å¤šä¸ªidæŸ¥è¯¢ï¼Œç±»ä¼¼MySqlä¸­ where id in (1,2,3â€¦.)</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># æ ¹æ®idsæŸ¥è¯¢</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;ids&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;values&quot;</span>: [<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Javaä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo8</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line"></span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">findByIds</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºSearchRequestå¯¹è±¡</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šæŸ¥è¯¢æ¡ä»¶ï¼Œå¹¶æ·»åŠ åˆ°requestä¸­</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        builder.query(QueryBuilders.idsQuery().addIds(<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span>));</span><br><span class="line"></span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€é€šè¿‡ClientæŸ¥è¯¢</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€éå†è¿”å›çš„ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (SearchHit hit : resp.getHits().getHits()) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; result = hit.getSourceAsMap();</span><br><span class="line">            System.out.println(result);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-3-3ã€prefixæŸ¥è¯¢"><a href="#6-3-3ã€prefixæŸ¥è¯¢" class="headerlink" title="6.3.3ã€prefixæŸ¥è¯¢"></a>6.3.3ã€prefixæŸ¥è¯¢</h5><blockquote><p>å‰ç¼€æŸ¥è¯¢ï¼ŒæŒ‡å®šä¸€æ®µå…³é”®å­—åšä¸ºå‰ç¼€ï¼Œä»è€ŒæŸ¥è¯¢ä»¥å…³é”®å­—å¼€å¤´çš„æ–‡æ¡£</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># prefixæŸ¥è¯¢</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;prefix&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;corpName&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;value&quot;</span>: <span class="string">&quot;æµ·å°”&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Javaä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo8</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line"></span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// prefix å‰ç¼€æŸ¥è¯¢</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">prefixQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºSearchRequestå¯¹è±¡</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šæŸ¥è¯¢æ¡ä»¶ï¼Œå¹¶æ·»åŠ åˆ°requestä¸­</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        builder.query(QueryBuilders.prefixQuery(<span class="string">&quot;corpName&quot;</span>,<span class="string">&quot;æµ·å°”&quot;</span>));</span><br><span class="line"></span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€é€šè¿‡ClientæŸ¥è¯¢</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€éå†è¿”å›çš„ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (SearchHit hit : resp.getHits().getHits()) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; result = hit.getSourceAsMap();</span><br><span class="line">            System.out.println(result);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-3-4ã€fuzzyæŸ¥è¯¢"><a href="#6-3-4ã€fuzzyæŸ¥è¯¢" class="headerlink" title="6.3.4ã€fuzzyæŸ¥è¯¢"></a>6.3.4ã€fuzzyæŸ¥è¯¢</h5><blockquote><p>æ¨¡ç³ŠæŸ¥è¯¢ï¼Œæˆ‘ä»¬è¾“å…¥å­—ç¬¦çš„å¤§æ¦‚ï¼ŒESä¼šæ ¹æ®è¾“å…¥çš„å†…å®¹å¤§æ¦‚åŒ¹é…ä¸€ä¸‹ç»“æœ</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># fuzzyæŸ¥è¯¢</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;fuzzy&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;corpName&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;value&quot;</span>: <span class="string">&quot;æµ·å°”ç”µé›†&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;prefix_length&quot;</span>: <span class="number">3</span># ç”¨æ¥æŒ‡å®šå‰é¢å‡ ä¸ªå­—ç¬¦æ˜¯ä¸èƒ½å‡ºç°é”™è¯¯çš„</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Javaä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo8</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line"></span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// fuzzy æ¨¡ç³ŠæŸ¥è¯¢</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fuzzyQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºSearchRequestå¯¹è±¡</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šæŸ¥è¯¢æ¡ä»¶ï¼Œå¹¶æ·»åŠ åˆ°requestä¸­</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        builder.query(QueryBuilders.fuzzyQuery(<span class="string">&quot;corpName&quot;</span>,<span class="string">&quot;æµ·å°”ç”µé›†&quot;</span>).prefixLength(<span class="number">3</span>));</span><br><span class="line"></span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€é€šè¿‡ClientæŸ¥è¯¢</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€éå†è¿”å›çš„ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (SearchHit hit : resp.getHits().getHits()) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; result = hit.getSourceAsMap();</span><br><span class="line">            System.out.println(result);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-3-5ã€wildcardæŸ¥è¯¢"><a href="#6-3-5ã€wildcardæŸ¥è¯¢" class="headerlink" title="6.3.5ã€wildcardæŸ¥è¯¢"></a>6.3.5ã€wildcardæŸ¥è¯¢</h5><blockquote><p>é€šé…æŸ¥è¯¢ï¼Œå’ŒMySqlä¸­çš„likeæ˜¯ä¸€ä¸ªä¸œè¥¿ã€‚å¯ä»¥åœ¨æŸ¥è¯¢æ—¶ï¼Œåœ¨å­—ç¬¦ä¸²ä¸­é€šé…ç¬¦ * å’Œ å ä½ç¬¦ ï¼Ÿ</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># wildcard æŸ¥è¯¢</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;wildcard&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;corpName&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;value&quot;</span>: <span class="string">&quot;æ ¼åŠ›*&quot;</span># å¯ä»¥ä½¿ç”¨ * å’Œ ï¼Ÿ æŒ‡å®šé€šé…ç¬¦å’Œå ä½ç¬¦</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo8</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line"></span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// wildcard é€šé…æŸ¥è¯¢</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span>  <span class="title">wildCardQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºSearchRequestå¯¹è±¡</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šæŸ¥è¯¢æ¡ä»¶ï¼Œå¹¶æ·»åŠ åˆ°requestä¸­</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        builder.query(QueryBuilders.wildcardQuery(<span class="string">&quot;corpName&quot;</span>,<span class="string">&quot;æ ¼åŠ›*&quot;</span>));</span><br><span class="line"></span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€é€šè¿‡ClientæŸ¥è¯¢</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€éå†è¿”å›çš„ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (SearchHit hit : resp.getHits().getHits()) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; result = hit.getSourceAsMap();</span><br><span class="line">            System.out.println(result);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-3-6ã€rangeæŸ¥è¯¢"><a href="#6-3-6ã€rangeæŸ¥è¯¢" class="headerlink" title="6.3.6ã€rangeæŸ¥è¯¢"></a>6.3.6ã€rangeæŸ¥è¯¢</h5><blockquote><p>èŒƒå›´æŸ¥è¯¢ï¼Œåªé’ˆå¯¹æ•°å€¼ç±»å‹ï¼Œå¯¹ä¸€ä¸ªFiledè¿›è¡Œå¤§äºæˆ–è€…å°äºèŒƒå›´</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># range æŸ¥è¯¢</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;range&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;fee&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;gte&quot;</span>: <span class="number">10</span>,</span><br><span class="line">        <span class="attr">&quot;lte&quot;</span>: <span class="number">20</span></span><br><span class="line">          # å¯ä»¥ä½¿ç”¨ gtï¼š&gt;gte:&gt;=lt:&lt;lte:&lt;=</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo8</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line"></span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// range èŒƒå›´æŸ¥è¯¢</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rangeQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºRequestå¯¹è±¡</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šæŸ¥è¯¢æ¡ä»¶ï¼Œå¹¶å°†å…¶æ·»åŠ è‡³Request</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        builder.query(QueryBuilders.rangeQuery(<span class="string">&quot;fee&quot;</span>).gt(<span class="number">10</span>).lt(<span class="number">20</span>));</span><br><span class="line"></span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æ‰§è¡ŒæŸ¥è¯¢</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€éå†è¿”å›çš„ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (SearchHit hit : resp.getHits().getHits()) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; result = hit.getSourceAsMap();</span><br><span class="line">            System.out.println(result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-3-7ã€regexpæŸ¥è¯¢"><a href="#6-3-7ã€regexpæŸ¥è¯¢" class="headerlink" title="6.3.7ã€regexpæŸ¥è¯¢"></a>6.3.7ã€regexpæŸ¥è¯¢</h5><blockquote><p>æ­£åˆ™æŸ¥è¯¢ ï¼Œé€šè¿‡ä½ ç¼–å†™çš„æ­£åˆ™è¡¨è¾¾å¼å»åŒ¹é…å†…å®¹</p><p>PSï¼š<a href="">prefixã€fuzzyã€wildcard å’Œ regexp çš„æŸ¥è¯¢æ•ˆç‡ç›¸å¯¹æ¯”è¾ƒä½ï¼Œåœ¨è¦æ±‚é«˜æ•ˆç‡çš„æ—¶å€™ï¼Œå°½é‡é¿å…ä½¿ç”¨ã€‚</a></p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># regexp æŸ¥è¯¢</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;regexp&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;mobile&quot;</span>: <span class="string">&quot;138[0-9]&#123;7&#125;&quot;</span># ç¼–å†™æ­£åˆ™è¡¨è¾¾å¼</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JAVA ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo8</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line"></span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// regexp æŸ¥è¯¢</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">regexpQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºRequestå¯¹è±¡</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šæŸ¥è¯¢æ¡ä»¶ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°requestå¯¹è±¡ä¸­</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        builder.query(QueryBuilders.regexpQuery(<span class="string">&quot;mobile&quot;</span>,<span class="string">&quot;138[0-9]&#123;7&#125;&quot;</span>));</span><br><span class="line"></span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æ‰§è¡Œ</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€éå†è¿”å›çš„ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (SearchHit hit : resp.getHits().getHits()) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; result = hit.getSourceAsMap();</span><br><span class="line">            System.out.println(result);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-4ã€æ·±åˆ†é¡µScroll"><a href="#6-4ã€æ·±åˆ†é¡µScroll" class="headerlink" title="6.4ã€æ·±åˆ†é¡µScroll"></a>6.4ã€æ·±åˆ†é¡µScroll</h3><blockquote><p>ESå¯¹ from+Sizeæ˜¯æœ‰é™åˆ¶çš„ï¼Œfromå’Œsizeä¹‹å’Œä¸èƒ½è¶…è¿‡1wï¼Œè¶…è¿‡åæ•ˆç‡éå¸¸ä½ã€‚</p><p>åŸç†ï¼š</p><p>from+sizeåœ¨ESæŸ¥è¯¢æ•°æ®çš„æ–¹å¼ï¼š</p><ul><li>ç¬¬ä¸€æ­¥ã€å°†ç”¨æˆ·è¾“å…¥çš„å…³é”®å­—è¿›è¡Œåˆ†è¯ã€‚</li><li>ç¬¬äºŒæ­¥ã€å»åˆ†è¯åº“ä¸­è¿›è¡Œæ£€ç´¢ï¼Œå¾—åˆ°æ–‡æ¡£idã€‚</li><li>ç¬¬ä¸‰æ­¥ã€å»å„ä¸ªåˆ†ç‰‡ä¸­æ‹‰å–æŒ‡å®šçš„æ•°æ®(è€—æ—¶è¾ƒé•¿)ã€‚</li><li>ç¬¬å››æ­¥ã€æ•°æ®æ ¹æ®åˆ†æ•°(score)è¿›è¡Œæ’åº(è€—æ—¶è¾ƒé•¿)ã€‚</li><li>ç¬¬äº”æ­¥ã€æ ¹æ®fromçš„èµ·å§‹å€¼ï¼Œèˆå¼ƒèµ·å§‹å€¼ä¹‹å‰çš„æ•°æ®ã€‚</li><li>ç¬¬å…­æ­¥ã€è¿”å›ç»“æœã€‚</li></ul><p>Scroll+sizeåœ¨ESæŸ¥è¯¢æ•°æ®çš„æ–¹å¼ï¼š</p><ul><li>ç¬¬ä¸€æ­¥ã€å°†ç”¨æˆ·è¾“å…¥çš„å…³é”®å­—è¿›è¡Œåˆ†è¯ã€‚</li><li>ç¬¬äºŒæ­¥ã€å»åˆ†è¯åº“ä¸­è¿›è¡Œæ£€ç´¢ï¼Œå¾—åˆ°æ–‡æ¡£idã€‚</li><li>ç¬¬ä¸‰æ­¥ã€å°†æ–‡æ¡£çš„idå­˜æ”¾åœ¨ESçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œ</li><li>ç¬¬å››æ­¥ã€æ ¹æ®ä½ æŒ‡å®šçš„sizeçš„ä¸ªæ•°å»ESä¸­æ£€ç´¢æŒ‡å®šä¸ªæ•°çš„æ•°æ®ï¼Œæ‹¿å®Œæ•°æ®çš„æ–‡æ¡£idï¼Œä¼šä»ä¸Šä¸‹æ–‡ä¸­ç§»é™¤ã€‚</li><li>ç¬¬äº”æ­¥ã€å¦‚æœéœ€è¦ä¸‹ä¸€é¡µçš„å†…å®¹ï¼Œç›´æ¥å»ä¸Šä¸‹æ–‡ä¸­æ‰¾åç»­çš„å†…å®¹ã€‚</li><li>ç¬¬å…­æ­¥ã€å¾ªç¯ç¬¬å››æ­¥å’Œç¬¬äº”æ­¥</li></ul><p><a href="">Scroll æŸ¥è¯¢æ–¹å¼ã€ä¸é€‚åˆåšå®æ—¶æŸ¥è¯¢ï¼Œå› ä¸ºä»–æ˜¯æŸ¥è¯¢åæ”¾åœ¨å†…å­˜ï¼Œåªæ˜¯æ ¹æ®sizeçš„å¤§å°æ¥æ‹¿å‡ºä¸€éƒ¨åˆ†ï¼Œä¸‹ä¸€é¡µçš„è¯è¿˜æ˜¯å»å†…å­˜æ‹¿æŸ¥å¥½çš„ï¼Œç›´åˆ°æ‹¿å®Œã€‚</a></p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"># æ‰§è¡Œscroll æŸ¥è¯¢ï¼Œè¿”å›ç¬¬ä¸€é¡µæ•°æ®ï¼Œå¹¶ä¸”å°†æ–‡æ¡£idå­˜æ”¾åœ¨ä¸Šä¸‹æ–‡ä¸­</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search?scroll=1m# æŒ‡å®šæ–‡æ¡£çš„ç”Ÿå­˜æ—¶é—´ï¼Œ1m=1åˆ†é’Ÿ</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;match_all&quot;</span>: &#123;&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;size&quot;:2,# æ¯æ¬¡æŸ¥è¯¢çš„æ¡æ•°</span><br><span class="line">  &quot;sort&quot;:[# æ’åºï¼Œæ ¹æ®æŒ‡å®šçš„å­—æ®µè¿›è¡Œæ’åº </span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;fee&quot;</span>:&#123;</span><br><span class="line">        <span class="attr">&quot;order&quot;</span>:<span class="string">&quot;desc&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># æ ¹æ®scrollæŸ¥è¯¢ä¸‹ä¸€é¡µæ•°æ®</span><br><span class="line">POST /_search/scroll</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;scroll_id&quot;</span>:# æ ¹æ®ç¬¬ä¸€æ­¥å¾—åˆ°çš„scroll_idå»æŒ‡å®š</span><br><span class="line">  <span class="string">&quot;DnF1ZXJ5VGhlbkZldGNoAwAAAAAAAG6CFkNpUS0yRnNxU2g2bU9JQjBGWTNJV0EAAAAAAABugRZDaVEtMkZzcVNoNm1PSUIwRlkzSVdBAAAAAAAAboMWQ2lRLTJGc3FTaDZtT0lCMEZZM0lXQQ==&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;scroll&quot;</span>:<span class="string">&quot;1m&quot;</span># scroll çš„ç”Ÿå­˜æ—¶é—´</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># åˆ é™¤scrollåœ¨ä¸Šä¸‹æ–‡ä¸­çš„æ•°æ®</span><br><span class="line">DELETE /_search/scroll/# scrollçš„id</span><br><span class="line">DnF1ZXJ5VGhlbkZldGNoAwAAAAAAAG6CFkNpUS0yRnNxU2g2bU9JQjBGWTNJV0EAAAAAAABugRZDaVEtMkZzcVNoNm1PSUIwRlkzSVdBAAAAAAAAboMWQ2lRLTJGc3FTaDZtT0lCMEZZM0lXQQ==</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java ä»£ç å®ç°scrollæŸ¥è¯¢ã€scrollä¸‹ä¸€é¡µã€åˆ é™¤scroll</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Scroll æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo9</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">scrollQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºSearchRequest</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šscrollçš„ç”Ÿå­˜æ—¶é—´</span></span><br><span class="line">        request.scroll(TimeValue.timeValueMinutes(<span class="number">1L</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æŒ‡å®šæŸ¥è¯¢æ¡ä»¶ï¼Œå¹¶æ·»åŠ åˆ°requestä¸­</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        builder.query(QueryBuilders.matchAllQuery());   <span class="comment">// æŸ¥è¯¢æ¡ä»¶</span></span><br><span class="line">        builder.size(<span class="number">3</span>);    <span class="comment">// æ¯æ¬¡æŸ¥å¤šå°‘æ¡</span></span><br><span class="line"></span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€é€šè¿‡Clientæ‰§è¡Œ</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5ã€è·å¾—Scroll_id</span></span><br><span class="line">        String scroll_Id = resp.getScrollId();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6ã€è¿”å›ç»“æœ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;------------------------é¦–é¡µ---------------------&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (SearchHit hit : resp.getHits().getHits()) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; result = hit.getSourceAsMap();</span><br><span class="line">            System.out.println(result);</span><br><span class="line">        &#125;</span><br><span class="line">--------------------------------------------------------------------------------------------------</span><br><span class="line">    <span class="comment">// scroll ä¸‹ä¸€é¡µ</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="comment">// 7ã€åˆ›å»ºSearchScrollRequest,å¼€å§‹ä¸‹ä¸€é¡µ</span></span><br><span class="line">            SearchScrollRequest scrollRequest = <span class="keyword">new</span> SearchScrollRequest(scroll_Id);</span><br><span class="line">            <span class="comment">// æŒ‡å®šScrollçš„ç”Ÿå­˜æ—¶é—´</span></span><br><span class="line">            scrollRequest.scroll(TimeValue.timeValueMinutes(<span class="number">1L</span>));</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 8ã€æ‰§è¡ŒæŸ¥è¯¢ï¼Œè¿”å›ç»“æœ</span></span><br><span class="line">            SearchResponse searchResponse = client.scroll(scrollRequest, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 9ã€æ˜¯å¦æœ€åä¸€ä¸‹ï¼Œæ˜¯å¦æŸ¥åˆ°äº†æ•°æ®</span></span><br><span class="line">            SearchHit[] hits = searchResponse.getHits().getHits();</span><br><span class="line">            <span class="keyword">if</span> (hits != <span class="keyword">null</span> &amp;&amp; hits.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;------------------------ä¸‹ä¸€é¡µ---------------------&quot;</span>);</span><br><span class="line">                <span class="keyword">for</span> (SearchHit hit : searchResponse.getHits().getHits()) &#123;</span><br><span class="line">                    Map&lt;String, Object&gt; sourceAsMap = hit.getSourceAsMap();</span><br><span class="line">                    System.out.println(sourceAsMap);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;------------------------æ²¡æœ‰æ›´å¤šäº†---------------------&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">--------------------------------------------------------------------------------------------------</span><br><span class="line">    <span class="comment">// scroll åˆ é™¤ </span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 10ã€åˆ›å»ºclearScroll</span></span><br><span class="line">        ClearScrollRequest clearScrollRequest = <span class="keyword">new</span> ClearScrollRequest();</span><br><span class="line">            <span class="comment">// 11ã€æŒ‡å®šscroll_id</span></span><br><span class="line">        clearScrollRequest.addScrollId(scroll_Id);</span><br><span class="line">            <span class="comment">// 12ã€åœ¨ä¸Šä¸‹æ–‡ä¸­åˆ é™¤scroll</span></span><br><span class="line">        client.clearScroll(clearScrollRequest,RequestOptions.DEFAULT);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-5ã€delete-by-query"><a href="#6-5ã€delete-by-query" class="headerlink" title="6.5ã€delete-by-query"></a>6.5ã€delete-by-query</h3><blockquote><p>æ ¹æ®termã€matchç­‰æ–¹å¼æŸ¥è¯¢åˆ é™¤æ–‡æ¡£ï¼Œå°†æŸ¥è¯¢å‡ºæ¥çš„æ–‡æ¡£åˆ é™¤</p><p>psï¼š</p><p><a href="">å¦‚æœä½ éœ€è¦åˆ é™¤çš„å†…å®¹ï¼Œæ˜¯indexä¸‹çš„å¤§éƒ¨åˆ†å†…å®¹ï¼Œæ¨èåˆ›å»ºä¸€ä¸ªå…¨æ–°çš„indexï¼Œå°†éœ€è¦ä¿ç•™çš„å†…å®¹æ·»åŠ è¿›å…¨æ–°çš„ç´¢å¼•ã€‚</a></p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># delete-by-query</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_delete_by_query</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;range&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;fee&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;gte&quot;</span>: <span class="number">10</span>,</span><br><span class="line">        <span class="attr">&quot;lte&quot;</span>: <span class="number">20</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo10</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delteByQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºdeleteByQuery</span></span><br><span class="line">        DeleteByQueryRequest deleteByQueryRequest = <span class="keyword">new</span> DeleteByQueryRequest(index);</span><br><span class="line">        deleteByQueryRequest.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šæ£€ç´¢æ¡ä»¶         å’ŒSearchRequestæŒ‡å®šæ£€ç´¢æ¡ä»¶ä¸ä¸€æ ·</span></span><br><span class="line">        deleteByQueryRequest.setQuery(QueryBuilders.rangeQuery(<span class="string">&quot;fee&quot;</span>).gte(<span class="number">10</span>).lte(<span class="number">20</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æ‰§è¡Œåˆ é™¤</span></span><br><span class="line">        BulkByScrollResponse bulkByScrollResponse = client.deleteByQuery(deleteByQueryRequest, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€è¾“å‡ºè¿”å›ç»“æœ</span></span><br><span class="line">        System.out.println(bulkByScrollResponse.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-6ã€å¤åˆæŸ¥è¯¢"><a href="#6-6ã€å¤åˆæŸ¥è¯¢" class="headerlink" title="6.6ã€å¤åˆæŸ¥è¯¢"></a>6.6ã€å¤åˆæŸ¥è¯¢</h3><h5 id="6-6-1ã€boolæŸ¥è¯¢"><a href="#6-6-1ã€boolæŸ¥è¯¢" class="headerlink" title="6.6.1ã€boolæŸ¥è¯¢"></a>6.6.1ã€boolæŸ¥è¯¢</h5><blockquote><p>å¤åˆè¿‡æ»¤å™¨ï¼Œå°†ä½ çš„å¤šä¸ªæŸ¥è¯¢æ¡ä»¶ä»¥ä¸€å®šçš„é€»è¾‘ ç»„åˆåœ¨ä¸€èµ·</p><ul><li>mustï¼šæ‰€æœ‰çš„æ¡ä»¶ä»¥mustç»„åˆåœ¨ä¸€èµ·ï¼Œè¡¨ç¤º and çš„æ„æ€ã€‚</li><li>must_notï¼šå°†must_notä¸­çš„æ¡ä»¶ï¼Œå…¨éƒ¨éƒ½ä¸èƒ½åŒ¹é…ï¼Œè¡¨ç¤º not çš„æ„æ€ã€‚</li><li>shouldï¼šæ‰€æœ‰çš„æ¡ä»¶ç”¨ should ç»„åˆåœ¨ä¸€èµ·è¡¨ç¤º or çš„æ„æ€ã€‚</li></ul></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥è¯¢åŸå¸‚ä¸ºä¸Šæµ·æˆ–è€…åŒ—äº¬</span><br><span class="line"># è¿è¥å•†ä¸èƒ½æ˜¯è”é€š</span><br><span class="line"># smscontentå¿…é¡»åŒ…å«ä¸€å£å’Œå¤ªç©º</span><br><span class="line"># boolæŸ¥è¯¢</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;bool&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;should&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;term&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;province&quot;</span>: &#123;</span><br><span class="line">              <span class="attr">&quot;value&quot;</span>: <span class="string">&quot;ä¸Šæµ·&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;term&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;province&quot;</span>: &#123;</span><br><span class="line">              <span class="attr">&quot;value&quot;</span>: <span class="string">&quot;åŒ—äº¬&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">&quot;must_not&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;term&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;operatorId&quot;</span>: &#123;</span><br><span class="line">              <span class="attr">&quot;value&quot;</span>: <span class="string">&quot;2&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">&quot;must&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;match&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;smsContent&quot;</span>: <span class="string">&quot;ä¹é¾™&quot;</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;match&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;smsContent&quot;</span>: <span class="string">&quot;æ‹‰æ£º&quot;</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo11</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">boolQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºSearchRequestå¯¹è±¡</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æ·»åŠ æ‰§è¡Œæ¡ä»¶</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        BoolQueryBuilder boolQuery = QueryBuilders.boolQuery();</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢åŸå¸‚ä¸ºä¸Šæµ·æˆ–è€…åŒ—äº¬</span></span><br><span class="line">        boolQuery.should(QueryBuilders.termQuery(<span class="string">&quot;province&quot;</span>,<span class="string">&quot;ä¸Šæµ·&quot;</span>));</span><br><span class="line">        boolQuery.should(QueryBuilders.termQuery(<span class="string">&quot;province&quot;</span>,<span class="string">&quot;åŒ—äº¬&quot;</span>));</span><br><span class="line">        <span class="comment">// è¿è¥å•†ä¸èƒ½æ˜¯è”é€š</span></span><br><span class="line">        boolQuery.mustNot(QueryBuilders.termQuery(<span class="string">&quot;operatorId&quot;</span>,<span class="string">&quot;2&quot;</span>));</span><br><span class="line">        <span class="comment">//smscontentå¿…é¡»åŒ…å«ä¹é¾™å’Œæ‹‰æ£º</span></span><br><span class="line">        boolQuery.must(QueryBuilders.matchQuery(<span class="string">&quot;smsContent&quot;</span>,<span class="string">&quot;ä¹é¾™&quot;</span>));</span><br><span class="line">        boolQuery.must(QueryBuilders.matchQuery(<span class="string">&quot;smsContent&quot;</span>,<span class="string">&quot;æ‹‰æ£º&quot;</span>));</span><br><span class="line">        <span class="comment">// æŠŠboolQueryæ·»åŠ è¿›builder</span></span><br><span class="line">        builder.query(boolQuery);</span><br><span class="line">        <span class="comment">// æŠŠæ£€ç´¢æ¡ä»¶æ·»åŠ è¿›Request</span></span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æ‰§è¡Œæ“ä½œ</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€éå†è¿”å›ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (SearchHit hit : resp.getHits().getHits()) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; result = hit.getSourceAsMap();</span><br><span class="line">            System.out.println(result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-6-2ã€boostingæŸ¥è¯¢"><a href="#6-6-2ã€boostingæŸ¥è¯¢" class="headerlink" title="6.6.2ã€boostingæŸ¥è¯¢"></a>6.6.2ã€boostingæŸ¥è¯¢</h5><blockquote><p>boosting æŸ¥è¯¢å¯ä»¥å¸®åŠ©æˆ‘ä»¬å»å½±å“æŸ¥è¯¢åçš„score</p><ul><li>postiveï¼špostiveä¸­æŸ¥è¯¢å¾—åˆ°çš„å†…å®¹ï¼Œæ‰ä¼šè¿”å›ç»“æœé›†ã€‚</li><li>negativeï¼šå¦‚æœnegativeä¸­æŸ¥è¯¢çš„å†…å®¹åŒ¹é…ï¼Œå¹¶ä¸”postiveä¸­æŸ¥è¯¢çš„å†…å®¹ä¹ŸåŒ¹é…ã€‚æˆ‘ä»¬å¯ä»¥æ“æ§negative_boostçš„æŒ‡å®šç³»æ•°ï¼Œä»è€Œé™ä½æ–‡æ¡£çš„scoreï¼ŒæŸ¥è¯¢ç»“æœçš„æ’åºä¹Ÿä¼šé™ä½</li><li>negative_boostï¼šæŒ‡å®šç³»æ•°ï¼Œå¿…é¡»å°äº1.0.</li></ul><p>å…³äºæŸ¥è¯¢æ—¶æ–‡æ¡£çš„scoreæ—¶æ€ä¹ˆè®¡ç®—çš„ï¼š</p><ul><li>æœç´¢çš„å…³é”®å­—åœ¨æ–‡æ¡£ä¸­å‡ºç°çš„é¢‘æ¬¡è¶Šé«˜ï¼Œåˆ†æ•°è¶Šé«˜ã€‚</li><li>æŒ‡å®šçš„æ–‡æ¡£å†…å®¹è¶ŠçŸ­ï¼Œåˆ†æ•°è¶Šé«˜ã€‚</li><li>æœç´¢æ—¶ï¼ŒæŒ‡å®šçš„å…³é”®å­—ä¼šè¢«åˆ†è¯ï¼Œè¿™ä¸ªåˆ†è¯çš„å†…å®¹ï¼Œåœ¨åˆ†è¯åº“ ä¸­åŒ¹é…çš„è¶Šå¤šï¼Œåˆ†æ•°è¶Šé«˜ã€‚</li></ul></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># boosting æŸ¥è¯¢</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;boosting&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;positive&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;match&quot;</span>: &#123;</span><br><span class="line">          <span class="attr">&quot;smsContent&quot;</span>: <span class="string">&quot;ä¹é¾™æ‹‰æ£º&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">&quot;negative&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;match&quot;</span>: &#123;</span><br><span class="line">          <span class="attr">&quot;smsContent&quot;</span>: <span class="string">&quot;ä¸Šå¤&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">&quot;negative_boost&quot;</span>: <span class="number">0.2</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo11</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// boosting æŸ¥è¯¢</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">boostingQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºSearchRequestå¯¹è±¡</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æ·»åŠ æ‰§è¡Œæ¡ä»¶</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        BoostingQueryBuilder boostingQueryBuilder = QueryBuilders.boostingQuery(</span><br><span class="line">                QueryBuilders.matchQuery(<span class="string">&quot;smsContent&quot;</span>, <span class="string">&quot;ä¹é¾™æ‹‰æ£º&quot;</span>),</span><br><span class="line">                QueryBuilders.matchQuery(<span class="string">&quot;smsContent&quot;</span>, <span class="string">&quot;ä¸Šå¤&quot;</span>)</span><br><span class="line">        ).negativeBoost(<span class="number">0.5f</span>);</span><br><span class="line">        <span class="comment">// æŠŠboostingQueryBuilderæ·»åŠ è¿›builder</span></span><br><span class="line">        builder.query(boostingQueryBuilder);</span><br><span class="line">        <span class="comment">// æŠŠæ£€ç´¢æ¡ä»¶æ·»åŠ è¿›Request</span></span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æ‰§è¡Œæ“ä½œ</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€éå†è¿”å›ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (SearchHit hit : resp.getHits().getHits()) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; result = hit.getSourceAsMap();</span><br><span class="line">            System.out.println(result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-7ã€filteræŸ¥è¯¢"><a href="#6-7ã€filteræŸ¥è¯¢" class="headerlink" title="6.7ã€filteræŸ¥è¯¢"></a>6.7ã€filteræŸ¥è¯¢</h3><blockquote><p>queryï¼šæ ¹æ®ä½ æŸ¥è¯¢çš„æ¡ä»¶ï¼Œå»è®¡ç®—æ–‡æ¡£åŒ¹é…åº¦å¾—åˆ°ä¸€ä¸ªåˆ†æ•°ï¼Œå¹¶ä¸”æ ¹æ®åˆ†æ•°è¿›è¡Œæ’åºï¼Œä¸ä¼šåšç¼“å­˜ã€‚</p><p>filterï¼šæ ¹æ®ä½ çš„æŸ¥è¯¢æ¡ä»¶å»æŸ¥è¯¢æ–‡æ¡£ï¼Œä¸ä¼šå»è®¡ç®—åˆ†æ•°ï¼Œè€Œä¸”filterä¼šå¯¹ç»å¸¸è¿‡æ»¤çš„æ•°æ®è¿›è¡Œç¼“å­˜</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># filter æŸ¥è¯¢</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;bool&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;filter&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;trem&quot;</span>:&#123;</span><br><span class="line">            <span class="attr">&quot;corpName&quot;</span>:<span class="string">&quot;æ ¼åŠ›æ±½è½¦&quot;</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;range&quot;</span>:&#123;</span><br><span class="line">            <span class="attr">&quot;fee&quot;</span>:&#123;</span><br><span class="line">              <span class="attr">&quot;lte&quot;</span>:<span class="number">4</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo12</span> </span>&#123;</span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// # filter æŸ¥è¯¢</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">filterQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºSearchRequestå¯¹è±¡</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æ·»åŠ æ‰§è¡Œæ¡ä»¶</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        BoolQueryBuilder boolQuery = QueryBuilders.boolQuery();</span><br><span class="line">        boolQuery.filter(QueryBuilders.termQuery(<span class="string">&quot;corpName&quot;</span>,<span class="string">&quot;æ ¼åŠ›æ±½è½¦&quot;</span>));</span><br><span class="line">        boolQuery.filter(QueryBuilders.rangeQuery(<span class="string">&quot;fee&quot;</span>).lte(<span class="number">4</span>));</span><br><span class="line">        <span class="comment">// æŠŠboolQueryæ·»åŠ è¿›builder</span></span><br><span class="line">        builder.query(boolQuery);</span><br><span class="line">        <span class="comment">// æŠŠæ£€ç´¢æ¡ä»¶æ·»åŠ è¿›Request</span></span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æ‰§è¡Œæ“ä½œ</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€éå†è¿”å›ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (SearchHit hit : resp.getHits().getHits()) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; result = hit.getSourceAsMap();</span><br><span class="line">            System.out.println(result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-8ã€é«˜äº®æŸ¥è¯¢"><a href="#6-8ã€é«˜äº®æŸ¥è¯¢" class="headerlink" title="6.8ã€é«˜äº®æŸ¥è¯¢"></a>6.8ã€é«˜äº®æŸ¥è¯¢</h3><blockquote><p>é«˜äº®æŸ¥è¯¢å°±æ˜¯å°†ç”¨æˆ·è¾“å…¥çš„å…³é”®å­—ï¼ŒæŸ¥è¯¢åï¼Œä»¥ç‰¹æ®Šçš„æ ·å¼è¿”å›åœ¨ç»“æœä¸­ã€‚</p><p>é«˜äº®å±•ç¤ºçš„æ•°æ®ï¼Œæœ¬èº«å°±æ˜¯æ–‡æ¡£çš„ä¸€ä¸ªFiledï¼Œå•ç‹¬å°†Filedä»¥highlightçš„å½¢å¼è¿”å›</p><p>ESä¸­æä¾›äº†ä¸€ä¸ªhighlightå±æ€§ï¼Œç”¨æ¥é«˜äº®ï¼Œå’ŒqueryåŒçº§åˆ«ï¼š</p><ul><li>fragment_sizeï¼šé«˜äº®æŸ¥è¯¢è¿”å›å¤šå°‘ä¸ªå­—ç¬¦</li><li>pre_tagsï¼šæŒ‡å®šå‰ç¼€æ ‡ç­¾ï¼Œä¾‹å¦‚ï¼š<font color=red></li><li>post_tagsï¼šæŒ‡å®šåç¼€æ ‡ç­¾ï¼Œä¾‹å¦‚ï¼š</font></li><li>filedsï¼šæŒ‡å®šå“ªå‡ ä¸ªFiledå­—æ®µä»¥é«˜äº®å½¢å¼è¿”å›</li></ul></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># é«˜äº®æŸ¥è¯¢</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;match&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;smsContent&quot;</span>: <span class="string">&quot;ä¹é¾™æ‹‰æ£º&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;highlight&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;fields&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;smsContent&quot;</span>: &#123;&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;pre_tags&quot;</span>: <span class="string">&quot;&lt;font color=red&gt;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;post_tags&quot;</span>: <span class="string">&quot;&lt;/font&gt;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;fragment_size&quot;</span>:<span class="number">10</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Javaä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é«˜äº®æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo13</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">highLightQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºRequestå¯¹è±¡</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šæŸ¥è¯¢æ¡ä»¶å’Œé«˜äº®</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        builder.query(QueryBuilders.matchQuery(<span class="string">&quot;smsContent&quot;</span>,<span class="string">&quot;ä¹é¾™æ‹‰æ£º&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æŒ‡å®šé«˜äº®</span></span><br><span class="line">        HighlightBuilder highlightBuilder = <span class="keyword">new</span> HighlightBuilder();</span><br><span class="line">        highlightBuilder.field(<span class="string">&quot;smsContent&quot;</span>,<span class="number">10</span>);</span><br><span class="line">        highlightBuilder.preTags(<span class="string">&quot;&lt;font color=&#x27;red&#x27;&gt;&quot;</span>);</span><br><span class="line">        highlightBuilder.postTags(<span class="string">&quot;&lt;font&gt;&quot;</span>);</span><br><span class="line"></span><br><span class="line">        builder.highlighter(highlightBuilder);</span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æ‰§è¡Œ</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€è¾“å‡ºé«˜äº®ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (SearchHit hit : resp.getHits().getHits()) &#123;</span><br><span class="line">            Map&lt;String, HighlightField&gt; highlightFields = hit.getHighlightFields();</span><br><span class="line">            System.out.println(highlightFields.get(<span class="string">&quot;smsContent&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-9ã€èšåˆæŸ¥è¯¢"><a href="#6-9ã€èšåˆæŸ¥è¯¢" class="headerlink" title="6.9ã€èšåˆæŸ¥è¯¢"></a>6.9ã€èšåˆæŸ¥è¯¢</h3><blockquote><p>ESçš„èšåˆæŸ¥è¯¢å’ŒMySqlçš„ç±»ä¼¼ï¼Œä½†æ˜¯è¦æ¯”MySqlçš„ä¸°å¯Œã€‚</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># èšåˆæŸ¥è¯¢ï¼ŒRestFulè¯­æ³•</span><br><span class="line">POST /index/type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;aggs&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;èšåˆæŸ¥è¯¢çš„åå­—(éšæ„å–)&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;cardinality(ä¸åŒèšåˆå‡½æ•°çš„åå­—)&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;å±æ€§&quot;</span>: <span class="string">&quot;å€¼&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-9-1ã€å»é‡è®¡æ•°"><a href="#6-9-1ã€å»é‡è®¡æ•°" class="headerlink" title="6.9.1ã€å»é‡è®¡æ•°"></a>6.9.1ã€å»é‡è®¡æ•°</h5><blockquote><p>åœ¨ä¸€æ¬¡æŸ¥è¯¢ä¸­ï¼Œæ¯æ¡æ•°æ®éƒ½æœ‰è‡ªå·±çš„çœä»½ï¼Œç°åœ¨è¦ç»Ÿè®¡ä¸åŒçš„çœä»½ä¸€å…±å‡ºç°äº†å‡ æ¬¡ï¼Ÿæ•°æ®ä¸­æœ‰å¾ˆå¤šæ¡å¯èƒ½çœä»½éƒ½ä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦å»æ‰é‡å¤å‡ºç°çš„ï¼Œå†ç»Ÿè®¡ä¸€å…±å‡ºç°äº†å¤šå°‘æ¬¡ã€‚</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># èšåˆæŸ¥è¯¢ï¼Œå»é‡è®¡æ•°</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;aggs&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;agg&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;cardinality&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;field&quot;</span>: <span class="string">&quot;province&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// èšåˆæŸ¥è¯¢,å»é‡è®¡æ•°</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo14</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">cardinalityQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºRequest</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šèšåˆæŸ¥è¯¢çš„æ–¹å¼</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        builder.aggregation(AggregationBuilders.cardinality(<span class="string">&quot;agg&quot;</span>).field(<span class="string">&quot;province&quot;</span>));</span><br><span class="line"></span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æ‰§è¡Œ</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€è¾“å‡ºèšåˆæŸ¥è¯¢çš„ç»“æœ</span></span><br><span class="line">        Cardinality agg = resp.getAggregations().get(<span class="string">&quot;agg&quot;</span>);</span><br><span class="line">        System.out.println(agg.getValue());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="6-9-2ã€èŒƒå›´ç»Ÿè®¡"><a href="#6-9-2ã€èŒƒå›´ç»Ÿè®¡" class="headerlink" title="6.9.2ã€èŒƒå›´ç»Ÿè®¡"></a>6.9.2ã€èŒƒå›´ç»Ÿè®¡</h5><blockquote><p>ç»Ÿè®¡ä¸€å®šèŒƒå›´å†…æ–‡æ¡£å‡ºç°çš„ä¸ªæ•°</p><p>ç»Ÿè®¡å¯ä»¥é’ˆå¯¹æ•°å€¼ç±»è¡Œï¼Œä¹Ÿå¯ä»¥é’ˆå¯¹æ—¥æœŸç±»å‹ï¼Œä¹Ÿå¯ä»¥é’ˆå¯¹ipç±»å‹</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"># èšåˆæŸ¥è¯¢ï¼ŒèŒƒå›´å†…ä¸ªæ•°ç»Ÿè®¡,æ•°å€¼ç±»å‹</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line"> <span class="attr">&quot;aggs&quot;</span>: &#123;</span><br><span class="line">   <span class="attr">&quot;agg&quot;</span>: &#123;</span><br><span class="line">     <span class="attr">&quot;range&quot;</span>: &#123;</span><br><span class="line">       <span class="attr">&quot;field&quot;</span>: <span class="string">&quot;id&quot;</span>,</span><br><span class="line">       <span class="attr">&quot;ranges&quot;</span>: [</span><br><span class="line">         &#123;</span><br><span class="line">           <span class="attr">&quot;from&quot;</span>: <span class="number">0</span>,</span><br><span class="line">           <span class="attr">&quot;to&quot;</span>: <span class="number">10</span></span><br><span class="line">         &#125;</span><br><span class="line">       ]</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># èšåˆæŸ¥è¯¢ï¼ŒèŒƒå›´å†…ä¸ªæ•°ç»Ÿè®¡,æ—¥æœŸç±»å‹</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line"> <span class="attr">&quot;aggs&quot;</span>: &#123;</span><br><span class="line">   <span class="attr">&quot;agg&quot;</span>: &#123;</span><br><span class="line">     <span class="attr">&quot;date_range&quot;</span>: &#123;</span><br><span class="line">       <span class="attr">&quot;field&quot;</span>: <span class="string">&quot;createDate&quot;</span>,</span><br><span class="line">       <span class="attr">&quot;format&quot;</span>: <span class="string">&quot;yyyy-MM-dd&quot;</span>, </span><br><span class="line">       <span class="attr">&quot;ranges&quot;</span>: [</span><br><span class="line">         &#123;</span><br><span class="line">           <span class="attr">&quot;from&quot;</span>: <span class="string">&quot;2000-01-01&quot;</span>,</span><br><span class="line">           <span class="attr">&quot;to&quot;</span>: <span class="string">&quot;2020-12-30&quot;</span></span><br><span class="line">         &#125;,</span><br><span class="line">         &#123;</span><br><span class="line">           <span class="attr">&quot;from&quot;</span>: <span class="string">&quot;2000-01-01&quot;</span>,</span><br><span class="line">           <span class="attr">&quot;to&quot;</span>: <span class="string">&quot;2020-01-01&quot;</span></span><br><span class="line">         &#125;</span><br><span class="line">       ]</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># èšåˆæŸ¥è¯¢ï¼ŒèŒƒå›´å†…ä¸ªæ•°ç»Ÿè®¡,IPç±»å‹</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line"> <span class="attr">&quot;aggs&quot;</span>: &#123;</span><br><span class="line">   <span class="attr">&quot;agg&quot;</span>: &#123;</span><br><span class="line">     <span class="attr">&quot;ip_range&quot;</span>: &#123;</span><br><span class="line">       <span class="attr">&quot;field&quot;</span>: <span class="string">&quot;ipAddr&quot;</span>,</span><br><span class="line">       <span class="attr">&quot;ranges&quot;</span>: [</span><br><span class="line">         &#123;</span><br><span class="line">           <span class="attr">&quot;from&quot;</span>: <span class="string">&quot;127.0.0.0&quot;</span>,</span><br><span class="line">           <span class="attr">&quot;to&quot;</span>: <span class="string">&quot;127.0.0.30&quot;</span></span><br><span class="line">         &#125;,</span><br><span class="line">         &#123;</span><br><span class="line">           <span class="attr">&quot;from&quot;</span>: <span class="string">&quot;127.0.0.0&quot;</span>,</span><br><span class="line">           <span class="attr">&quot;to&quot;</span>: <span class="string">&quot;127.0.0.10&quot;</span></span><br><span class="line">         &#125;</span><br><span class="line">       ]</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// èšåˆå‡½æ•° èŒƒå›´ç»Ÿè®¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo15</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rangeQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºRequest</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šèšåˆå‡½æ•°æŸ¥è¯¢æ–¹å¼</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        builder.aggregation(AggregationBuilders.range(<span class="string">&quot;agg&quot;</span>).field(<span class="string">&quot;id&quot;</span>).addRange(<span class="number">0</span>,<span class="number">10</span>));</span><br><span class="line"></span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æ‰§è¡Œ</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€è¾“å‡º</span></span><br><span class="line">        Range agg = resp.getAggregations().get(<span class="string">&quot;agg&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Range.Bucket bucket : agg.getBuckets()) &#123;</span><br><span class="line">            String key = bucket.getKeyAsString();</span><br><span class="line">            Object from = bucket.getFrom();</span><br><span class="line">            Object to = bucket.getTo();</span><br><span class="line">            <span class="keyword">long</span> docCount = bucket.getDocCount();</span><br><span class="line">            System.out.println(<span class="string">&quot;key:--&gt;&quot;</span>+key);</span><br><span class="line">            System.out.println(<span class="string">&quot;from:--&gt;&quot;</span>+from);</span><br><span class="line">            System.out.println(<span class="string">&quot;to:--&gt;&quot;</span>+to);</span><br><span class="line">            System.out.println(<span class="string">&quot;docCount:--&gt;&quot;</span>+docCount);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-9-3ã€ç»Ÿè®¡èšåˆ"><a href="#6-9-3ã€ç»Ÿè®¡èšåˆ" class="headerlink" title="6.9.3ã€ç»Ÿè®¡èšåˆ"></a>6.9.3ã€ç»Ÿè®¡èšåˆ</h5><blockquote><p>å®ƒå¯ä»¥å¸®ä½ æŸ¥è¯¢æŒ‡å®šFiledçš„æœ€å¤§å€¼ã€æœ€å°å€¼ã€å¹³å‡å€¼ã€å¹³æ–¹å’Œ â€¦â€¦..</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># èšåˆæŸ¥è¯¢ï¼Œç»Ÿè®¡èšåˆ</span><br><span class="line">POST /sms-logs-index/sms-logs-type/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;aggs&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;agg&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;extended_stats&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;field&quot;</span>: <span class="string">&quot;id&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java ä»£ç å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// èšåˆå‡½æ•° èŒƒå›´ç»Ÿè®¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo15</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;sms-logs-index&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;sms-logs-type&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">extendedStatsQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºRequest</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šèšåˆå‡½æ•°æŸ¥è¯¢æ–¹å¼</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        builder.aggregation(AggregationBuilders.extendedStats(<span class="string">&quot;agg&quot;</span>).field(<span class="string">&quot;id&quot;</span>));</span><br><span class="line"></span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æ‰§è¡Œ</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€è¾“å‡º</span></span><br><span class="line">        ExtendedStats agg = resp.getAggregations().get(<span class="string">&quot;agg&quot;</span>);</span><br><span class="line">        <span class="keyword">double</span> max = agg.getMax();</span><br><span class="line">        <span class="keyword">double</span> min = agg.getMin();</span><br><span class="line">        System.out.println(<span class="string">&quot;æœ€å¤§å€¼ä¸ºï¼š&quot;</span>+max);</span><br><span class="line">        System.out.println(<span class="string">&quot;æœ€å°å€¼ä¸ºï¼š&quot;</span>+min);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="6-10ã€åœ°å›¾ç»çº¬åº¦æœç´¢"><a href="#6-10ã€åœ°å›¾ç»çº¬åº¦æœç´¢" class="headerlink" title="6.10ã€åœ°å›¾ç»çº¬åº¦æœç´¢"></a>6.10ã€åœ°å›¾ç»çº¬åº¦æœç´¢</h3><blockquote><p>ESä¸­æä¾›äº†ä¸€ç§ geo_point çš„æ•°æ®ç±»å‹æ¥å­˜å‚¨ç»çº¬åº¦ã€‚</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"># å› ä¸ºæ²¡æœ‰ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªç®€å•çš„å¸¦ geo_point çš„index</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºä¸€ä¸ªå¸¦ geo_point çš„ index</span><br><span class="line">PUT /map</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;settings&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;number_of_shards&quot;</span>: <span class="number">5</span>, </span><br><span class="line">    <span class="attr">&quot;number_of_replicas&quot;</span>: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;mappings&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;map&quot;</span>:&#123;</span><br><span class="line">      <span class="attr">&quot;properties&quot;</span>:&#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>:&#123;</span><br><span class="line">          <span class="attr">&quot;type&quot;</span>:<span class="string">&quot;text&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">&quot;location&quot;</span>:&#123;</span><br><span class="line">          <span class="attr">&quot;type&quot;</span>:<span class="string">&quot;geo_point&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># æ·»åŠ æ•°æ®</span><br><span class="line"></span><br><span class="line">POST /map/map/1</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>:<span class="string">&quot;å¤©å®‰é—¨&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;location&quot;</span>:&#123;</span><br><span class="line">    <span class="attr">&quot;lon&quot;</span>:<span class="number">116.403874</span>,</span><br><span class="line">    <span class="attr">&quot;lat&quot;</span>:<span class="number">39.915129</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">POST /map/map/2</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>:<span class="string">&quot;æµ·å®šå…¬å›­&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;location&quot;</span>:&#123;</span><br><span class="line">    <span class="attr">&quot;lon&quot;</span>:<span class="number">116.301314</span>,</span><br><span class="line">    <span class="attr">&quot;lat&quot;</span>:<span class="number">39.99319</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">POST /map/map/3</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>:<span class="string">&quot;åŒ—äº¬åŠ¨ç‰©å›­&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;location&quot;</span>:&#123;</span><br><span class="line">    <span class="attr">&quot;lon&quot;</span>:<span class="number">116.343283</span>,</span><br><span class="line">    <span class="attr">&quot;lat&quot;</span>:<span class="number">39.949175</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-10-1ã€ESä¸­åœ°å›¾çš„æ£€ç´¢æ–¹å¼"><a href="#6-10-1ã€ESä¸­åœ°å›¾çš„æ£€ç´¢æ–¹å¼" class="headerlink" title="6.10.1ã€ESä¸­åœ°å›¾çš„æ£€ç´¢æ–¹å¼"></a>6.10.1ã€ESä¸­åœ°å›¾çš„æ£€ç´¢æ–¹å¼</h5><blockquote><ul><li>geo_distanceï¼šç¡®å®šä¸€ä¸ªç‚¹æœç´¢åŠå¾„èŒƒå›´å†…çš„æ‰€æœ‰æ•°æ®ã€‚</li><li>geo_bounding_boxï¼šä»¥ä¸¤ä¸ªç‚¹ç¡®å®šä¸€ä¸ªçŸ©å½¢ï¼Œè·å–çŸ©å½¢å†…æ‰€æœ‰çš„æ•°æ®ã€‚</li><li>geo_polygonï¼šä»¥å¤šä¸ªç‚¹ç¡®å®šä¸€ä¸ªå¤šè¾¹å½¢ï¼Œè·å–å¤šè¾¹å½¢å†…çš„å…¨éƒ¨æ•°æ®ã€‚</li></ul></blockquote><p><strong>geo_distanceï¼š</strong></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># geo_distance æŸ¥è¯¢</span><br><span class="line">POST /map/map/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;geo_distance&quot;</span>: &#123;</span><br><span class="line">      &quot;location&quot;: &#123;             # ç¡®å®šä¸€ä¸ªç‚¹</span><br><span class="line">        &quot;lon&quot;:116.365705,</span><br><span class="line">        &quot;lat&quot;:39.909781</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;distance&quot;:4000,   # ç¡®å®šåŠå¾„èŒƒå›´</span><br><span class="line">      &quot;distance_type&quot;:&quot;arc&quot;    # æŒ‡å®šæœç´¢çš„å½¢çŠ¶ä¸ºåœ†å½¢</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>geo_bounding_boxï¼š</strong></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># geo_bounding_box æŸ¥è¯¢</span><br><span class="line">POST /map/map/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;geo_bounding_box&quot;</span>:&#123;</span><br><span class="line">      <span class="attr">&quot;location&quot;</span>: &#123;</span><br><span class="line">          &quot;top_left&quot;:&#123;# å·¦ä¸Šåæ ‡ç‚¹</span><br><span class="line">            &quot;lon&quot;:116.238504,</span><br><span class="line">            &quot;lat&quot;:40.043363</span><br><span class="line">          &#125;,</span><br><span class="line">          &quot;bottom_right&quot;:&#123;# å³ä¸‹åæ ‡ç‚¹</span><br><span class="line">            &quot;lon&quot;:116.492905,</span><br><span class="line">            &quot;lat&quot;:39.799223</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>geo_polygonï¼š</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># geo_polyon æŸ¥è¯¢</span><br><span class="line">POST /map/map/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;geo_polygon&quot;</span>:&#123;</span><br><span class="line">       <span class="attr">&quot;location&quot;</span>: &#123;</span><br><span class="line">         <span class="attr">&quot;points&quot;</span>:[# ç¡®å®šå¤šä¸ªç‚¹</span><br><span class="line">         &#123;</span><br><span class="line">            <span class="attr">&quot;lon&quot;</span>:<span class="number">116.408248</span>,</span><br><span class="line">            <span class="attr">&quot;lat&quot;</span>:<span class="number">39.968643</span></span><br><span class="line">         &#125;,</span><br><span class="line">         &#123;</span><br><span class="line">           <span class="attr">&quot;lon&quot;</span>:<span class="number">116.310225</span>,</span><br><span class="line">            <span class="attr">&quot;lat&quot;</span>:<span class="number">39.879224</span></span><br><span class="line">         &#125;,</span><br><span class="line">         &#123;</span><br><span class="line">           <span class="attr">&quot;lon&quot;</span>:<span class="number">116.50081</span>,</span><br><span class="line">            <span class="attr">&quot;lat&quot;</span>:<span class="number">39.874351</span></span><br><span class="line">         &#125;</span><br><span class="line">         ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-11ã€åŸºäºgeo-polygonä½¿ç”¨Javaå®ç°æŸ¥è¯¢"><a href="#6-11ã€åŸºäºgeo-polygonä½¿ç”¨Javaå®ç°æŸ¥è¯¢" class="headerlink" title="6.11ã€åŸºäºgeo_polygonä½¿ç”¨Javaå®ç°æŸ¥è¯¢"></a>6.11ã€åŸºäºgeo_polygonä½¿ç”¨Javaå®ç°æŸ¥è¯¢</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ°å›¾æ£€ç´¢</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo16</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    RestHighLevelClient client =  ESClint.getClient();</span><br><span class="line">    String index = <span class="string">&quot;map&quot;</span>;</span><br><span class="line">    String type=<span class="string">&quot;map&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">geoQuery</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€å¸¸è§SearchRequest</span></span><br><span class="line">        SearchRequest request = <span class="keyword">new</span> SearchRequest(index);</span><br><span class="line">        request.types(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æŒ‡å®šæ£€ç´¢æ¡ä»¶</span></span><br><span class="line">        SearchSourceBuilder builder = <span class="keyword">new</span> SearchSourceBuilder();</span><br><span class="line">        <span class="comment">// æ·»åŠ ä¸‰ä¸ªåæ ‡</span></span><br><span class="line">        ArrayList&lt;GeoPoint&gt; points = <span class="keyword">new</span> ArrayList&lt;GeoPoint&gt;();</span><br><span class="line">        points.add(<span class="keyword">new</span> GeoPoint(<span class="number">39.968643</span>,<span class="number">116.408248</span>));</span><br><span class="line">        points.add(<span class="keyword">new</span> GeoPoint(<span class="number">39.879224</span>,<span class="number">116.310225</span>));</span><br><span class="line">        points.add(<span class="keyword">new</span> GeoPoint(<span class="number">39.874351</span>,<span class="number">116.50081</span>));</span><br><span class="line">        builder.query(QueryBuilders.geoPolygonQuery(<span class="string">&quot;location&quot;</span>,points));</span><br><span class="line"></span><br><span class="line">        request.source(builder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æ‰§è¡Œ</span></span><br><span class="line">        SearchResponse resp = client.search(request, RequestOptions.DEFAULT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€è¾“å‡º</span></span><br><span class="line">            <span class="keyword">for</span> (SearchHit hit : resp.getHits().getHits()) &#123;</span><br><span class="line">                System.out.println(hit.getSourceAsMap());</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ElasticSearch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æå–Wallpaper Engineä¸­çš„å£çº¸</title>
      <link href="posts/b5c2b25e/"/>
      <url>posts/b5c2b25e/</url>
      
        <content type="html"><![CDATA[<p>å‰å‡ å¤©åœ¨æµè§ˆWallpaper Engineçš„æ—¶å€™å‘ç°äº†ä¸€å¼ å¥½æ¼‚äº®çš„å£çº¸ ï¼ŒæŸ¥çœ‹æºæ–‡ä»¶åå‘ç°åªæœ‰ä¸€å¼ æ¨¡ç³Šçš„å›¾ç‰‡ã€‚</p><p>åæ¥çœ‹åˆ°æœ‰ä½å¤§ä½¬çš„å·¥å…·å¯ä»¥æå–å£çº¸ï¼</p><p><font color= red>å¤§ä½¬çš„åœ°å€</font>ï¼š<a href="http://blog.repeater.vip/?p=196">http://blog.repeater.vip/?p=196</a></p><h3 id="æå–æ­¥éª¤"><a href="#æå–æ­¥éª¤" class="headerlink" title="æå–æ­¥éª¤"></a>æå–æ­¥éª¤</h3><h5 id="1ã€ä¸‹è½½è§£å‹çš„å·¥å…·"><a href="#1ã€ä¸‹è½½è§£å‹çš„å·¥å…·" class="headerlink" title="1ã€ä¸‹è½½è§£å‹çš„å·¥å…·"></a>1ã€ä¸‹è½½è§£å‹çš„å·¥å…·</h5><h5 id="2ã€æ‰¾åˆ°å£çº¸æºæ–‡ä»¶ä¸­çš„pkgç»“å°¾çš„æ–‡ä»¶"><a href="#2ã€æ‰¾åˆ°å£çº¸æºæ–‡ä»¶ä¸­çš„pkgç»“å°¾çš„æ–‡ä»¶" class="headerlink" title="2ã€æ‰¾åˆ°å£çº¸æºæ–‡ä»¶ä¸­çš„pkgç»“å°¾çš„æ–‡ä»¶"></a>2ã€æ‰¾åˆ°å£çº¸æºæ–‡ä»¶ä¸­çš„pkgç»“å°¾çš„æ–‡ä»¶</h5><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201211162736.png" alt="image-20201211162736556"></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201211163002.png" alt="image-20201211163002821"></p><h5 id="3ã€åœ¨ä»»æ„åœ°æ–¹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°†è§£å‹è½¯ä»¶åå’Œpkgæ–‡ä»¶ä¸€åŒæ”¾å…¥åˆ°æ–°å»ºçš„ç›®å½•ä¸­"><a href="#3ã€åœ¨ä»»æ„åœ°æ–¹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°†è§£å‹è½¯ä»¶åå’Œpkgæ–‡ä»¶ä¸€åŒæ”¾å…¥åˆ°æ–°å»ºçš„ç›®å½•ä¸­" class="headerlink" title="3ã€åœ¨ä»»æ„åœ°æ–¹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°†è§£å‹è½¯ä»¶åå’Œpkgæ–‡ä»¶ä¸€åŒæ”¾å…¥åˆ°æ–°å»ºçš„ç›®å½•ä¸­"></a>3ã€åœ¨ä»»æ„åœ°æ–¹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°†è§£å‹è½¯ä»¶åå’Œpkgæ–‡ä»¶ä¸€åŒæ”¾å…¥åˆ°æ–°å»ºçš„ç›®å½•ä¸­</h5><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201211163529.png" alt="image-20201211163529049"></p><h5 id="4ã€è¿è¡Œè§£åŒ…ç¨‹åºï¼Œè·å¾—å£çº¸"><a href="#4ã€è¿è¡Œè§£åŒ…ç¨‹åºï¼Œè·å¾—å£çº¸" class="headerlink" title="4ã€è¿è¡Œè§£åŒ…ç¨‹åºï¼Œè·å¾—å£çº¸"></a>4ã€è¿è¡Œè§£åŒ…ç¨‹åºï¼Œè·å¾—å£çº¸</h5><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201211163923.png" alt="image-20201211163923592"></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201211164007.png" alt="image-20201211164007767"></p><blockquote><p>wallpaper engineå£çº¸å¦‚æœæ²¡æœ‰pkgæ–‡ä»¶çš„è¯ä¸ºè§†é¢‘å£çº¸ï¼Œæ— æ³•æå–ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Wallpaper Engine </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Typora + PicGo + Gitee å®ç°å…è´¹çš„å›¾åºŠ</title>
      <link href="posts/ae713651/"/>
      <url>posts/ae713651/</url>
      
        <content type="html"><![CDATA[<p>Typora + PicGo + Gitee å®ç°å…è´¹çš„å›¾åºŠï¼Œè®©typoraæ›´åŠ çš„é¡ºæ»‘ï¼</p><p>åœ¨æœ€å¼€å§‹ä½¿ç”¨Typoraå†™åšå®¢çš„æ—¶å€™ï¼Œæ˜¯çŸ¥é“æœ‰è¿™ä¸ªåŠŸèƒ½çš„ã€‚ç½‘ä¸Šçœ‹äº†ä¸€åœˆä¹‹åæ„Ÿè§‰æœ‰ç‚¹éº»çƒ¦å°±æ”¾å¼ƒäº†ï¼Œç›´åˆ°å‰å‡ å¤©å†™äº†ä¸€ç¯‡åŒ…å«å¤§é‡çš„å›¾æ–‡çš„åšæ–‡æ—¶ã€‚åœ¨æœ¬åœ°çœ‹è¿˜å¥½ï¼Œä¸Šä¼ åˆ°ç½‘ä¸Šå°±æ¯å…·äº†ã€‚äºæ˜¯åˆæƒ³èµ·äº†ä¹‹å‰çš„äº‹ï¼Œç¢ç£¨ä¸‹æ„Ÿè§‰å¼‚å¸¸çš„ç®€å•â€¦..</p><a id="more"></a><h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><h5 id="1ã€å®‰è£…Node-js"><a href="#1ã€å®‰è£…Node-js" class="headerlink" title="1ã€å®‰è£…Node.js"></a>1ã€å®‰è£…Node.js</h5><p>å®˜ç½‘ï¼š<a href="https://nodejs.org/zh-cn/">https://nodejs.org/zh-cn/</a></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201130152233.png" alt="image-20201130152232959"></p><h5 id="2ã€å®‰è£…PicGo"><a href="#2ã€å®‰è£…PicGo" class="headerlink" title="2ã€å®‰è£…PicGo"></a>2ã€å®‰è£…PicGo</h5><p>å®˜ç½‘ï¼š<a href="https://github.com/Molunerfinn/picgo/releases">https://github.com/Molunerfinn/picgo/releases</a></p><p>æœ€æ–°ç‰ˆç›®å‰æ˜¯2.3.0ï¼Œæˆ‘ä»¬é€‰æ‹©ç¨³å®šçš„2.2.2ç‰ˆå°±è¡Œäº†</p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201130153701.png" alt="image-20201130153701274"></p><h5 id="3ã€åœ¨giteeä¸Šæ–°å»ºä¸€ä¸ªä»“åº“å½“ä½œå›¾åºŠ"><a href="#3ã€åœ¨giteeä¸Šæ–°å»ºä¸€ä¸ªä»“åº“å½“ä½œå›¾åºŠ" class="headerlink" title="3ã€åœ¨giteeä¸Šæ–°å»ºä¸€ä¸ªä»“åº“å½“ä½œå›¾åºŠ"></a>3ã€åœ¨giteeä¸Šæ–°å»ºä¸€ä¸ªä»“åº“å½“ä½œå›¾åºŠ</h5><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201130155112.png" alt="image-20201130155112427"></p><h5 id="4ã€ç”ŸæˆToken"><a href="#4ã€ç”ŸæˆToken" class="headerlink" title="4ã€ç”ŸæˆToken"></a>4ã€ç”ŸæˆToken</h5><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201130155720.png" alt="image-20201130155720276"></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201130160337.png" alt="image-20201130160337336"></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201130160518.png" alt="image-20201130160518376"></p><h5 id="5ã€é…ç½®PicGo"><a href="#5ã€é…ç½®PicGo" class="headerlink" title="5ã€é…ç½®PicGo"></a>5ã€é…ç½®PicGo</h5><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201130160731.png" alt="image-20201130160731553"></p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201130161703.png" alt="image-20201130161703751"></p><h5 id="6ã€Typoraé…ç½®"><a href="#6ã€Typoraé…ç½®" class="headerlink" title="6ã€Typoraé…ç½®"></a>6ã€Typoraé…ç½®</h5><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201130162306.png" alt="image-20201130162306273"></p><h5 id="7ã€æµ‹è¯•"><a href="#7ã€æµ‹è¯•" class="headerlink" title="7ã€æµ‹è¯•"></a>7ã€æµ‹è¯•</h5><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201130162639.png" alt="image-20201130162639436"></p>]]></content>
      
      
      <categories>
          
          <category> åˆ†äº« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Typora </tag>
            
            <tag> PicGo </tag>
            
            <tag> å›¾åºŠ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Lombokä½¿ç”¨</title>
      <link href="posts/1a78bb16/"/>
      <url>posts/1a78bb16/</url>
      
        <content type="html"><![CDATA[<p>Lombokæ˜¯ä¸€ä¸ªjavaåº“ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨æ’å…¥ç¼–è¾‘å™¨å¹¶æ„å»ºå·¥å…·ï¼Œä¸ºjavaå¢è‰²ã€‚</p><p>æ°¸è¿œä¸è¦å†ç¼–å†™å¦ä¸€ä¸ªgetteræˆ–equalsæ–¹æ³•ï¼Œä½¿ç”¨ä¸€ä¸ªæ³¨é‡Šï¼Œæ‚¨çš„ç±»å°±æœ‰äº†ä¸€ä¸ªåŠŸèƒ½é½å…¨çš„æ„å»ºå™¨ï¼Œè‡ªåŠ¨åŒ–æ‚¨çš„æ—¥å¿—å˜é‡ï¼Œç­‰ç­‰ã€‚</p><a id="more"></a><ul><li><p>åŸºæœ¬ä½¿ç”¨</p><p>1ã€é¦–å…ˆæˆ‘ä»¬éœ€è¦å¯¼å…¥jaråŒ…</p><p><a href="https://repo1.maven.org/maven2/org/projectlombok/lombok/1.18.10/lombok-1.18.10.jar">ç‚¹å‡»ä¸‹è½½ jaråŒ…-1.18.10</a></p><pre><code>å¦‚æœä½¿ç”¨Mavenæ„å»ºé¡¹ç›®çš„è¯ï¼Œç›´æ¥å¯¼å…¥å°±OKäº†</code></pre><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- lombok --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2ã€æˆ‘ä»¬éœ€è¦å»ideaçš„æ’ä»¶å¸‚åœºä¸‹è½½lombokï¼Œå®‰è£…å®Œæˆé‡å¯ideaå³å¯</p><p><img src= "/img/loading.gif" data-lazy-src="https://gitee.com/quehua/blogimg/raw/master/img/20201211114318.png" alt="Lombok"></p></li><li><p>å¸¸ç”¨çš„æ³¨è§£åº”ç”¨åŠåŠŸèƒ½</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä½œç”¨ç±»ä¸Šï¼Œç”Ÿæˆæ‰€æœ‰æˆå‘˜å˜é‡çš„getter/setteræ–¹æ³•;</span></span><br><span class="line"><span class="comment">//ä½œç”¨äºæˆå‘˜å˜é‡ä¸Šï¼Œç”Ÿæˆè¯¥æˆå‘˜å˜é‡çš„getter/setteræ–¹æ³•ã€‚</span></span><br><span class="line"><span class="meta">@Getter</span> and <span class="meta">@Setter</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//ä¸»è¦ä½œç”¨äºæˆå‘˜å˜é‡å’Œå‚æ•°ä¸­ï¼Œæ ‡è¯†ä¸èƒ½ä¸ºç©ºï¼Œå¦åˆ™æŠ›å‡ºç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚    </span></span><br><span class="line"><span class="meta">@NonNull</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//ä½œç”¨äºç±»ï¼Œè¦†ç›–é»˜è®¤çš„toString()æ–¹æ³•</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//ä½œç”¨äºç±»ï¼Œè¦†ç›–é»˜è®¤çš„equalså’ŒhashCode</span></span><br><span class="line"><span class="meta">@EqualsAndHashCode</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//@AllArgsConstructor:ç”Ÿæˆå…¨å‚æ„é€ å™¨</span></span><br><span class="line"><span class="comment">//@NoArgsConstructor:ç”Ÿæˆæ— å‚æ„é€ å™¨</span></span><br><span class="line"><span class="comment">//@RequiredArgsConstructor:ç”ŸæˆåŒ…å«finalå’Œ@NonNullæ³¨è§£çš„æˆå‘˜å˜é‡çš„æ„é€ å™¨</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span>, <span class="meta">@RequiredArgsConstructor</span> and <span class="meta">@NoArgsConstructor</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//ä½œç”¨äºç±»ä¸Šï¼Œç”Ÿæˆæ—¥å¿—å˜é‡ã€‚é’ˆå¯¹ä¸åŒçš„æ—¥å¿—å®ç°äº§å“ï¼Œæœ‰ä¸åŒçš„æ³¨è§£</span></span><br><span class="line"><span class="meta">@Log</span>, <span class="meta">@Log4j</span>, <span class="meta">@Log4j2</span>, <span class="meta">@Slf4j</span>, <span class="meta">@XSlf4j</span>, <span class="meta">@CommonsLog</span>, <span class="meta">@JBossLog</span>, <span class="meta">@Flogger</span>, <span class="meta">@CustomLog</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//ä½œç”¨äºç±»ä¸Šï¼Œæ˜¯ä»¥ä¸‹æ³¨è§£çš„é›†åˆï¼š@ToString @EqualsAndHashCode @Getter</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//ä½œç”¨äºç±»ä¸Šï¼Œå°†ç±»è½¬å˜ä¸ºå»ºé€ è€…æ¨¡å¼</span></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line">       </span><br><span class="line"><span class="comment">//å¯ä»¥å¯¹å—æ£€å¼‚å¸¸è¿›è¡Œæ•æ‰å¹¶æŠ›å‡º</span></span><br><span class="line"><span class="meta">@SneakyThrows</span></span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ’ä»¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Lombok </tag>
            
            <tag> Idea </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
